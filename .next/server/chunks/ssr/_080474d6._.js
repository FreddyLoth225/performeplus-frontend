module.exports=[76805,a=>{"use strict";var b=a.i(72131);a.i(63008);var c=a.i(84853),d=a.i(12882);let e=Math.cos,f=Math.sin,g=Math.sqrt,h=Math.PI,i=2*h;g(3);let j={draw(a,b){let c=g(b/h);a.moveTo(c,0),a.arc(0,0,c,0,i)}},k=g(1/3),l=2*k,m=f(h/10)/f(7*h/10),n=f(i/10)*m,o=-e(i/10)*m,p=g(3);g(3);let q=g(3)/2,r=1/g(12),s=(r/2+1)*3;var t=a.i(98621),u=a.i(68932),v=a.i(7038),w=["type","size","sizeType"];function x(){return(x=Object.assign.bind()).apply(null,arguments)}function y(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function z(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?y(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):y(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}var A={symbolCircle:j,symbolCross:{draw(a,b){let c=g(b/5)/2;a.moveTo(-3*c,-c),a.lineTo(-c,-c),a.lineTo(-c,-3*c),a.lineTo(c,-3*c),a.lineTo(c,-c),a.lineTo(3*c,-c),a.lineTo(3*c,c),a.lineTo(c,c),a.lineTo(c,3*c),a.lineTo(-c,3*c),a.lineTo(-c,c),a.lineTo(-3*c,c),a.closePath()}},symbolDiamond:{draw(a,b){let c=g(b/l),d=c*k;a.moveTo(0,-c),a.lineTo(d,0),a.lineTo(0,c),a.lineTo(-d,0),a.closePath()}},symbolSquare:{draw(a,b){let c=g(b),d=-c/2;a.rect(d,d,c,c)}},symbolStar:{draw(a,b){let c=g(.8908130915292852*b),d=n*c,h=o*c;a.moveTo(0,-c),a.lineTo(d,h);for(let b=1;b<5;++b){let g=i*b/5,j=e(g),k=f(g);a.lineTo(k*c,-j*c),a.lineTo(j*d-k*h,k*d+j*h)}a.closePath()}},symbolTriangle:{draw(a,b){let c=-g(b/(3*p));a.moveTo(0,2*c),a.lineTo(-p*c,-c),a.lineTo(p*c,-c),a.closePath()}},symbolWye:{draw(a,b){let c=g(b/s),d=c/2,e=c*r,f=c*r+c,h=-d;a.moveTo(d,e),a.lineTo(d,f),a.lineTo(h,f),a.lineTo(-.5*d-q*e,q*d+-.5*e),a.lineTo(-.5*d-q*f,q*d+-.5*f),a.lineTo(-.5*h-q*f,q*h+-.5*f),a.lineTo(-.5*d+q*e,-.5*e-q*d),a.lineTo(-.5*d+q*f,-.5*f-q*d),a.lineTo(-.5*h+q*f,-.5*f-q*h),a.closePath()}}},B=Math.PI/180,C=a=>{var{type:e="circle",size:f=64,sizeType:g="area"}=a,h=z(z({},function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,w)),{},{type:e,size:f,sizeType:g}),i="circle";"string"==typeof e&&(i=e);var{className:k,cx:l,cy:m}=h,n=(0,v.svgPropertiesAndEvents)(h);return l===+l&&m===+m&&f===+f?b.createElement("path",x({},n,{className:(0,t.clsx)("recharts-symbols",k),transform:"translate(".concat(l,", ").concat(m,")"),d:(()=>{var a,b=(a=i,A["symbol".concat((0,u.upperFirst)(a))]||j),e=(function(a,b){let e=null,f=(0,d.withPath)(g);function g(){let c;if(e||(e=c=f()),a.apply(this,arguments).draw(e,+b.apply(this,arguments)),c)return e=null,c+""||null}return a="function"==typeof a?a:(0,c.default)(a||j),b="function"==typeof b?b:(0,c.default)(void 0===b?64:+b),g.type=function(b){return arguments.length?(a="function"==typeof b?b:(0,c.default)(b),g):a},g.size=function(a){return arguments.length?(b="function"==typeof a?a:(0,c.default)(+a),g):b},g.context=function(a){return arguments.length?(e=null==a?null:a,g):e},g})().type(b).size(((a,b,c)=>{if("area"===b)return a;switch(c){case"cross":return 5*a*a/9;case"diamond":return .5*a*a/Math.sqrt(3);case"square":return a*a;case"star":var d=18*B;return 1.25*a*a*(Math.tan(d)-Math.tan(2*d)*Math.tan(d)**2);case"triangle":return Math.sqrt(3)*a*a/4;case"wye":return(21-10*Math.sqrt(3))*a*a/8;default:return Math.PI*a*a/4}})(f,g,i))();if(null!==e)return e})()})):null};C.registerSymbol=(a,b)=>{A["symbol".concat((0,u.upperFirst)(a))]=b},a.s(["Symbols",()=>C],76805)},24669,a=>{"use strict";let b=(0,a.i(70106).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],24669)},26484,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(57431),e=a.i(77924),f=a.i(18155),g=a.i(23665),h=a.i(58042),i=a.i(94222),j=a.i(54419),k=a.i(59854),l=a.i(48662),m=a.i(67149),n=a.i(3130),o=a.i(56711),p=a.i(50603);let q=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#84cc16","#f97316","#6366f1"];function r({chargeEquipeData:a,distributionRpe:r,indiceFormeMoyenData:s,isLoading:t}){let u=(0,c.useMemo)(()=>a.map(a=>({...a,dateFormatted:(0,o.format)(new Date(a.date),"dd MMM",{locale:p.fr})})),[a]),v=(0,c.useMemo)(()=>s.map(a=>({...a,dateFormatted:(0,o.format)(new Date(a.date),"dd MMM",{locale:p.fr})})),[s]),w=(0,c.useMemo)(()=>Object.entries(r).map(([a,b])=>({rpe:`RPE ${a}`,count:b,rpeValue:parseInt(a)})).sort((a,b)=>a.rpeValue-b.rpeValue),[r]);return t?(0,b.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:(0,b.jsx)(n.Card,{className:"lg:col-span-2",children:(0,b.jsx)(n.CardContent,{className:"h-80 flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-pulse text-slate-400",children:"Chargement..."})})})}):(0,b.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{children:[(0,b.jsx)(n.CardTitle,{className:"text-base sm:text-lg",children:"Charge Totale Équipe"}),(0,b.jsx)(n.CardDescription,{className:"text-xs sm:text-sm",children:"Charge d'entraînement quotidienne de l'équipe"})]}),(0,b.jsx)(n.CardContent,{children:0===u.length?(0,b.jsx)("div",{className:"h-64 flex items-center justify-center text-slate-500 text-sm",children:"Aucune donnée disponible"}):(0,b.jsx)(l.ResponsiveContainer,{width:"100%",height:280,children:(0,b.jsxs)(d.LineChart,{data:u,children:[(0,b.jsx)(j.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),(0,b.jsx)(h.XAxis,{dataKey:"dateFormatted",stroke:"#64748b",fontSize:12,tickLine:!1}),(0,b.jsx)(i.YAxis,{stroke:"#64748b",fontSize:12,tickLine:!1,label:{value:"Charge Totale",angle:-90,position:"insideLeft",fontSize:12}}),(0,b.jsx)(k.Tooltip,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},formatter:a=>[`${a.toFixed(0)} UA`,"Charge"]}),(0,b.jsx)(e.Line,{type:"monotone",dataKey:"charge",stroke:"#3b82f6",strokeWidth:3,dot:{r:5,fill:"#3b82f6"},activeDot:{r:7}})]})})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{children:[(0,b.jsx)(n.CardTitle,{className:"text-base sm:text-lg",children:"Distribution RPE"}),(0,b.jsx)(n.CardDescription,{className:"text-xs sm:text-sm",children:"Répartition des valeurs RPE saisies"})]}),(0,b.jsx)(n.CardContent,{children:0===w.length?(0,b.jsx)("div",{className:"h-64 flex items-center justify-center text-slate-500 text-sm",children:"Aucune donnée disponible"}):(0,b.jsx)(l.ResponsiveContainer,{width:"100%",height:250,children:(0,b.jsxs)(f.BarChart,{data:w,children:[(0,b.jsx)(j.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),(0,b.jsx)(h.XAxis,{dataKey:"rpe",stroke:"#64748b",fontSize:11,tickLine:!1,angle:-45,textAnchor:"end",height:60}),(0,b.jsx)(i.YAxis,{stroke:"#64748b",fontSize:12,tickLine:!1,label:{value:"Nombre",angle:-90,position:"insideLeft",fontSize:12}}),(0,b.jsx)(k.Tooltip,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},formatter:a=>[a,"Occurrences"]}),(0,b.jsx)(g.Bar,{dataKey:"count",radius:[8,8,0,0],children:w.map((a,c)=>(0,b.jsx)(m.Cell,{fill:q[c%q.length]},`cell-${c}`))})]})})})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{children:[(0,b.jsx)(n.CardTitle,{className:"text-base sm:text-lg",children:"Indice de Forme Moyen"}),(0,b.jsx)(n.CardDescription,{className:"text-xs sm:text-sm",children:"Évolution de la moyenne équipe"})]}),(0,b.jsx)(n.CardContent,{children:0===v.length?(0,b.jsx)("div",{className:"h-64 flex items-center justify-center text-slate-500 text-sm",children:"Aucune donnée disponible"}):(0,b.jsx)(l.ResponsiveContainer,{width:"100%",height:250,children:(0,b.jsxs)(d.LineChart,{data:v,children:[(0,b.jsx)(j.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),(0,b.jsx)(h.XAxis,{dataKey:"dateFormatted",stroke:"#64748b",fontSize:12,tickLine:!1}),(0,b.jsx)(i.YAxis,{stroke:"#64748b",fontSize:12,tickLine:!1,domain:[0,28],label:{value:"Score Moyen",angle:-90,position:"insideLeft",fontSize:12}}),(0,b.jsx)(k.Tooltip,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},formatter:a=>[a.toFixed(1),"Score"]}),(0,b.jsx)(e.Line,{type:"monotone",dataKey:"moyenne",stroke:"#10b981",strokeWidth:3,dot:{r:5,fill:"#10b981"},activeDot:{r:7}})]})})})]})]})]})}a.s(["TeamCharts",()=>r])},17544,64442,a=>{"use strict";var b=a.i(87924),c=a.i(95245),d=a.i(59501),e=a.i(54714),f=a.i(65733),g=a.i(40695),h=a.i(5522),i=a.i(17171),j=a.i(87682),k=a.i(33217),l=a.i(70025),m=a.i(37927),n=a.i(62477);let o={getPlayers:async a=>((await n.apiClient.get(`/equipes/${a}/joueurs/`)).data.joueurs||[]).map(a=>({...a,stats:{nombreSeances:a.statistiques.seances_effectuees,indiceForme:{actuel:a.indice_forme_actuel?.score||null},indicateurs:{rca:a.statistiques.rca_moyen,im:a.statistiques.im_moyen,ic:a.statistiques.ic_moyen}}})),getPlayer:async a=>(await n.apiClient.get(`/joueurs/${a}/`)).data,createPlayer:async a=>(await n.apiClient.post("/invitations/create/",{equipe_id:a.equipe_id,email:a.email,roleEquipe:"PLAYER",profil_joueur_prerempli:{dateNaissance:a.dateNaissance,dossard:a.dossard,poste:a.poste,piedFort:a.piedFort,poids:a.poids,taille:a.taille,nationalite:a.nationalite}})).data,updatePlayer:async(a,b)=>(await n.apiClient.patch(`/joueurs/${a}/`,b)).data,archivePlayer:async({profilId:a,motif:b,commentaire:c})=>(await n.apiClient.patch(`/joueurs/${a}/archive/`,{archive:!0,motif:b?.trim()||void 0,commentaire:c?.trim()||void 0})).data,reactivatePlayer:async({profilId:a,commentaire:b})=>(await n.apiClient.patch(`/joueurs/${a}/archive/`,{archive:!1,commentaire:b?.trim()||void 0})).data,async importPlayers(a){let b=new FormData;return b.append("file",a.file),(await n.apiClient.post(`/equipes/${a.equipe_id}/import-joueurs/`,b,{headers:{"Content-Type":"multipart/form-data"}})).data},getPlayerStats:async(a,b=30)=>(await n.apiClient.get("/stats/",{params:{joueur_id:a,periode:b}})).data,getPlayerIndicators:async a=>(await n.apiClient.get(`/indicateurs/${a}/`)).data};var p=a.i(23292);function q(a){return(0,k.useQuery)({queryKey:["players",a],queryFn:()=>o.getPlayers(a),enabled:!!a})}function r(a){return(0,k.useQuery)({queryKey:["player",a],queryFn:()=>o.getPlayer(a),enabled:!!a})}function s(a,b=30){return(0,k.useQuery)({queryKey:["player-stats",a,b],queryFn:()=>o.getPlayerStats(a,b),enabled:!!a})}function t(a){return(0,k.useQuery)({queryKey:["player-indicators",a],queryFn:()=>o.getPlayerIndicators(a),enabled:!!a})}function u(){let a=(0,m.useQueryClient)();return(0,l.useMutation)({mutationFn:a=>o.createPlayer(a),onSuccess:()=>{a.invalidateQueries({queryKey:["players"]}),p.toast.success("Invitation envoyée au joueur")},onError:a=>{let b=a.response?.data?.message||"Erreur lors de l'invitation";p.toast.error(b)}})}function v(){let a=(0,m.useQueryClient)();return(0,l.useMutation)({mutationFn:({profilId:a,data:b})=>o.updatePlayer(a,b),onSuccess:(b,c)=>{a.invalidateQueries({queryKey:["players"]}),a.invalidateQueries({queryKey:["player",c.profilId]}),a.invalidateQueries({queryKey:["player-stats",c.profilId]}),a.invalidateQueries({queryKey:["player-indicators",c.profilId]}),p.toast.success(b?.message??"Profil mis à jour")},onError:a=>{let b=a.response?.data?.message||"Erreur lors de la mise à jour";p.toast.error(b)}})}function w(){let a=(0,m.useQueryClient)();return(0,l.useMutation)({mutationFn:a=>o.archivePlayer(a),onSuccess:(b,c)=>{a.invalidateQueries({queryKey:["players"]}),a.invalidateQueries({queryKey:["player",c.profilId]}),a.invalidateQueries({queryKey:["player-stats",c.profilId]}),a.invalidateQueries({queryKey:["player-indicators",c.profilId]}),p.toast.success(b?.message??"Joueur archivé")},onError:a=>{let b=a.response?.data?.message||"Erreur lors de l'archivage";p.toast.error(b)}})}function x(){let a=(0,m.useQueryClient)();return(0,l.useMutation)({mutationFn:a=>o.reactivatePlayer(a),onSuccess:(b,c)=>{a.invalidateQueries({queryKey:["players"]}),a.invalidateQueries({queryKey:["player",c.profilId]}),a.invalidateQueries({queryKey:["player-stats",c.profilId]}),a.invalidateQueries({queryKey:["player-indicators",c.profilId]}),p.toast.success(b?.message??"Joueur réactivé")},onError:a=>{let b=a.response?.data?.message||"Erreur lors de la réactivation";p.toast.error(b)}})}function y(){let a=(0,m.useQueryClient)();return(0,l.useMutation)({mutationFn:a=>o.importPlayers(a),onSuccess:b=>{a.invalidateQueries({queryKey:["players"]});let{succes:c,echecs:d}=b;p.toast.success(`${c} joueur(s) import\xe9(s)${d>0?`, ${d} \xe9chec(s)`:""}`)},onError:a=>{let b=a.response?.data?.message||"Erreur lors de l'import";p.toast.error(b)}})}a.s(["useArchivePlayer",()=>w,"useCreatePlayer",()=>u,"useImportPlayers",()=>y,"usePlayer",()=>r,"usePlayerIndicators",()=>t,"usePlayerStats",()=>s,"usePlayers",()=>q,"useReactivatePlayer",()=>x,"useUpdatePlayer",()=>v],64442);var z=a.i(42550),A=a.i(96221);let B=e.object({email:e.string().email("Email invalide"),nom:e.string().min(2,"Nom requis"),prenoms:e.string().min(2,"Prénom requis"),dateNaissance:e.string().min(1,"Date de naissance requise"),dossard:e.string().min(1,"Dossard requis"),poste:e.enum(["GARDIEN","DEFENSEUR","MILIEU","ATTAQUANT"]),piedFort:e.enum(["GAUCHE","DROITE","AMBIDEXTRE"]).optional(),poids:e.string().optional(),taille:e.string().optional(),nationalite:e.string().optional()});function C({open:a,onOpenChange:e}){let{currentTeam:k}=(0,z.useTeamStore)(),l=u(),{register:m,handleSubmit:n,setValue:o,watch:p,reset:q,formState:{errors:r}}=(0,c.useForm)({resolver:(0,d.zodResolver)(B),defaultValues:{poste:"DEFENSEUR"}}),s=p("poste"),t=p("piedFort"),v=async a=>{k&&(await l.mutateAsync({equipe_id:k.id,email:a.email,nom:a.nom,prenoms:a.prenoms,dateNaissance:a.dateNaissance,dossard:parseInt(a.dossard),poste:a.poste,piedFort:a.piedFort,poids:a.poids?parseFloat(a.poids):void 0,taille:a.taille?parseInt(a.taille):void 0,nationalite:a.nationalite}),q(),e(!1))};return(0,b.jsx)(f.Dialog,{open:a,onOpenChange:e,children:(0,b.jsxs)(f.DialogContent,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)(f.DialogHeader,{children:[(0,b.jsx)(f.DialogTitle,{children:"Inviter un joueur"}),(0,b.jsx)(f.DialogDescription,{children:"Le joueur recevra un email d'invitation pour rejoindre l'équipe."})]}),(0,b.jsxs)("form",{onSubmit:n(v),className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-medium text-sm text-slate-700",children:"Informations de contact"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"email",children:"Email *"}),(0,b.jsx)(h.Input,{id:"email",type:"email",...m("email"),placeholder:"joueur@example.com"}),r.email&&(0,b.jsx)("p",{className:"text-sm text-red-600",children:r.email.message})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"nom",children:"Nom *"}),(0,b.jsx)(h.Input,{id:"nom",...m("nom")}),r.nom&&(0,b.jsx)("p",{className:"text-sm text-red-600",children:r.nom.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"prenoms",children:"Prénoms *"}),(0,b.jsx)(h.Input,{id:"prenoms",...m("prenoms")}),r.prenoms&&(0,b.jsx)("p",{className:"text-sm text-red-600",children:r.prenoms.message})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-medium text-sm text-slate-700",children:"Informations sportives"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"dossard",children:"Dossard *"}),(0,b.jsx)(h.Input,{id:"dossard",type:"number",min:"1",max:"99",...m("dossard")}),r.dossard&&(0,b.jsx)("p",{className:"text-sm text-red-600",children:r.dossard.message})]}),(0,b.jsxs)("div",{className:"space-y-2 col-span-2",children:[(0,b.jsx)(i.Label,{htmlFor:"poste",children:"Poste *"}),(0,b.jsxs)(j.Select,{value:s,onValueChange:a=>o("poste",a),children:[(0,b.jsx)(j.SelectTrigger,{children:(0,b.jsx)(j.SelectValue,{})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"GARDIEN",children:"Gardien"}),(0,b.jsx)(j.SelectItem,{value:"DEFENSEUR",children:"Défenseur"}),(0,b.jsx)(j.SelectItem,{value:"MILIEU",children:"Milieu"}),(0,b.jsx)(j.SelectItem,{value:"ATTAQUANT",children:"Attaquant"})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"dateNaissance",children:"Date de naissance *"}),(0,b.jsx)(h.Input,{id:"dateNaissance",type:"date",...m("dateNaissance")}),r.dateNaissance&&(0,b.jsx)("p",{className:"text-sm text-red-600",children:r.dateNaissance.message})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-medium text-sm text-slate-700",children:"Informations physiques (optionnel)"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"piedFort",children:"Pied fort"}),(0,b.jsxs)(j.Select,{value:t,onValueChange:a=>o("piedFort",a),children:[(0,b.jsx)(j.SelectTrigger,{children:(0,b.jsx)(j.SelectValue,{placeholder:"Sélectionner"})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"GAUCHE",children:"Gauche"}),(0,b.jsx)(j.SelectItem,{value:"DROITE",children:"Droite"}),(0,b.jsx)(j.SelectItem,{value:"AMBIDEXTRE",children:"Ambidextre"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"poids",children:"Poids (kg)"}),(0,b.jsx)(h.Input,{id:"poids",type:"number",step:"0.1",...m("poids")})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"taille",children:"Taille (cm)"}),(0,b.jsx)(h.Input,{id:"taille",type:"number",...m("taille")})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"nationalite",children:"Nationalité"}),(0,b.jsx)(h.Input,{id:"nationalite",...m("nationalite")})]})]})]}),(0,b.jsxs)(f.DialogFooter,{children:[(0,b.jsx)(g.Button,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:l.isPending,children:"Annuler"}),(0,b.jsxs)(g.Button,{type:"submit",disabled:l.isPending,children:[l.isPending&&(0,b.jsx)(A.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoyer l'invitation"]})]})]})]})})}a.s(["InvitePlayerDialog",()=>C],17544)},91433,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(77421),f=a.i(56711),g=a.i(50603),h=a.i(42550),i=a.i(17249),j=a.i(23968),k=a.i(17544),l=a.i(2230),m=a.i(26484),n=a.i(3130),o=a.i(40695),p=a.i(60246),q=a.i(41675),r=a.i(23312),s=a.i(21161),t=a.i(24669),u=a.i(15618),v=a.i(96221),w=a.i(23292);function x(){let{currentTeam:a}=(0,h.useTeamStore)(),{data:x}=(0,i.useDashboardStaff)(a?.id),y=(0,d.useRouter)(),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(!1),D=()=>!!a?.id||(w.toast.error("Veuillez sélectionner une équipe pour continuer."),!1),E=(0,c.useMemo)(()=>{if(!a?.id)return;let b=new Date;return{date_debut:b.toISOString(),date_fin:(0,e.addDays)(b,14).toISOString()}},[a?.id]),{data:F,isLoading:G}=(0,j.useSessions)(a?.id||"",E),H=(0,c.useMemo)(()=>F?[...F].filter(a=>new Date(a.dateDebut)>=new Date).sort((a,b)=>new Date(a.dateDebut).getTime()-new Date(b.dateDebut).getTime()).slice(0,5):[],[F]),I=x?.alertes.alertes_urgentes||[],J="number"==typeof x?.equipe.joueurs_actifs?x.equipe.joueurs_actifs:null,K="number"==typeof x?.alertes.total?x.alertes.total:null,L="number"==typeof x?.kpis.taux_saisie_rpe?Math.round(x.kpis.taux_saisie_rpe):null,M="number"==typeof x?.kpis.taux_saisie_indice?Math.round(x.kpis.taux_saisie_indice):null,N="number"==typeof x?.kpis.charge_totale_periode?Math.round(x.kpis.charge_totale_periode):null;return(0,b.jsxs)("div",{className:"p-8 space-y-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Tableau de bord Propriétaire"}),(0,b.jsx)("p",{className:"text-slate-600 mt-1",children:a?.nom})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)(o.Button,{variant:"outline",onClick:()=>{D()&&y.push("/dashboard/settings")},children:[(0,b.jsx)(s.Settings,{className:"mr-2 h-4 w-4"}),"Paramètres"]}),(0,b.jsxs)(o.Button,{onClick:()=>{D()&&C(!0)},children:[(0,b.jsx)(u.Plus,{className:"mr-2 h-4 w-4"}),"Nouvelle Séance"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(n.CardTitle,{className:"text-sm font-medium text-slate-600",children:"Joueurs Actifs"}),(0,b.jsx)(p.Users,{className:"h-4 w-4 text-slate-600"})]}),(0,b.jsxs)(n.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:null!=J?J:"--"}),(0,b.jsx)("p",{className:"text-xs text-slate-600 mt-1",children:"Dans l'équipe"})]})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(n.CardTitle,{className:"text-sm font-medium text-slate-600",children:"Séances (7j)"}),(0,b.jsx)(q.Calendar,{className:"h-4 w-4 text-slate-600"})]}),(0,b.jsxs)(n.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:"number"==typeof x?.kpis.seances_semaine?x.kpis.seances_semaine:"--"}),(0,b.jsx)("p",{className:"text-xs text-slate-600 mt-1",children:"Activité hebdomadaire"})]})]}),(0,b.jsxs)(n.Card,{className:K?"border-warning":"",children:[(0,b.jsxs)(n.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(n.CardTitle,{className:"text-sm font-medium text-slate-600",children:"Alertes"}),(0,b.jsx)(r.Bell,{className:"h-4 w-4 text-warning"})]}),(0,b.jsxs)(n.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-warning",children:null!=K?K:"--"}),(0,b.jsx)("p",{className:"text-xs text-slate-600 mt-1",children:"Alertes actives"})]})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,b.jsx)(n.CardTitle,{className:"text-sm font-medium text-slate-600",children:"Taux de saisie RPE"}),(0,b.jsx)(t.TrendingUp,{className:"h-4 w-4 text-slate-600"})]}),(0,b.jsxs)(n.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:null!=L?`${L}%`:"--"}),(0,b.jsx)("p",{className:"text-xs text-slate-600 mt-1",children:"Derniers 7 jours"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)(n.Card,{className:"lg:col-span-2",children:[(0,b.jsxs)(n.CardHeader,{children:[(0,b.jsx)(n.CardTitle,{children:"Gestion de l'Équipe"}),(0,b.jsx)(n.CardDescription,{children:"Vue d'ensemble et actions rapides"})]}),(0,b.jsx)(n.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)(o.Button,{className:"h-20 flex flex-col gap-2",variant:"outline",onClick:()=>{D()&&A(!0)},children:[(0,b.jsx)(p.Users,{className:"h-6 w-6"}),(0,b.jsx)("span",{children:"Inviter Joueurs"})]}),(0,b.jsxs)(o.Button,{className:"h-20 flex flex-col gap-2",variant:"outline",onClick:()=>{D()&&C(!0)},children:[(0,b.jsx)(q.Calendar,{className:"h-6 w-6"}),(0,b.jsx)("span",{children:"Planifier Séance"})]}),(0,b.jsxs)(o.Button,{className:"h-20 flex flex-col gap-2",variant:"outline",onClick:()=>{D()&&y.push("/dashboard/players")},children:[(0,b.jsx)(p.Users,{className:"h-6 w-6"}),(0,b.jsx)("span",{children:"Voir Joueurs"})]}),(0,b.jsxs)(o.Button,{className:"h-20 flex flex-col gap-2",variant:"outline",onClick:()=>{D()&&y.push("/dashboard/settings?tab=thresholds")},children:[(0,b.jsx)(s.Settings,{className:"h-6 w-6"}),(0,b.jsx)("span",{children:"Configurer Seuils"})]})]})})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsx)(n.CardHeader,{children:(0,b.jsx)(n.CardTitle,{children:"Activité Récente"})}),(0,b.jsxs)(n.CardContent,{className:"space-y-3 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-600",children:"Charge totale (7j)"}),(0,b.jsx)("span",{className:"font-medium",children:null!=N?`${N} UA`:"--"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-600",children:"Taux saisie indice"}),(0,b.jsx)("span",{className:"font-medium",children:null!=M?`${M}%`:"--"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-slate-600",children:"Alertes critiques"}),(0,b.jsx)("span",{className:"font-medium",children:"number"==typeof x?.alertes.critiques?x.alertes.critiques:"--"})]})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{children:[(0,b.jsx)(n.CardTitle,{children:"Alertes Critiques"}),(0,b.jsx)(n.CardDescription,{children:"Nécessitent votre attention"})]}),(0,b.jsx)(n.CardContent,{children:I.length>0?(0,b.jsx)("div",{className:"space-y-4",children:I.map(a=>(0,b.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("p",{className:"font-medium text-slate-900",children:a.message}),(0,b.jsx)("span",{className:"text-xs uppercase text-warning",children:a.niveau})]}),(0,b.jsxs)("div",{className:"text-xs text-slate-600 flex items-center justify-between mt-1",children:[(0,b.jsx)("span",{children:a.joueur||"Équipe entière"}),(0,b.jsx)("span",{children:(0,f.format)(new Date(a.date),"PPP p",{locale:g.fr})})]})]},a.id))}):(0,b.jsxs)("div",{className:"text-center py-8 text-slate-500",children:[(0,b.jsx)(r.Bell,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),(0,b.jsx)("p",{children:"Aucune alerte critique"})]})})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{children:[(0,b.jsx)(n.CardTitle,{children:"Prochaines Échéances"}),(0,b.jsx)(n.CardDescription,{children:"Séances et événements à venir"})]}),(0,b.jsx)(n.CardContent,{children:G?(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)(v.Loader2,{className:"h-6 w-6 animate-spin text-primary"})}):H.length>0?(0,b.jsx)("div",{className:"space-y-4",children:H.map(a=>(0,b.jsx)("div",{className:"border rounded-lg p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-slate-900",children:a.type}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:(0,f.format)(new Date(a.dateDebut),"PPP p",{locale:g.fr})})]}),(0,b.jsx)("span",{className:"text-sm text-slate-500",children:a.lieu||"Lieu à confirmer"})]})},a.id))}):(0,b.jsxs)("div",{className:"text-center py-8 text-slate-500",children:[(0,b.jsx)(q.Calendar,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),(0,b.jsx)("p",{children:"Aucune échéance"}),(0,b.jsxs)(o.Button,{className:"mt-4",variant:"outline",onClick:()=>{D()&&C(!0)},children:[(0,b.jsx)(u.Plus,{className:"mr-2 h-4 w-4"}),"Créer une séance"]})]})})]})]}),x?.graphiques&&(0,b.jsx)(m.TeamCharts,{chargeEquipeData:x.graphiques.charge_equipe||[],distributionRpe:x.graphiques.distribution_rpe||{},indiceFormeMoyenData:x.graphiques.indice_forme_moyen||[]}),(0,b.jsx)(k.InvitePlayerDialog,{open:z,onOpenChange:A}),(0,b.jsx)(l.CreateSessionDialog,{open:B,onOpenChange:C})]})}a.s(["default",()=>x])}];

//# sourceMappingURL=_080474d6._.js.map