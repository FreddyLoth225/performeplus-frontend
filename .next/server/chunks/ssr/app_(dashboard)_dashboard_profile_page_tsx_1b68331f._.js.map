{"version":3,"sources":["turbopack:///[project]/lib/validators/profile.schemas.ts","turbopack:///[project]/lib/api/profile.service.ts","turbopack:///[project]/app/(dashboard)/dashboard/profile/page.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/shield-check.ts"],"sourcesContent":["import { z } from 'zod'\r\n\r\nconst phoneRegex = /^\\+?1?\\d{9,15}$/\r\nconst passwordPolicy = /^(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/\r\n\r\nconst optionalNameField = (max: number, message: string) =>\r\n\tz.union([z.string().max(max, message), z.literal('')]).optional()\r\n\r\nconst optionalPhoneField = z\r\n\t.union([\r\n\t\tz.string().regex(phoneRegex, 'Format de téléphone invalide'),\r\n\t\tz.literal(''),\r\n\t])\r\n\t.optional()\r\n\r\nexport const profileInfoSchema = z.object({\r\n\tnom: optionalNameField(50, '50 caractères maximum'),\r\n\tprenoms: optionalNameField(100, '100 caractères maximum'),\r\n\ttelephone: optionalPhoneField,\r\n\twhatsapp: optionalPhoneField,\r\n\tlangue: z.enum(['fr', 'en', 'pt', 'ar', 'es', 'sw']),\r\n\tfuseau_horaire: z.string().min(1, 'Fuseau horaire requis'),\r\n})\r\n\r\nexport type ProfileInfoFormValues = z.infer<typeof profileInfoSchema>\r\n\r\nexport const passwordUpdateSchema = z\r\n\t.object({\r\n\t\told_password: z.string().min(1, 'Ancien mot de passe requis'),\r\n\t\tpassword: z\r\n\t\t\t.string()\r\n\t\t\t.min(8, 'Au moins 8 caractères')\r\n\t\t\t.regex(\r\n\t\t\t\tpasswordPolicy,\r\n\t\t\t\t'Inclure une majuscule, un chiffre et un caractère spécial'\r\n\t\t\t),\r\n\t\tconfirm_password: z.string().min(1, 'Confirmation requise'),\r\n\t})\r\n\t.refine((data) => data.password === data.confirm_password, {\r\n\t\tmessage: 'Les mots de passe ne correspondent pas',\r\n\t\tpath: ['confirm_password'],\r\n\t})\r\n\r\nexport type PasswordUpdateFormValues = z.infer<typeof passwordUpdateSchema>\r\n\r\nexport const emailChangeSchema = z.object({\r\n\tnew_email: z.string().email('Email invalide'),\r\n\tpassword: z.string().min(1, 'Mot de passe requis'),\r\n})\r\n\r\nexport type EmailChangeFormValues = z.infer<typeof emailChangeSchema>\r\n","import { apiClient } from './client'\r\nimport { Utilisateur } from '@/lib/types'\r\n\r\nexport interface UpdateProfilePayload {\r\n  nom?: string\r\n  prenoms?: string\r\n  telephone?: string | null\r\n  whatsapp?: string | null\r\n  langue?: string\r\n  fuseau_horaire?: string\r\n  deuxFacteursActif?: boolean\r\n  password?: string\r\n  old_password?: string\r\n  photo?: File | null\r\n  remove_photo?: boolean\r\n}\r\n\r\nexport interface ProfileUpdateResponse {\r\n  message: string\r\n  profil: Utilisateur\r\n}\r\n\r\nexport interface EmailChangePayload {\r\n  new_email: string\r\n  password: string\r\n}\r\n\r\nfunction normaliseValue(value: unknown) {\r\n  if (value === null) {\r\n    return ''\r\n  }\r\n  return value\r\n}\r\n\r\nexport const profileService = {\r\n  async updateProfile(payload: UpdateProfilePayload): Promise<ProfileUpdateResponse> {\r\n    const { photo, remove_photo, ...rest } = payload\r\n    const serialisable: Record<string, any> = {}\r\n\r\n    Object.entries(rest).forEach(([key, value]) => {\r\n      if (value !== undefined) {\r\n        serialisable[key] = normaliseValue(value)\r\n      }\r\n    })\r\n\r\n    if (remove_photo !== undefined) {\r\n      serialisable.remove_photo = remove_photo\r\n    }\r\n\r\n    if (photo instanceof File) {\r\n      const formData = new FormData()\r\n      formData.append('photo', photo)\r\n      Object.entries(serialisable).forEach(([key, value]) => {\r\n        if (value === undefined) {\r\n          return\r\n        }\r\n        if (value === null) {\r\n          formData.append(key, '')\r\n          return\r\n        }\r\n        formData.append(key, typeof value === 'boolean' ? String(value) : (value as string))\r\n      })\r\n\r\n      const response = await apiClient.patch('/profil/', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      })\r\n      return response.data\r\n    }\r\n\r\n    const response = await apiClient.patch('/profil/', serialisable)\r\n    return response.data\r\n  },\r\n\r\n  async requestEmailChange(payload: EmailChangePayload): Promise<{ message: string }> {\r\n    const response = await apiClient.post('/change-email/request/', payload)\r\n    return response.data\r\n  },\r\n}\r\n","'use client'\r\n\r\nimport { useEffect, useMemo, useRef, useState } from 'react'\r\nimport { useForm, Controller } from 'react-hook-form'\r\nimport { zodResolver } from '@hookform/resolvers/zod'\r\nimport { useMutation, useQueryClient } from '@tanstack/react-query'\r\nimport { toast } from 'sonner'\r\nimport { AxiosError } from 'axios'\r\nimport {\r\n  profileInfoSchema,\r\n  passwordUpdateSchema,\r\n  emailChangeSchema,\r\n  type ProfileInfoFormValues,\r\n  type PasswordUpdateFormValues,\r\n  type EmailChangeFormValues,\r\n} from '@/lib/validators/profile.schemas'\r\nimport { profileService, type UpdateProfilePayload } from '@/lib/api/profile.service'\r\nimport { useAuthStore } from '@/lib/store/auth-store'\r\nimport { RolePlateforme } from '@/lib/types'\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardDescription,\r\n  CardHeader,\r\n  CardTitle,\r\n} from '@/components/ui/card'\r\nimport { Label } from '@/components/ui/label'\r\nimport { Input } from '@/components/ui/input'\r\nimport { Button } from '@/components/ui/button'\r\nimport { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar'\r\nimport { Badge } from '@/components/ui/badge'\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select'\r\nimport { Checkbox } from '@/components/ui/checkbox'\r\nimport { Loader2, Upload, Trash2, ShieldCheck, Mail } from 'lucide-react'\r\n\r\nconst languageOptions = [\r\n  { value: 'fr', label: 'Français' },\r\n  { value: 'en', label: 'Anglais' },\r\n  { value: 'pt', label: 'Portugais' },\r\n  { value: 'ar', label: 'Arabe' },\r\n  { value: 'es', label: 'Espagnol' },\r\n  { value: 'sw', label: 'Swahili' },\r\n]\r\n\r\nconst roleLabels: Record<RolePlateforme, string> = {\r\n  NORMAL: 'Utilisateur',\r\n  AGENT_PP: 'Agent PP',\r\n  DIRECTEUR_PP: 'Directeur PP',\r\n}\r\n\r\nconst fallbackTimezones = [\r\n  'UTC',\r\n  'Africa/Abidjan',\r\n  'Africa/Dakar',\r\n  'Africa/Algiers',\r\n  'Europe/Paris',\r\n  'Europe/London',\r\n  'America/New_York',\r\n  'America/Los_Angeles',\r\n  'America/Sao_Paulo',\r\n  'Asia/Dubai',\r\n  'Asia/Tokyo',\r\n]\r\n\r\nfunction extractErrorMessage(error: unknown): string {\r\n  const err = error as AxiosError<any>\r\n  const data = err?.response?.data\r\n  if (!data) {\r\n    return \"Une erreur est survenue\"\r\n  }\r\n  if (typeof data === 'string') {\r\n    return data\r\n  }\r\n  if (data.message) {\r\n    return data.message\r\n  }\r\n  if (data.detail) {\r\n    return data.detail\r\n  }\r\n  if (Array.isArray(data.non_field_errors) && data.non_field_errors.length) {\r\n    return data.non_field_errors[0]\r\n  }\r\n  const firstKey = Object.keys(data)[0]\r\n  if (firstKey && Array.isArray(data[firstKey]) && data[firstKey].length) {\r\n    return data[firstKey][0]\r\n  }\r\n  return \"Une erreur est survenue\"\r\n}\r\n\r\nexport default function ProfilePage() {\r\n  const { user, setUser } = useAuthStore()\r\n  const queryClient = useQueryClient()\r\n  const fileInputRef = useRef<HTMLInputElement>(null)\r\n  const [photoPreview, setPhotoPreview] = useState<string | null>(null)\r\n  const [photoFile, setPhotoFile] = useState<File | null>(null)\r\n  const [removePhoto, setRemovePhoto] = useState(false)\r\n  const [timezones, setTimezones] = useState<string[]>(fallbackTimezones)\r\n\r\n  const infoForm = useForm<ProfileInfoFormValues>({\r\n    resolver: zodResolver(profileInfoSchema),\r\n    defaultValues: {\r\n      nom: '',\r\n      prenoms: '',\r\n      telephone: '',\r\n      whatsapp: '',\r\n      langue: 'fr',\r\n      fuseau_horaire: 'UTC',\r\n    },\r\n  })\r\n\r\n  const passwordForm = useForm<PasswordUpdateFormValues>({\r\n    resolver: zodResolver(passwordUpdateSchema),\r\n    defaultValues: {\r\n      old_password: '',\r\n      password: '',\r\n      confirm_password: '',\r\n    },\r\n  })\r\n\r\n  const emailForm = useForm<EmailChangeFormValues>({\r\n    resolver: zodResolver(emailChangeSchema),\r\n    defaultValues: {\r\n      new_email: '',\r\n      password: '',\r\n    },\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined' && typeof (Intl as any).supportedValuesOf === 'function') {\r\n      const supported = ((Intl as any).supportedValuesOf('timeZone') as string[]).slice().sort()\r\n      setTimezones(supported)\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      const defaultLangue = languageOptions.some((option) => option.value === user.langue)\r\n        ? (user.langue as ProfileInfoFormValues['langue'])\r\n        : 'fr'\r\n      const defaultTimezone = user.fuseau_horaire || 'UTC'\r\n      infoForm.reset({\r\n        nom: user.nom || '',\r\n        prenoms: user.prenoms || '',\r\n        telephone: user.telephone || '',\r\n        whatsapp: user.whatsapp || '',\r\n        langue: defaultLangue,\r\n        fuseau_horaire: defaultTimezone,\r\n      })\r\n      setPhotoPreview(user.photo ?? null)\r\n      setPhotoFile(null)\r\n      setRemovePhoto(false)\r\n    }\r\n  }, [user, infoForm])\r\n\r\n  useEffect(() => {\r\n    if (user?.fuseau_horaire) {\r\n      setTimezones((current) =>\r\n        current.includes(user.fuseau_horaire)\r\n          ? current\r\n          : [user.fuseau_horaire, ...current]\r\n      )\r\n    }\r\n  }, [user?.fuseau_horaire])\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (photoPreview && photoPreview.startsWith('blob:')) {\r\n        URL.revokeObjectURL(photoPreview)\r\n      }\r\n    }\r\n  }, [photoPreview])\r\n\r\n  const handleProfileSuccess = (data: Awaited<ReturnType<typeof profileService.updateProfile>>) => {\r\n    setUser(data.profil)\r\n    queryClient.setQueryData(['current-user'], data.profil)\r\n    toast.success(data.message)\r\n  }\r\n\r\n  const updateInfoMutation = useMutation({\r\n    mutationFn: (payload: UpdateProfilePayload) => profileService.updateProfile(payload),\r\n    onSuccess: (data) => {\r\n      handleProfileSuccess(data)\r\n      if (photoPreview && photoPreview.startsWith('blob:')) {\r\n        URL.revokeObjectURL(photoPreview)\r\n      }\r\n      setPhotoFile(null)\r\n      setRemovePhoto(false)\r\n      setPhotoPreview(data.profil.photo ?? null)\r\n    },\r\n    onError: (error) => {\r\n      toast.error(extractErrorMessage(error))\r\n    },\r\n  })\r\n\r\n  const passwordMutation = useMutation({\r\n    mutationFn: (payload: UpdateProfilePayload) => profileService.updateProfile(payload),\r\n    onSuccess: (data) => {\r\n      handleProfileSuccess(data)\r\n      passwordForm.reset()\r\n    },\r\n    onError: (error) => {\r\n      toast.error(extractErrorMessage(error))\r\n    },\r\n  })\r\n\r\n  const twoFactorMutation = useMutation({\r\n    mutationFn: (payload: UpdateProfilePayload) => profileService.updateProfile(payload),\r\n    onSuccess: (data) => {\r\n      handleProfileSuccess(data)\r\n    },\r\n    onError: (error) => {\r\n      toast.error(extractErrorMessage(error))\r\n    },\r\n  })\r\n\r\n  const emailMutation = useMutation({\r\n    mutationFn: profileService.requestEmailChange,\r\n    onSuccess: (data) => {\r\n      toast.success(data.message)\r\n      emailForm.reset()\r\n    },\r\n    onError: (error) => {\r\n      toast.error(extractErrorMessage(error))\r\n    },\r\n  })\r\n\r\n  const handlePhotoSelection = (file: File | undefined) => {\r\n    if (!file) {\r\n      return\r\n    }\r\n    if (file.size > 5 * 1024 * 1024) {\r\n      toast.error('La photo ne doit pas dépasser 5MB')\r\n      return\r\n    }\r\n    if (!['image/jpeg', 'image/png', 'image/webp'].includes(file.type)) {\r\n      toast.error('Formats acceptés : JPG, PNG ou WEBP')\r\n      return\r\n    }\r\n    setPhotoPreview((prev) => {\r\n      if (prev && prev.startsWith('blob:')) {\r\n        URL.revokeObjectURL(prev)\r\n      }\r\n      return URL.createObjectURL(file)\r\n    })\r\n    setPhotoFile(file)\r\n    setRemovePhoto(false)\r\n  }\r\n\r\n  const handleRemovePhoto = () => {\r\n    if (photoPreview && photoPreview.startsWith('blob:')) {\r\n      URL.revokeObjectURL(photoPreview)\r\n    }\r\n    setPhotoPreview(null)\r\n    setPhotoFile(null)\r\n    setRemovePhoto(true)\r\n  }\r\n\r\n  const onSubmitInfo = (values: ProfileInfoFormValues) => {\r\n    updateInfoMutation.mutate({\r\n      nom: values.nom?.trim() ?? '',\r\n      prenoms: values.prenoms?.trim() ?? '',\r\n      telephone: values.telephone?.trim() ?? '',\r\n      whatsapp: values.whatsapp?.trim() ?? '',\r\n      langue: values.langue,\r\n      fuseau_horaire: values.fuseau_horaire,\r\n      photo: photoFile ?? undefined,\r\n      remove_photo: removePhoto ? true : undefined,\r\n    })\r\n  }\r\n\r\n  const onSubmitPassword = (values: PasswordUpdateFormValues) => {\r\n    passwordMutation.mutate({\r\n      old_password: values.old_password,\r\n      password: values.password,\r\n    })\r\n  }\r\n\r\n  const onSubmitEmail = (values: EmailChangeFormValues) => {\r\n    emailMutation.mutate(values)\r\n  }\r\n\r\n  const handleTwoFactorToggle = (enabled: boolean) => {\r\n    if (!user) {\r\n      return\r\n    }\r\n    const shouldEnable = enabled\r\n    const twoFactorRequired =\r\n      user.rolePlateforme === RolePlateforme.AGENT_PP ||\r\n      user.rolePlateforme === RolePlateforme.DIRECTEUR_PP\r\n    if (!shouldEnable && twoFactorRequired) {\r\n      toast.info('La double authentification est obligatoire pour votre rôle')\r\n      return\r\n    }\r\n    twoFactorMutation.mutate({ deuxFacteursActif: shouldEnable })\r\n  }\r\n\r\n  const initials = useMemo(() => {\r\n    if (!user) {\r\n      return '??'\r\n    }\r\n    const first = (user.prenoms || '').charAt(0)\r\n    const last = (user.nom || '').charAt(0)\r\n    const pair = `${first}${last}`.trim().toUpperCase()\r\n    return pair || '??'\r\n  }, [user])\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"flex min-h-[60vh] items-center justify-center\">\r\n        <Loader2 className=\"h-6 w-6 animate-spin text-primary\" />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  const infoErrors = infoForm.formState.errors\r\n  const passwordErrors = passwordForm.formState.errors\r\n  const emailErrors = emailForm.formState.errors\r\n\r\n  return (\r\n    <div className=\"p-8 space-y-6\">\r\n      <div className=\"space-y-2\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <h1 className=\"text-3xl font-bold text-slate-900\">Mon profil</h1>\r\n          <Badge variant=\"secondary\">{roleLabels[user.rolePlateforme]}</Badge>\r\n        </div>\r\n        <p className=\"text-slate-600\">\r\n          Mettez à jour vos informations personnelles, vos préférences et la sécurité du compte.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"grid gap-6 max-w-4xl\">\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Informations générales</CardTitle>\r\n            <CardDescription>\r\n              Photo, identité et coordonnées visibles sur la plateforme.\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <form onSubmit={infoForm.handleSubmit(onSubmitInfo)} className=\"space-y-6\">\r\n              <div className=\"flex flex-wrap items-center gap-4\">\r\n                <Avatar className=\"h-20 w-20\">\r\n                  <AvatarImage src={photoPreview ?? undefined} alt=\"Photo de profil\" />\r\n                  <AvatarFallback>{initials}</AvatarFallback>\r\n                </Avatar>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    onClick={() => fileInputRef.current?.click()}\r\n                    disabled={updateInfoMutation.isPending}\r\n                  >\r\n                    <Upload className=\"h-4 w-4 mr-2\" />\r\n                    Changer la photo\r\n                  </Button>\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"ghost\"\r\n                    onClick={handleRemovePhoto}\r\n                    disabled={updateInfoMutation.isPending || (!photoPreview && !photoFile)}\r\n                  >\r\n                    <Trash2 className=\"h-4 w-4 mr-2\" />\r\n                    Supprimer\r\n                  </Button>\r\n                  <input\r\n                    ref={fileInputRef}\r\n                    type=\"file\"\r\n                    accept=\"image/png,image/jpeg,image/webp\"\r\n                    className=\"hidden\"\r\n                    onChange={(event) => handlePhotoSelection(event.target.files?.[0])}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid gap-4 md:grid-cols-2\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"prenoms\">Prénoms</Label>\r\n                  <Input id=\"prenoms\" {...infoForm.register('prenoms')} />\r\n                  {infoErrors.prenoms && (\r\n                    <p className=\"text-sm text-danger\">{infoErrors.prenoms.message}</p>\r\n                  )}\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"nom\">Nom</Label>\r\n                  <Input id=\"nom\" {...infoForm.register('nom')} />\r\n                  {infoErrors.nom && (\r\n                    <p className=\"text-sm text-danger\">{infoErrors.nom.message}</p>\r\n                  )}\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"telephone\">Téléphone</Label>\r\n                  <Input\r\n                    id=\"telephone\"\r\n                    placeholder=\"Ex: +221770000000\"\r\n                    {...infoForm.register('telephone')}\r\n                  />\r\n                  {infoErrors.telephone && (\r\n                    <p className=\"text-sm text-danger\">{infoErrors.telephone.message}</p>\r\n                  )}\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"whatsapp\">Numéro WhatsApp</Label>\r\n                  <Input\r\n                    id=\"whatsapp\"\r\n                    placeholder=\"Ex: +221770000000\"\r\n                    {...infoForm.register('whatsapp')}\r\n                  />\r\n                  {infoErrors.whatsapp && (\r\n                    <p className=\"text-sm text-danger\">{infoErrors.whatsapp.message}</p>\r\n                  )}\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label>Langue préférée</Label>\r\n                  <Controller\r\n                    control={infoForm.control}\r\n                    name=\"langue\"\r\n                    render={({ field }) => (\r\n                      <Select value={field.value} onValueChange={field.onChange}>\r\n                        <SelectTrigger className=\"w-full\">\r\n                          <SelectValue placeholder=\"Choisir une langue\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          {languageOptions.map((option) => (\r\n                            <SelectItem key={option.value} value={option.value}>\r\n                              {option.label}\r\n                            </SelectItem>\r\n                          ))}\r\n                        </SelectContent>\r\n                      </Select>\r\n                    )}\r\n                  />\r\n                  {infoErrors.langue && (\r\n                    <p className=\"text-sm text-danger\">{infoErrors.langue.message}</p>\r\n                  )}\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label>Fuseau horaire</Label>\r\n                  <Controller\r\n                    control={infoForm.control}\r\n                    name=\"fuseau_horaire\"\r\n                    render={({ field }) => (\r\n                      <Select value={field.value} onValueChange={field.onChange}>\r\n                        <SelectTrigger className=\"w-full\">\r\n                          <SelectValue placeholder=\"Choisir un fuseau\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent className=\"max-h-72\">\r\n                          {timezones.map((zone) => (\r\n                            <SelectItem key={zone} value={zone}>\r\n                              {zone}\r\n                            </SelectItem>\r\n                          ))}\r\n                        </SelectContent>\r\n                      </Select>\r\n                    )}\r\n                  />\r\n                  {infoErrors.fuseau_horaire && (\r\n                    <p className=\"text-sm text-danger\">{infoErrors.fuseau_horaire.message}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex justify-end\">\r\n                <Button type=\"submit\" disabled={updateInfoMutation.isPending}>\r\n                  {updateInfoMutation.isPending ? (\r\n                    <>\r\n                      <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                      Sauvegarde...\r\n                    </>\r\n                  ) : (\r\n                    'Enregistrer les modifications'\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            </form>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Sécurité</CardTitle>\r\n            <CardDescription>\r\n              Activez l’authentification à deux facteurs et mettez à jour votre mot de passe.\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-6\">\r\n            <div className=\"flex items-start justify-between gap-4 rounded-lg border p-4\">\r\n              <div className=\"space-y-1\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <ShieldCheck className=\"h-4 w-4 text-primary\" />\r\n                  <p className=\"font-medium\">Double authentification par email</p>\r\n                </div>\r\n                <p className=\"text-sm text-slate-600\">\r\n                  Recevez un code par email à chaque connexion.\r\n                </p>\r\n              </div>\r\n              <Checkbox\r\n                id=\"two-factor\"\r\n                checked={user.deuxFacteursActif}\r\n                disabled={twoFactorMutation.isPending}\r\n                onCheckedChange={(value) => handleTwoFactorToggle(value === true)}\r\n              />\r\n            </div>\r\n\r\n            <form\r\n              onSubmit={passwordForm.handleSubmit(onSubmitPassword)}\r\n              className=\"space-y-4\"\r\n            >\r\n              <div className=\"grid gap-4 md:grid-cols-3\">\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"old_password\">Ancien mot de passe</Label>\r\n                  <Input\r\n                    id=\"old_password\"\r\n                    type=\"password\"\r\n                    autoComplete=\"current-password\"\r\n                    {...passwordForm.register('old_password')}\r\n                  />\r\n                  {passwordErrors.old_password && (\r\n                    <p className=\"text-sm text-danger\">{passwordErrors.old_password.message}</p>\r\n                  )}\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"password\">Nouveau mot de passe</Label>\r\n                  <Input\r\n                    id=\"password\"\r\n                    type=\"password\"\r\n                    autoComplete=\"new-password\"\r\n                    {...passwordForm.register('password')}\r\n                  />\r\n                  {passwordErrors.password && (\r\n                    <p className=\"text-sm text-danger\">{passwordErrors.password.message}</p>\r\n                  )}\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"confirm_password\">Confirmation</Label>\r\n                  <Input\r\n                    id=\"confirm_password\"\r\n                    type=\"password\"\r\n                    autoComplete=\"new-password\"\r\n                    {...passwordForm.register('confirm_password')}\r\n                  />\r\n                  {passwordErrors.confirm_password && (\r\n                    <p className=\"text-sm text-danger\">{passwordErrors.confirm_password.message}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"flex justify-end\">\r\n                <Button type=\"submit\" disabled={passwordMutation.isPending}>\r\n                  {passwordMutation.isPending ? (\r\n                    <>\r\n                      <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                      Mise à jour...\r\n                    </>\r\n                  ) : (\r\n                    'Modifier le mot de passe'\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            </form>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Changement d’email</CardTitle>\r\n            <CardDescription>\r\n              Un lien de confirmation sera envoyé à votre nouvelle adresse.\r\n            </CardDescription>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <form onSubmit={emailForm.handleSubmit(onSubmitEmail)} className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"new_email\">Nouvel email</Label>\r\n                <Input\r\n                  id=\"new_email\"\r\n                  type=\"email\"\r\n                  placeholder=\"nouveau@email.com\"\r\n                  {...emailForm.register('new_email')}\r\n                />\r\n                {emailErrors.new_email && (\r\n                  <p className=\"text-sm text-danger\">{emailErrors.new_email.message}</p>\r\n                )}\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"email_password\">Mot de passe actuel</Label>\r\n                <Input\r\n                  id=\"email_password\"\r\n                  type=\"password\"\r\n                //   autoComplete=\"current-password\"\r\n                  {...emailForm.register('password')}\r\n                />\r\n                {emailErrors.password && (\r\n                  <p className=\"text-sm text-danger\">{emailErrors.password.message}</p>\r\n                )}\r\n              </div>\r\n              <div className=\"flex items-center gap-2 text-sm text-slate-600\">\r\n                <Mail className=\"h-4 w-4\" />\r\n                <p>Confirmez le lien reçu pour finaliser le changement.</p>\r\n              </div>\r\n              <div className=\"flex justify-end\">\r\n                <Button type=\"submit\" disabled={emailMutation.isPending}>\r\n                  {emailMutation.isPending ? (\r\n                    <>\r\n                      <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                      Envoi en cours...\r\n                    </>\r\n                  ) : (\r\n                    'Envoyer la demande'\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            </form>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z',\n      key: 'oel41y',\n    },\n  ],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n];\n\n/**\n * @component @name ShieldCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTNjMCA1LTMuNSA3LjUtNy42NiA4Ljk1YTEgMSAwIDAgMS0uNjctLjAxQzcuNSAyMC41IDQgMTggNCAxM1Y2YTEgMSAwIDAgMSAxLTFjMiAwIDQuNS0xLjIgNi4yNC0yLjcyYTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXoiIC8+CiAgPHBhdGggZD0ibTkgMTIgMiAyIDQtNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/shield-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ShieldCheck = createLucideIcon('shield-check', __iconNode);\n\nexport default ShieldCheck;\n"],"names":[],"mappings":"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","ignoreList":[3]}