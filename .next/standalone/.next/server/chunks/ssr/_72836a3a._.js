module.exports=[5094,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50104),e=a.i(70121),f=a.i(97942),g=a.i(7554),h=a.i(11011),i="AlertDialog",[j,k]=(0,d.createContextScope)(i,[f.createDialogScope]),l=(0,f.createDialogScope)(),m=a=>{let{__scopeAlertDialog:c,...d}=a,e=l(c);return(0,b.jsx)(f.Root,{...e,...d,modal:!0})};m.displayName=i,c.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,g=l(d);return(0,b.jsx)(f.Trigger,{...g,...e,ref:c})}).displayName="AlertDialogTrigger";var n=a=>{let{__scopeAlertDialog:c,...d}=a,e=l(c);return(0,b.jsx)(f.Portal,{...e,...d})};n.displayName="AlertDialogPortal";var o=c.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,g=l(d);return(0,b.jsx)(f.Overlay,{...g,...e,ref:c})});o.displayName="AlertDialogOverlay";var p="AlertDialogContent",[q,r]=j(p),s=(0,h.createSlottable)("AlertDialogContent"),t=c.forwardRef((a,d)=>{let{__scopeAlertDialog:h,children:i,...j}=a,k=l(h),m=c.useRef(null),n=(0,e.useComposedRefs)(d,m),o=c.useRef(null);return(0,b.jsx)(f.WarningProvider,{contentName:p,titleName:u,docsSlug:"alert-dialog",children:(0,b.jsx)(q,{scope:h,cancelRef:o,children:(0,b.jsxs)(f.Content,{role:"alertdialog",...k,...j,ref:n,onOpenAutoFocus:(0,g.composeEventHandlers)(j.onOpenAutoFocus,a=>{a.preventDefault(),o.current?.focus({preventScroll:!0})}),onPointerDownOutside:a=>a.preventDefault(),onInteractOutside:a=>a.preventDefault(),children:[(0,b.jsx)(s,{children:i}),(0,b.jsx)(B,{contentRef:m})]})})})});t.displayName=p;var u="AlertDialogTitle",v=c.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,g=l(d);return(0,b.jsx)(f.Title,{...g,...e,ref:c})});v.displayName=u;var w="AlertDialogDescription",x=c.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,g=l(d);return(0,b.jsx)(f.Description,{...g,...e,ref:c})});x.displayName=w;var y=c.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...e}=a,g=l(d);return(0,b.jsx)(f.Close,{...g,...e,ref:c})});y.displayName="AlertDialogAction";var z="AlertDialogCancel",A=c.forwardRef((a,c)=>{let{__scopeAlertDialog:d,...g}=a,{cancelRef:h}=r(z,d),i=l(d),j=(0,e.useComposedRefs)(c,h);return(0,b.jsx)(f.Close,{...i,...g,ref:j})});A.displayName=z;var B=({contentRef:a})=>{let b=`\`${p}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${p}\` by passing a \`${w}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${p}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return c.useEffect(()=>{document.getElementById(a.current?.getAttribute("aria-describedby"))||console.warn(b)},[b,a]),null},C=a.i(97895),D=a.i(40695);function E({...a}){return(0,b.jsx)(m,{"data-slot":"alert-dialog",...a})}function F({...a}){return(0,b.jsx)(n,{"data-slot":"alert-dialog-portal",...a})}function G({className:a,...c}){return(0,b.jsx)(o,{"data-slot":"alert-dialog-overlay",className:(0,C.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...c})}function H({className:a,...c}){return(0,b.jsxs)(F,{children:[(0,b.jsx)(G,{}),(0,b.jsx)(t,{"data-slot":"alert-dialog-content",className:(0,C.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...c})]})}function I({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,C.cn)("flex flex-col gap-2 text-center sm:text-left",a),...c})}function J({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,C.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...c})}function K({className:a,...c}){return(0,b.jsx)(v,{"data-slot":"alert-dialog-title",className:(0,C.cn)("text-lg font-semibold",a),...c})}function L({className:a,...c}){return(0,b.jsx)(x,{"data-slot":"alert-dialog-description",className:(0,C.cn)("text-muted-foreground text-sm",a),...c})}function M({className:a,...c}){return(0,b.jsx)(y,{className:(0,C.cn)((0,D.buttonVariants)(),a),...c})}function N({className:a,...c}){return(0,b.jsx)(A,{className:(0,C.cn)((0,D.buttonVariants)({variant:"outline"}),a),...c})}a.s(["AlertDialog",()=>E,"AlertDialogAction",()=>M,"AlertDialogCancel",()=>N,"AlertDialogContent",()=>H,"AlertDialogDescription",()=>L,"AlertDialogFooter",()=>J,"AlertDialogHeader",()=>I,"AlertDialogTitle",()=>K],5094)},24987,a=>{"use strict";let b=(0,a.i(70106).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],24987)},41710,a=>{"use strict";let b=(0,a.i(70106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],41710)},67453,a=>{"use strict";let b=(0,a.i(70106).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],67453)},7995,a=>{"use strict";var b=a.i(87924),c=a.i(56711),d=a.i(50603),e=a.i(65733),f=a.i(5094),g=a.i(40695),h=a.i(54161),i=a.i(7379),j=a.i(23968),k=a.i(96221),l=a.i(24987),m=a.i(41710),n=a.i(81560),o=a.i(70106);let p=(0,o.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var q=a.i(33508);let r=(0,o.default)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),s=(0,o.default)("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);var t=a.i(60246);let u=(0,o.default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);var v=a.i(67453);let w=(0,o.default)("circle-play",[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var x=a.i(72131),y=a.i(54343);let z={PLANIFIEE:{label:"Planifiée",className:"bg-blue-50 text-blue-700 border-blue-200"},EN_COURS:{label:"En cours",className:"bg-orange-50 text-orange-700 border-orange-200"},TERMINEE:{label:"Terminée",className:"bg-green-50 text-green-700 border-green-200"},ANNULEE:{label:"Annulée",className:"bg-red-50 text-red-700 border-red-200"}},A={ENTRAINEMENT:"Entraînement",MATCH:"Match",RECUPERATION:"Récupération",AUTRE:"Autre"};function B({seanceId:a,open:o,onOpenChange:B}){let{data:C,isLoading:D}=(0,j.useSession)(a),E=(0,j.useUpdateSession)(),F=(0,j.useDeleteSession)(),G=(0,j.useDuplicateSession)(),H=(0,j.useChangeSessionStatus)(),[I,J]=(0,x.useState)(!1),K=async()=>{a&&(await F.mutateAsync(a),J(!1),B(!1))},L=async()=>{if(!C)return;let a=new Date(C.dateDebut);a.setDate(a.getDate()+1);let b={dateDebut:a.toISOString()};if(C.dateFin){let c=new Date(C.dateFin).getTime()-new Date(C.dateDebut).getTime();b.dateFin=new Date(a.getTime()+c).toISOString()}await G.mutateAsync({seanceId:C.id,payload:b}),B(!1)},M=async()=>{if(!C)return;let a=window.prompt("Motif de l’annulation (optionnel) ?")||void 0;try{await E.mutateAsync({seanceId:C.id,data:{statut:"ANNULEE",motifAnnulation:a}})}catch(b){b instanceof y.ForceUpdateError&&window.confirm(`${b.message}
Souhaitez-vous forcer la mise \xe0 jour malgr\xe9 les RPE saisis ?`)&&await E.mutateAsync({seanceId:C.id,data:{statut:"ANNULEE",motifAnnulation:a},forceUpdate:!0})}};return o&&a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.Dialog,{open:o,onOpenChange:B,children:(0,b.jsx)(e.DialogContent,{className:"sm:max-w-[600px]",children:D?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.DialogHeader,{children:(0,b.jsx)(e.DialogTitle,{children:"Chargement..."})}),(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsx)(k.Loader2,{className:"h-8 w-8 animate-spin text-primary"})})]}):C?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.DialogHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(e.DialogTitle,{className:"text-2xl",children:A[C.type]}),(0,b.jsx)(e.DialogDescription,{children:(0,c.format)(new Date(C.dateDebut),"PPP",{locale:d.fr})})]}),(0,b.jsx)(h.Badge,{variant:"outline",className:z[C.statut].className,children:z[C.statut].label})]})}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,b.jsx)(m.Clock,{className:"h-5 w-5 text-slate-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Horaire"}),(0,b.jsxs)("p",{className:"text-slate-600",children:[(0,c.format)(new Date(C.dateDebut),"HH:mm"),C.dateFin&&(0,b.jsxs)(b.Fragment,{children:[" - ",(0,c.format)(new Date(C.dateFin),"HH:mm")]})]})]})]}),C.dureePrevue&&(0,b.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,b.jsx)(r,{className:"h-5 w-5 text-slate-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Durée prévue"}),(0,b.jsxs)("p",{className:"text-slate-600",children:[C.dureePrevue," minutes"]})]})]}),"number"==typeof C.intensitePrevue&&(0,b.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,b.jsx)(s,{className:"h-5 w-5 text-slate-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Intensité prévue"}),(0,b.jsxs)("p",{className:"text-slate-600",children:[C.intensitePrevue," / 10"]})]})]}),C.lieu&&(0,b.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,b.jsx)(l.MapPin,{className:"h-5 w-5 text-slate-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Lieu"}),(0,b.jsx)("p",{className:"text-slate-600",children:C.lieu})]})]}),C.description&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Separator,{}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium mb-2",children:"Description"}),(0,b.jsx)("p",{className:"text-sm text-slate-600 whitespace-pre-wrap",children:C.description})]})]})]}),(0,b.jsx)(i.Separator,{}),C.participants&&C.participants.length>0&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-700",children:[(0,b.jsx)(t.Users,{className:"h-4 w-4"}),"Participants (",C.participants.length,")"]}),(0,b.jsx)("div",{className:"space-y-2",children:C.participants.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-md border p-2 text-sm text-slate-600",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium text-slate-800",children:[a.prenoms," ",a.nom]}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:a.email})]}),a.present&&(0,b.jsx)("span",{className:"text-xs font-medium text-green-600",children:"Présent"})]},a.id))})]}),C.activites&&C.activites.length>0&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-700",children:[(0,b.jsx)(u,{className:"h-4 w-4"}),"Activités prévues"]}),(0,b.jsx)("div",{className:"space-y-2",children:C.activites.map(a=>(0,b.jsxs)("div",{className:"rounded-md border p-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm text-slate-700",children:[(0,b.jsxs)("span",{className:"font-medium",children:[a.ordre?`${a.ordre}. `:"",a.type]}),(0,b.jsxs)("span",{className:"text-xs text-slate-500",children:[a.duree?`${a.duree} min`:"Durée N/C","number"==typeof a.intensite?` • Intensit\xe9 ${a.intensite}`:""]})]}),a.objectif&&(0,b.jsx)("p",{className:"mt-2 text-sm text-slate-600",children:a.objectif})]},`${a.ordre}-${a.type}`))})]}),(C.participants?.length||C.activites?.length)&&(0,b.jsx)(i.Separator,{}),(0,b.jsxs)("div",{className:"flex gap-2 flex-wrap",children:["PLANIFIEE"===C.statut&&(0,b.jsxs)(g.Button,{variant:"default",size:"sm",onClick:()=>H.mutate({seanceId:C.id,statut:"EN_COURS"}),disabled:H.isPending,children:[H.isPending?(0,b.jsx)(k.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,b.jsx)(w,{className:"h-4 w-4 mr-2"}),"Commencer"]}),("PLANIFIEE"===C.statut||"EN_COURS"===C.statut)&&(0,b.jsxs)(g.Button,{variant:"default",size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>H.mutate({seanceId:C.id,statut:"TERMINEE"}),disabled:H.isPending,children:[H.isPending?(0,b.jsx)(k.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,b.jsx)(v.CheckCircle2,{className:"h-4 w-4 mr-2"}),"Terminer"]}),(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:L,disabled:G.isPending,children:[G.isPending?(0,b.jsx)(k.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,b.jsx)(p,{className:"h-4 w-4 mr-2"}),"Dupliquer"]}),"PLANIFIEE"===C.statut&&(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:M,disabled:E.isPending,children:[E.isPending?(0,b.jsx)(k.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}):(0,b.jsx)(q.X,{className:"h-4 w-4 mr-2"}),"Annuler la séance"]}),(0,b.jsxs)(g.Button,{variant:"destructive",size:"sm",onClick:()=>J(!0),className:"ml-auto",children:[(0,b.jsx)(n.Trash2,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.DialogHeader,{children:(0,b.jsx)(e.DialogTitle,{children:"Séance introuvable"})}),(0,b.jsx)("div",{className:"text-center py-8",children:(0,b.jsx)("p",{className:"text-slate-600",children:"Cette séance n'existe pas ou a été supprimée."})})]})})}),(0,b.jsx)(f.AlertDialog,{open:I,onOpenChange:J,children:(0,b.jsxs)(f.AlertDialogContent,{children:[(0,b.jsxs)(f.AlertDialogHeader,{children:[(0,b.jsx)(f.AlertDialogTitle,{children:"Confirmer la suppression"}),(0,b.jsx)(f.AlertDialogDescription,{children:"Êtes-vous sûr de vouloir supprimer cette séance ? Cette action est irréversible."})]}),(0,b.jsxs)(f.AlertDialogFooter,{children:[(0,b.jsx)(f.AlertDialogCancel,{children:"Annuler"}),(0,b.jsxs)(f.AlertDialogAction,{onClick:K,className:"bg-red-600 hover:bg-red-700",disabled:F.isPending,children:[F.isPending&&(0,b.jsx)(k.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Supprimer"]})]})]})})]}):null}a.s(["SessionDetailsDialog",()=>B],7995)}];

//# sourceMappingURL=_72836a3a._.js.map