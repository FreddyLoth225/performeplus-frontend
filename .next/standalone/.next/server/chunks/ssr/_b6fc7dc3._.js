module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},47349,(a,b,c)=>{"use strict";var d=a.r(72131);d.useState,d.useEffect,d.useLayoutEffect,d.useDebugValue,c.useSyncExternalStore=void 0!==d.useSyncExternalStore?d.useSyncExternalStore:function(a,b){return b()}},87610,(a,b,c)=>{"use strict";b.exports=a.r(47349)},90669,a=>{"use strict";let b=(0,a.i(70106).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);a.s(["Activity",()=>b],90669)},50522,a=>{"use strict";var b=a.i(11989);a.s(["ChevronRight",()=>b.default])},17756,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["default",()=>b])},11989,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["default",()=>b])},60246,a=>{"use strict";let b=(0,a.i(70106).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);a.s(["Users",()=>b],60246)},41675,67937,a=>{"use strict";let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["default",()=>b],67937),a.s(["Calendar",()=>b],41675)},33508,a=>{"use strict";var b=a.i(62213);a.s(["X",()=>b.default])},8591,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"useMergedRef",{enumerable:!0,get:function(){return e}});let d=a.r(72131);function e(a,b){let c=(0,d.useRef)(null),e=(0,d.useRef)(null);return(0,d.useCallback)(d=>{if(null===d){let a=c.current;a&&(c.current=null,a());let b=e.current;b&&(e.current=null,b())}else a&&(c.current=f(a,d)),b&&(e.current=f(b,d))},[a,b])}function f(a,b){if("function"!=typeof a)return a.current=b,()=>{a.current=null};{let c=a(b);return"function"==typeof c?c:()=>a(null)}}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},92434,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"warnOnce",{enumerable:!0,get:function(){return d}});let d=a=>{}},13216,a=>{"use strict";var b=a.i(70025),c=a.i(33217),d=a.i(50944),e=a.i(24823),f=a.i(36608),g=a.i(23292),h=a.i(72131);function i(){let a=(0,d.useRouter)(),{setUser:i,logout:j,user:k}=(0,f.useAuthStore)(),[l,m]=(0,h.useState)(!1);(0,h.useEffect)(()=>{},[]);let{data:n}=(0,c.useQuery)({queryKey:["current-user"],queryFn:()=>e.authService.getCurrentUser(),enabled:l&&!k,retry:!1});(0,h.useEffect)(()=>{n&&i(n)},[n,i]);let o=(0,b.useMutation)({mutationFn:a=>e.authService.login(a),onSuccess:async b=>{if(console.log("ðŸ“¦ DonnÃ©es reÃ§ues:",b),localStorage.setItem("access_token",b.access),localStorage.setItem("refresh_token",b.refresh),b.user)console.log("âœ… User prÃ©sent dans la rÃ©ponse"),i(b.user);else{console.log("âš ï¸ User non prÃ©sent, rÃ©cupÃ©ration...");try{let a=await e.authService.getCurrentUser();console.log("âœ… User rÃ©cupÃ©rÃ©:",a),i(a)}catch(a){console.error("âŒ Erreur rÃ©cupÃ©ration user:",a),g.toast.error("Erreur lors de la rÃ©cupÃ©ration du profil");return}}g.toast.success("Connexion rÃ©ussie !"),setTimeout(()=>{console.log("ðŸ”„ Redirection vers /dashboard"),a.push("/dashboard")},100)},onError:a=>{console.error("âŒ Erreur login:",a);let b=a.response?.data?.detail||a.response?.data?.message||"Erreur de connexion";g.toast.error(b)}}),p=(0,b.useMutation)({mutationFn:a=>e.authService.register(a),onSuccess:()=>{g.toast.success("Inscription rÃ©ussie ! VÃ©rifiez vos emails."),a.push("/login")},onError:a=>{let b=a.response?.data?.detail||a.response?.data?.message||"Erreur lors de l'inscription";g.toast.error(b)}}),q=(0,b.useMutation)({mutationFn:()=>e.authService.logout(),onSuccess:()=>{j(),a.push("/login"),g.toast.success("DÃ©connexion rÃ©ussie")}});return{login:o.mutate,register:p.mutate,logout:q.mutate,isLoggingIn:o.isPending,isRegistering:p.isPending}}a.s(["useAuth",()=>i])},7706,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50104),e=a.i(46872),f=a.i(72752),g=a.i(30553),h=a.i(87610);function i(){return()=>{}}var j="Avatar",[k,l]=(0,d.createContextScope)(j),[m,n]=k(j),o=c.forwardRef((a,d)=>{let{__scopeAvatar:e,...f}=a,[h,i]=c.useState("idle");return(0,b.jsx)(m,{scope:e,imageLoadingStatus:h,onImageLoadingStatusChange:i,children:(0,b.jsx)(g.Primitive.span,{...f,ref:d})})});o.displayName=j;var p="AvatarImage",q=c.forwardRef((a,d)=>{let{__scopeAvatar:j,src:k,onLoadingStatusChange:l=()=>{},...m}=a,o=n(p,j),q=function(a,{referrerPolicy:b,crossOrigin:d}){let e=(0,h.useSyncExternalStore)(i,()=>!0,()=>!1),g=c.useRef(null),j=e?(g.current||(g.current=new window.Image),g.current):null,[k,l]=c.useState(()=>t(j,a));return(0,f.useLayoutEffect)(()=>{l(t(j,a))},[j,a]),(0,f.useLayoutEffect)(()=>{let a=a=>()=>{l(a)};if(!j)return;let c=a("loaded"),e=a("error");return j.addEventListener("load",c),j.addEventListener("error",e),b&&(j.referrerPolicy=b),"string"==typeof d&&(j.crossOrigin=d),()=>{j.removeEventListener("load",c),j.removeEventListener("error",e)}},[j,d,b]),k}(k,m),r=(0,e.useCallbackRef)(a=>{l(a),o.onImageLoadingStatusChange(a)});return(0,f.useLayoutEffect)(()=>{"idle"!==q&&r(q)},[q,r]),"loaded"===q?(0,b.jsx)(g.Primitive.img,{...m,ref:d,src:k}):null});q.displayName=p;var r="AvatarFallback",s=c.forwardRef((a,d)=>{let{__scopeAvatar:e,delayMs:f,...h}=a,i=n(r,e),[j,k]=c.useState(void 0===f);return c.useEffect(()=>{if(void 0!==f){let a=window.setTimeout(()=>k(!0),f);return()=>window.clearTimeout(a)}},[f]),j&&"loaded"!==i.imageLoadingStatus?(0,b.jsx)(g.Primitive.span,{...h,ref:d}):null});function t(a,b){return a?b?(a.src!==b&&(a.src=b),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}s.displayName=r;var u=a.i(97895);function v({className:a,...c}){return(0,b.jsx)(o,{"data-slot":"avatar",className:(0,u.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...c})}function w({className:a,...c}){return(0,b.jsx)(q,{"data-slot":"avatar-image",className:(0,u.cn)("aspect-square size-full",a),...c})}function x({className:a,...c}){return(0,b.jsx)(s,{"data-slot":"avatar-fallback",className:(0,u.cn)("bg-muted flex size-full items-center justify-center rounded-full",a),...c})}a.s(["Avatar",()=>v,"AvatarFallback",()=>x,"AvatarImage",()=>w],7706)},23312,a=>{"use strict";let b=(0,a.i(70106).default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);a.s(["Bell",()=>b],23312)},21161,a=>{"use strict";let b=(0,a.i(70106).default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Settings",()=>b],21161)},4720,a=>{"use strict";let b=(0,a.i(70106).default)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["FileText",()=>b],4720)},75711,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(50944),e=a.i(97895),f=a.i(36608),g=a.i(42550),h=a.i(40695),i=a.i(7706),j=a.i(72131),k=a.i(97942),l=a.i(187),m=a.i(33508);let n=k.Root;k.Trigger,k.Close;let o=k.Portal,p=j.forwardRef(({className:a,...c},d)=>(0,b.jsx)(k.Overlay,{className:(0,e.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...c,ref:d}));p.displayName=k.Overlay.displayName;let q=(0,l.cva)("fixed z-50 gap-4 bg-white p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),r=j.forwardRef(({side:a="right",className:c,children:d,...f},g)=>(0,b.jsxs)(o,{children:[(0,b.jsx)(p,{}),(0,b.jsxs)(k.Content,{ref:g,className:(0,e.cn)(q({side:a}),c),...f,children:[d,(0,b.jsxs)(k.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100",children:[(0,b.jsx)(m.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));r.displayName=k.Content.displayName,j.forwardRef(({className:a,...c},d)=>(0,b.jsx)(k.Title,{ref:d,className:(0,e.cn)("text-lg font-semibold text-slate-950",a),...c})).displayName=k.Title.displayName,j.forwardRef(({className:a,...c},d)=>(0,b.jsx)(k.Description,{ref:d,className:(0,e.cn)("text-sm text-slate-500",a),...c})).displayName=k.Description.displayName;var s=a.i(70106);let t=(0,s.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var u=a.i(60246),v=a.i(41675),w=a.i(90669),x=a.i(23312),y=a.i(4720),z=a.i(21161);let A=(0,s.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var B=a.i(17756),B=B,C=a.i(50522),D=a.i(96221);let E=(0,s.default)("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),F=(0,s.default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);var G=a.i(13216);function H(){var a;let[k,l]=(0,j.useState)(!1),[o,p]=(0,j.useState)(!1),[q,s]=(0,j.useState)(!1),H=(0,d.usePathname)(),{user:I}=(0,f.useAuthStore)(),{currentTeam:J,currentMembership:K}=(0,g.useTeamStore)(),{logout:L}=(0,G.useAuth)();(0,j.useEffect)(()=>{s(!0)},[]),(0,j.useEffect)(()=>{p(!1)},[H]);let M=(a=K?.role,[{title:"Tableau de bord",href:"/dashboard",icon:t,roles:["PLAYER","STAFF","OWNER"]},{title:"Profil",href:"/dashboard/profile",icon:E,roles:["PLAYER","STAFF","OWNER"]},{title:"Calendrier",href:"/dashboard/calendar",icon:v.Calendar,roles:["PLAYER","STAFF","OWNER"]},{title:"Mes DonnÃ©es",href:"/dashboard/my-data",icon:w.Activity,roles:["PLAYER"]},{title:"Joueurs",href:"/dashboard/players",icon:u.Users,roles:["STAFF","OWNER"]},{title:"SÃ©ances",href:"/dashboard/sessions",icon:v.Calendar,roles:["STAFF","OWNER"]},{title:"Alertes",href:"/dashboard/alerts",icon:x.Bell,roles:["STAFF","OWNER"]},{title:"Rapports",href:"/dashboard/reports",icon:y.FileText,roles:["STAFF","OWNER"]},{title:"ParamÃ¨tres",href:"/dashboard/settings",icon:z.Settings,roles:["OWNER"]}].filter(b=>!a||b.roles.includes(a))),N=I?`${I.nom.charAt(0)}${I.prenoms.charAt(0)}`.toUpperCase():"??";if(!q)return(0,b.jsx)("div",{className:"hidden lg:flex w-64 h-screen bg-slate-900 items-center justify-center",children:(0,b.jsx)(D.Loader2,{className:"h-8 w-8 animate-spin text-white"})});let O=({isMobile:a=!1})=>(0,b.jsxs)("div",{className:"flex flex-col h-full",children:[(0,b.jsx)("div",{className:"p-4 border-b border-slate-800",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(!k||a)&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded bg-primary flex items-center justify-center font-bold",children:"P+"}),(0,b.jsx)("span",{className:"font-bold text-lg",children:"PerformePLUS"})]}),!a&&(0,b.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>l(!k),className:"text-white hover:bg-slate-800",children:k?(0,b.jsx)(C.ChevronRight,{className:"h-4 w-4"}):(0,b.jsx)(B.default,{className:"h-4 w-4"})}),a&&(0,b.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>p(!1),className:"text-white hover:bg-slate-800",children:(0,b.jsx)(m.X,{className:"h-4 w-4"})})]})}),J&&(!k||a)&&(0,b.jsxs)("div",{className:"p-4 border-b border-slate-800",children:[(0,b.jsx)("p",{className:"text-xs text-slate-400 mb-1",children:"Ã‰quipe actuelle"}),(0,b.jsx)("p",{className:"font-medium truncate",children:J.nom}),(0,b.jsx)("p",{className:"text-xs text-slate-400 capitalize",children:K?.role.toLowerCase()})]}),(0,b.jsx)("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:M.map(d=>{let f=d.icon,g=H===d.href;return(0,b.jsxs)(c.default,{href:d.href,className:(0,e.cn)("flex items-center gap-3 px-3 py-2 rounded-lg transition-colors",g?"bg-primary text-white":"text-slate-300 hover:bg-slate-800 hover:text-white",k&&!a&&"justify-center"),title:k&&!a?d.title:void 0,children:[(0,b.jsx)(f,{className:"h-5 w-5 flex-shrink-0"}),(!k||a)&&(0,b.jsx)("span",{children:d.title})]},d.href)})}),(0,b.jsxs)("div",{className:"p-4 border-t border-slate-800",children:[(0,b.jsxs)("div",{className:(0,e.cn)("flex items-center gap-3",k&&!a&&"justify-center"),children:[(0,b.jsxs)(i.Avatar,{className:"h-10 w-10",children:[(0,b.jsx)(i.AvatarImage,{src:I?.photo??void 0}),(0,b.jsx)(i.AvatarFallback,{children:N})]}),(!k||a)&&(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("p",{className:"text-sm font-medium truncate",children:[I?.prenoms," ",I?.nom]}),(0,b.jsx)("p",{className:"text-xs text-slate-400 truncate",children:I?.email})]})]}),(0,b.jsxs)(h.Button,{variant:"ghost",className:(0,e.cn)("w-full mt-3 text-slate-300 hover:bg-slate-800 hover:text-white",k&&!a&&"px-0"),onClick:()=>L(),children:[(0,b.jsx)(A,{className:"h-4 w-4"}),(!k||a)&&(0,b.jsx)("span",{className:"ml-2",children:"DÃ©connexion"})]})]})]});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-40 bg-slate-900 border-b border-slate-800",children:(0,b.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded bg-primary flex items-center justify-center font-bold text-white",children:"P+"}),(0,b.jsx)("span",{className:"font-bold text-lg text-white",children:"PerformePLUS"})]}),(0,b.jsx)(h.Button,{variant:"ghost",size:"icon",onClick:()=>p(!0),className:"text-white hover:bg-slate-800",children:(0,b.jsx)(F,{className:"h-6 w-6"})})]})}),(0,b.jsx)(n,{open:o,onOpenChange:p,children:(0,b.jsx)(r,{side:"left",className:"w-64 p-0 bg-slate-900 text-white border-slate-800",children:(0,b.jsx)(O,{isMobile:!0})})}),(0,b.jsx)("div",{className:(0,e.cn)("hidden lg:flex flex-col h-screen bg-slate-900 text-white transition-all duration-300",k?"w-16":"w-64"),children:(0,b.jsx)(O,{})})]})}a.s(["Sidebar",()=>H],75711)}];

//# sourceMappingURL=_b6fc7dc3._.js.map