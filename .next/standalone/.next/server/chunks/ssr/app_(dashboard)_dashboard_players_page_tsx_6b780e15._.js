module.exports=[57984,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(64442),e=a.i(42550),f=a.i(3130),g=a.i(54161),h=a.i(7706),i=a.i(90669),j=a.i(24669),k=a.i(70106);let l=(0,k.default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),m=(0,k.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var n=a.i(60246),o=a.i(97895);let p={GARDIEN:"G",DEFENSEUR:"D",MILIEU:"M",ATTAQUANT:"A"},q={GARDIEN:"bg-yellow-100 text-yellow-700 border-yellow-200",DEFENSEUR:"bg-blue-100 text-blue-700 border-blue-200",MILIEU:"bg-green-100 text-green-700 border-green-200",ATTAQUANT:"bg-red-100 text-red-700 border-red-200"},r={ACTIF:"Actif",BLESSE:"Blessé",SUSPENDU:"Suspendu",PRET:"Prêt",DEPART:"Départ"};function s({players:a,onSelectPlayer:c}){return 0===a.length?(0,b.jsx)(f.Card,{children:(0,b.jsxs)(f.CardContent,{className:"flex flex-col items-center justify-center h-96 text-center",children:[(0,b.jsx)(n.Users,{className:"h-12 w-12 text-slate-300 mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Aucun joueur"}),(0,b.jsx)("p",{className:"text-slate-600",children:"Commencez par inviter vos premiers joueurs"})]})}):(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4",children:a.map(a=>{var d;let e=`${a.utilisateur.prenoms.charAt(0)}${a.utilisateur.nom.charAt(0)}`.toUpperCase(),k=(d=a.stats.indicateurs.rca)<.8?{label:"Sous-charge",color:"text-orange-600",icon:l}:d>1.8?{label:"Surcharge",color:"text-red-600",icon:j.TrendingUp}:{label:"Optimal",color:"text-green-600",icon:m},n=k.icon;return(0,b.jsx)(f.Card,{className:"hover:shadow-lg transition-shadow cursor-pointer active:scale-98",onClick:()=>c(a.id),children:(0,b.jsxs)(f.CardContent,{className:"p-4 sm:p-6 space-y-3 sm:space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsxs)(h.Avatar,{className:"h-12 w-12 sm:h-14 sm:w-14 flex-shrink-0",children:[(0,b.jsx)(h.AvatarImage,{src:a.utilisateur.photo??void 0}),(0,b.jsx)(h.AvatarFallback,{className:"bg-primary text-white text-sm sm:text-base",children:e})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("h3",{className:"font-semibold text-sm sm:text-base text-slate-900 truncate",children:[a.utilisateur.prenoms," ",a.utilisateur.nom]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)(g.Badge,{variant:"outline",className:(0,o.cn)("text-xs",q[a.profil.poste]),children:p[a.profil.poste]}),(0,b.jsxs)("span",{className:"text-xs sm:text-sm text-slate-600",children:["#",a.profil.dossard]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[(0,b.jsx)("span",{className:"text-slate-600",children:"Forme"}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(i.Activity,{className:"h-3 w-3 text-slate-400"}),(0,b.jsxs)("span",{className:"font-medium",children:[a.stats.indiceForme.actuel||"-","/28"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[(0,b.jsx)("span",{className:"text-slate-600",children:"RCA"}),(0,b.jsxs)("div",{className:(0,o.cn)("flex items-center gap-1",k.color),children:[(0,b.jsx)(n,{className:"h-3 w-3"}),(0,b.jsx)("span",{className:"font-medium",children:a.stats.indicateurs.rca.toFixed(2)})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[(0,b.jsx)("span",{className:"text-slate-600",children:"Séances (7j)"}),(0,b.jsx)("span",{className:"font-medium",children:a.stats.nombreSeances})]})]}),"ACTIF"!==a.profil.statut&&(0,b.jsx)(g.Badge,{variant:"secondary",className:"w-full justify-center text-xs",children:r[a.profil.statut]})]})},a.id)})})}var t=a.i(95245),u=a.i(56711),v=a.i(50603),w=a.i(65733),x=a.i(40695),y=a.i(7379),z=a.i(21958),A=a.i(5094),B=a.i(17171),C=a.i(5522),D=a.i(46893),E=a.i(87682),F=a.i(96221);let G=(0,k.default)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),H=(0,k.default)("undo-2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);var I=a.i(57431),J=a.i(77924),K=a.i(58042),L=a.i(94222),M=a.i(54419),N=a.i(59854),O=a.i(48662),P=a.i(2274);let Q={GARDIEN:"Gardien",DEFENSEUR:"Défenseur",MILIEU:"Milieu",ATTAQUANT:"Attaquant"},R={GAUCHE:"Gauche",DROITE:"Droite",AMBIDEXTRE:"Ambidextre"},S="NONE_SELECTED",T={ACTIF:"Actif",BLESSE:"Blessé",SUSPENDU:"Suspendu",PRET:"Prêt",DEPART:"Départ"},U={dateNaissance:"Date de naissance",dossard:"Dossard",poste:"Poste",piedFort:"Pied fort",poids:"Poids",taille:"Taille",nationalite:"Nationalité",statut:"Statut",archive:"Archivage"};function V({playerId:a,open:e,onOpenChange:i}){let{data:j,isLoading:k}=(0,d.usePlayer)(a),{data:l}=(0,d.usePlayerStats)(a,30),{data:m}=(0,d.usePlayerIndicators)(a),n=(0,d.useUpdatePlayer)(),p=(0,d.useArchivePlayer)(),q=(0,d.useReactivatePlayer)(),[r,s]=(0,c.useState)(!1),[V,W]=(0,c.useState)(!1),[X,Y]=(0,c.useState)(!1),[Z,$]=(0,c.useState)(""),[_,aa]=(0,c.useState)(""),ab=(0,c.useMemo)(()=>j?{dateNaissance:j.profil.dateNaissance.slice(0,10),dossard:j.profil.dossard.toString(),poste:j.profil.poste,piedFort:j.profil.piedFort||"",poids:(j.profil.poids??"").toString(),taille:(j.profil.taille??"").toString(),nationalite:j.profil.nationalite??"",statut:j.profil.statut,commentaire:""}:{dateNaissance:"",dossard:"",poste:"DEFENSEUR",piedFort:"",poids:"",taille:"",nationalite:"",statut:"ACTIF",commentaire:""},[j]),{register:ac,handleSubmit:ad,reset:ae,setValue:af,watch:ag,formState:{isDirty:ah,isSubmitting:ai}}=(0,t.useForm)({defaultValues:ab});(0,c.useEffect)(()=>{ae(ab)},[ab,ae]);let aj=(0,c.useMemo)(()=>j?j.stats?j.stats:{nombreSeances:j.statistiques?.seances_effectuees??0,indicateurs:{rca:j.statistiques?.rca_moyen??0,im:j.statistiques?.im_moyen??0,ic:j.statistiques?.ic_moyen??0},indiceForme:{actuel:j.indice_forme_actuel?.score??null,date:j.indice_forme_actuel?.date??null,interpretation:j.indice_forme_actuel?.interpretation??null}}:null,[j]),ak=aj?.indiceForme?.actuel??null,al=aj?.nombreSeances??0,am=aj?.indicateurs?.rca??0,an=aj?.indicateurs?.im??0,ao=aj?.indicateurs?.ic??0,ap="number"==typeof l?.indice_forme_moyen?l.indice_forme_moyen:"number"==typeof l?.moyenne_indice_forme?l.moyenne_indice_forme:"number"==typeof l?.resume?.indice_forme_moyen?l.resume.indice_forme_moyen:null,aq="number"==typeof l?.charge_moyenne?l.charge_moyenne:null,ar="number"==typeof l?.charge_totale?l.charge_totale:null,as="number"==typeof m?.ca?m.ca:null,at="number"==typeof m?.cc?m.cc:null,au=ag("piedFort")||S,av=!!j?.permissions?.canModify,aw=!!j?.permissions?.canArchive,ax=!!j?.membre?.archive,ay=j?.historique??[];if((0,c.useEffect)(()=>{e||(s(!1),W(!1),Y(!1),$(""),aa(""))},[e]),!e||!a)return null;let az=ad(async a=>{if(!j)return;let b=a.commentaire.trim();await n.mutateAsync({profilId:j.id,data:{dateNaissance:a.dateNaissance,dossard:Number(a.dossard),poste:a.poste,piedFort:a.piedFort||void 0,poids:a.poids?Number(a.poids):void 0,taille:a.taille?Number(a.taille):void 0,nationalite:a.nationalite||void 0,statut:a.statut,commentaire:b||void 0}}),s(!1),ae({...a,commentaire:""})}),aA=async()=>{if(j)try{let a=Z.trim();await p.mutateAsync({profilId:j.id,motif:a,commentaire:a||void 0}),$(""),W(!1)}catch(a){}},aB=async()=>{if(j)try{let a=_.trim();await q.mutateAsync({profilId:j.id,commentaire:a||void 0}),aa(""),Y(!1)}catch(a){}};return(0,b.jsx)(w.Dialog,{open:e,onOpenChange:i,children:(0,b.jsx)(w.DialogContent,{className:"sm:max-w-[900px] max-h-[90vh] overflow-y-auto",children:k?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.DialogHeader,{children:(0,b.jsx)(w.DialogTitle,{children:"Chargement du joueur"})}),(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)(F.Loader2,{className:"h-8 w-8 animate-spin text-primary"})})]}):j?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.DialogHeader,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsxs)(h.Avatar,{className:"h-20 w-20",children:[(0,b.jsx)(h.AvatarImage,{src:j.utilisateur.photo??void 0}),(0,b.jsxs)(h.AvatarFallback,{className:"bg-primary text-white text-xl",children:[j.utilisateur.prenoms.charAt(0),j.utilisateur.nom.charAt(0)]})]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,b.jsxs)(w.DialogTitle,{className:"text-2xl",children:[j.utilisateur.prenoms," ",j.utilisateur.nom]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[ax&&(0,b.jsx)(g.Badge,{variant:"secondary",children:"Archivé"}),"ACTIF"!==j.profil.statut&&(0,b.jsx)(g.Badge,{variant:"secondary",children:T[j.profil.statut]})]})]}),(0,b.jsx)(w.DialogDescription,{asChild:!0,children:(0,b.jsx)("div",{className:"mt-2 space-y-1",children:(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-sm text-slate-600",children:[(0,b.jsxs)(g.Badge,{variant:"outline",className:"text-base",children:["#",j.profil.dossard]}),(0,b.jsx)("span",{children:Q[j.profil.poste]}),j.profil.nationalite&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:"•"}),(0,b.jsx)("span",{children:j.profil.nationalite})]}),j.membre?.dateAdhesion&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:"•"}),(0,b.jsxs)("span",{children:["Membre depuis"," ",(0,u.format)(new Date(j.membre.dateAdhesion),"PPP",{locale:v.fr})]})]})]})})})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[aw&&(ax?(0,b.jsxs)(x.Button,{variant:"outline",onClick:()=>Y(!0),disabled:q.isPending,children:[q.isPending?(0,b.jsx)(F.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,b.jsx)(H,{className:"mr-2 h-4 w-4"}),"Réactiver"]}):(0,b.jsxs)(x.Button,{variant:"destructive",onClick:()=>W(!0),disabled:p.isPending,children:[p.isPending?(0,b.jsx)(F.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,b.jsx)(G,{className:"mr-2 h-4 w-4"}),"Archiver"]})),av&&(0,b.jsx)(x.Button,{variant:r?"secondary":"outline",onClick:()=>{r?(ae(ab),s(!1)):s(!0)},children:r?"Annuler":"Modifier le profil"})]})]})}),(0,b.jsxs)(z.Tabs,{defaultValue:"overview",className:"mt-6",children:[(0,b.jsxs)(z.TabsList,{className:"grid w-full grid-cols-3",children:[(0,b.jsx)(z.TabsTrigger,{value:"overview",children:"Vue d'ensemble"}),(0,b.jsx)(z.TabsTrigger,{value:"stats",children:"Statistiques"}),(0,b.jsx)(z.TabsTrigger,{value:"profile",children:"Profil"})]}),(0,b.jsxs)(z.TabsContent,{value:"overview",className:"space-y-4 mt-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsx)(f.Card,{children:(0,b.jsxs)(f.CardContent,{className:"p-4",children:[(0,b.jsx)("div",{className:"text-sm text-slate-600 mb-1",children:"Forme actuelle"}),(0,b.jsx)("div",{className:"text-2xl font-bold",children:null!=ak?`${ak}/28`:"--/28"}),(0,b.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:["Moy: ",null!=ap?ap.toFixed(1):"--"]})]})}),(0,b.jsx)(f.Card,{children:(0,b.jsxs)(f.CardContent,{className:"p-4",children:[(0,b.jsx)("div",{className:"text-sm text-slate-600 mb-1",children:"RCA"}),(0,b.jsx)("div",{className:(0,o.cn)("text-2xl font-bold",am>1.8?"text-red-600":am<.8?"text-orange-600":"text-green-600"),children:am.toFixed(2)}),(0,b.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:am>1.8?"Surcharge":am<.8?"Sous-charge":"Optimal"})]})}),(0,b.jsx)(f.Card,{children:(0,b.jsxs)(f.CardContent,{className:"p-4",children:[(0,b.jsx)("div",{className:"text-sm text-slate-600 mb-1",children:"Séances (7j)"}),(0,b.jsx)("div",{className:"text-2xl font-bold",children:al}),(0,b.jsxs)("div",{className:"text-xs text-slate-500 mt-1",children:["Charge moy: ",null!=aq?Math.round(aq):"--"," UA"]})]})}),(0,b.jsx)(f.Card,{children:(0,b.jsxs)(f.CardContent,{className:"p-4",children:[(0,b.jsx)("div",{className:"text-sm text-slate-600 mb-1",children:"IM"}),(0,b.jsx)("div",{className:"text-2xl font-bold",children:an.toFixed(2)}),(0,b.jsx)("div",{className:"text-xs text-slate-500 mt-1",children:"Monotonie"})]})})]}),l&&l.evolution&&(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{className:"text-base",children:"Évolution de la charge et de la forme"})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)(O.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(I.LineChart,{data:l.evolution,children:[(0,b.jsx)(M.CartesianGrid,{strokeDasharray:"3 3"}),(0,b.jsx)(K.XAxis,{dataKey:"date",tickFormatter:a=>(0,u.format)(new Date(a),"dd/MM")}),(0,b.jsx)(L.YAxis,{yAxisId:"left"}),(0,b.jsx)(L.YAxis,{yAxisId:"right",orientation:"right"}),(0,b.jsx)(N.Tooltip,{labelFormatter:a=>(0,u.format)(new Date(a),"PPP",{locale:v.fr})}),(0,b.jsx)(P.Legend,{}),(0,b.jsx)(J.Line,{yAxisId:"left",type:"monotone",dataKey:"charge",stroke:"#3B82F6",name:"Charge (UA)"}),(0,b.jsx)(J.Line,{yAxisId:"right",type:"monotone",dataKey:"forme",stroke:"#10B981",name:"Forme (/28)"})]})})})]})]}),(0,b.jsx)(z.TabsContent,{value:"stats",className:"space-y-4 mt-4",children:(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-slate-600",children:"Charge Aiguë (CA)"}),(0,b.jsxs)("span",{className:"font-medium",children:[null!=as?Math.round(as):"--"," UA"]})]}),(0,b.jsx)(y.Separator,{}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-slate-600",children:"Charge Chronique (CC)"}),(0,b.jsxs)("span",{className:"font-medium",children:[null!=at?Math.round(at):"--"," UA"]})]}),(0,b.jsx)(y.Separator,{}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-slate-600",children:"Indice de Contrainte (IC)"}),(0,b.jsxs)("span",{className:"font-medium",children:[ao.toFixed(0)," UA"]})]}),(0,b.jsx)(y.Separator,{}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-slate-600",children:"Charge totale (30j)"}),(0,b.jsxs)("span",{className:"font-medium",children:[null!=ar?Math.round(ar):"--"," UA"]})]})]})})})}),(0,b.jsxs)(z.TabsContent,{value:"profile",className:"space-y-4 mt-4",children:[(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"p-6 space-y-6",children:r?(0,b.jsxs)("form",{className:"space-y-6",onSubmit:az,children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(B.Label,{htmlFor:"dateNaissance",children:"Date de naissance"}),(0,b.jsx)(C.Input,{id:"dateNaissance",type:"date",required:!0,...ac("dateNaissance",{required:!0})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(B.Label,{htmlFor:"dossard",children:"Dossard"}),(0,b.jsx)(C.Input,{id:"dossard",type:"number",min:1,max:99,required:!0,...ac("dossard",{required:!0})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(B.Label,{htmlFor:"poste",children:"Poste"}),(0,b.jsxs)(E.Select,{value:ag("poste"),onValueChange:a=>af("poste",a,{shouldDirty:!0}),children:[(0,b.jsx)(E.SelectTrigger,{id:"poste",children:(0,b.jsx)(E.SelectValue,{placeholder:"Sélectionnez un poste"})}),(0,b.jsx)(E.SelectContent,{children:Object.entries(Q).map(([a,c])=>(0,b.jsx)(E.SelectItem,{value:a,children:c},a))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(B.Label,{htmlFor:"piedFort",children:"Pied fort"}),(0,b.jsxs)(E.Select,{value:au,onValueChange:a=>af("piedFort",a===S?"":a,{shouldDirty:!0}),children:[(0,b.jsx)(E.SelectTrigger,{id:"piedFort",children:(0,b.jsx)(E.SelectValue,{placeholder:"Non renseigné"})}),(0,b.jsxs)(E.SelectContent,{children:[(0,b.jsx)(E.SelectItem,{value:S,children:"Non renseigné"}),Object.entries(R).map(([a,c])=>(0,b.jsx)(E.SelectItem,{value:a,children:c},a))]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(B.Label,{htmlFor:"poids",children:"Poids (kg)"}),(0,b.jsx)(C.Input,{id:"poids",type:"number",min:30,max:200,...ac("poids")})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(B.Label,{htmlFor:"taille",children:"Taille (cm)"}),(0,b.jsx)(C.Input,{id:"taille",type:"number",min:100,max:230,...ac("taille")})]}),(0,b.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,b.jsx)(B.Label,{htmlFor:"nationalite",children:"Nationalité"}),(0,b.jsx)(C.Input,{id:"nationalite",placeholder:"Pays de nationalité",...ac("nationalite")})]}),(0,b.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,b.jsx)(B.Label,{htmlFor:"statut",children:"Statut"}),(0,b.jsxs)(E.Select,{value:ag("statut"),onValueChange:a=>af("statut",a,{shouldDirty:!0}),children:[(0,b.jsx)(E.SelectTrigger,{id:"statut",children:(0,b.jsx)(E.SelectValue,{placeholder:"Sélectionnez un statut"})}),(0,b.jsx)(E.SelectContent,{children:Object.entries(T).map(([a,c])=>(0,b.jsx)(E.SelectItem,{value:a,children:c},a))})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(B.Label,{htmlFor:"commentaire",children:"Commentaire (optionnel)"}),(0,b.jsx)(D.Textarea,{id:"commentaire",placeholder:"Ajoutez un commentaire pour l'historique",rows:3,...ac("commentaire")})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(x.Button,{type:"button",variant:"ghost",onClick:()=>{ae(ab),s(!1)},disabled:ai,children:"Annuler"}),(0,b.jsxs)(x.Button,{type:"submit",disabled:!ah||ai,children:[ai&&(0,b.jsx)(F.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Enregistrer"]})]})]}):(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Date de naissance"}),(0,b.jsxs)("p",{className:"text-sm font-medium text-slate-900",children:[(0,u.format)(new Date(j.profil.dateNaissance),"PPP",{locale:v.fr}),"number"==typeof j.profil.age&&(0,b.jsxs)("span",{className:"ml-2 text-slate-500",children:["(",j.profil.age," ans)"]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Poste"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:Q[j.profil.poste]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Pied fort"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:j.profil.piedFort?R[j.profil.piedFort]:"N/A"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Statut"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:T[j.profil.statut]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Poids"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:j.profil.poids?`${j.profil.poids} kg`:"N/A"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Taille"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:j.profil.taille?`${j.profil.taille} cm`:"N/A"})]}),(0,b.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase text-slate-500",children:"Nationalité"}),(0,b.jsx)("p",{className:"text-sm font-medium text-slate-900",children:j.profil.nationalite||"N/A"})]})]})})}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Historique des modifications"})}),(0,b.jsx)(f.CardContent,{className:"space-y-4",children:ay.length>0?ay.map(a=>(0,b.jsxs)("div",{className:"rounded-lg border border-slate-200 p-4",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 text-sm",children:[(0,b.jsx)("span",{className:"font-medium text-slate-900",children:U[a.champModifie]||a.champModifie}),(0,b.jsx)("span",{className:"text-slate-500",children:function(a){if(!a)return"N/A";let b="string"==typeof a?new Date(a):a;if(!(b instanceof Date)||Number.isNaN(b.getTime()))return"string"==typeof a?a:"N/A";try{return(0,u.format)(b,"Pp",{locale:v.fr})}catch(b){return"string"==typeof a?a:"N/A"}}(a.dateChangement)})]}),(0,b.jsx)("div",{className:"mt-2 text-sm text-slate-600",children:a.utilisateur?`${a.utilisateur.prenoms} ${a.utilisateur.nom}`:"Système"}),(0,b.jsxs)("div",{className:"mt-3 grid gap-1 text-sm",children:[(0,b.jsxs)("div",{className:"text-slate-600",children:[(0,b.jsx)("span",{className:"font-medium text-slate-700",children:"Avant : "}),a.ancienneValeur||"N/A"]}),(0,b.jsxs)("div",{className:"text-slate-600",children:[(0,b.jsx)("span",{className:"font-medium text-slate-700",children:"Après : "}),a.nouvelleValeur||"N/A"]})]}),a.commentaire&&(0,b.jsxs)("p",{className:"mt-3 text-sm italic text-slate-500",children:['"',a.commentaire,'"']})]},a.id)):(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"Aucune modification enregistrée pour le moment."})})]})]})]}),(0,b.jsx)(A.AlertDialog,{open:V,onOpenChange:W,children:(0,b.jsxs)(A.AlertDialogContent,{children:[(0,b.jsxs)(A.AlertDialogHeader,{children:[(0,b.jsx)(A.AlertDialogTitle,{children:"Archiver ce joueur"}),(0,b.jsx)(A.AlertDialogDescription,{children:"Le joueur ne pourra plus être sélectionné tant qu'il sera archivé. Un motif est requis et sera conservé dans l'historique."})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(B.Label,{htmlFor:"archiveMotifDialog",children:"Motif *"}),(0,b.jsx)(D.Textarea,{id:"archiveMotifDialog",value:Z,onChange:a=>$(a.target.value),placeholder:"Expliquez la raison de l'archivage",rows:3,disabled:p.isPending})]}),(0,b.jsxs)(A.AlertDialogFooter,{children:[(0,b.jsx)(A.AlertDialogCancel,{disabled:p.isPending,children:"Annuler"}),(0,b.jsxs)(A.AlertDialogAction,{onClick:a=>{a.preventDefault(),aA()},disabled:!Z.trim()||p.isPending,children:[p.isPending&&(0,b.jsx)(F.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Confirmer l'archivage"]})]})]})}),(0,b.jsx)(A.AlertDialog,{open:X,onOpenChange:Y,children:(0,b.jsxs)(A.AlertDialogContent,{children:[(0,b.jsxs)(A.AlertDialogHeader,{children:[(0,b.jsx)(A.AlertDialogTitle,{children:"Réactiver ce joueur"}),(0,b.jsx)(A.AlertDialogDescription,{children:"Le joueur réapparaîtra dans les listes actives. Vous pouvez ajouter un commentaire qui sera journalisé."})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(B.Label,{htmlFor:"reactivateComment",children:"Commentaire"}),(0,b.jsx)(D.Textarea,{id:"reactivateComment",value:_,onChange:a=>aa(a.target.value),placeholder:"Ajoutez un commentaire (optionnel)",rows:3,disabled:q.isPending})]}),(0,b.jsxs)(A.AlertDialogFooter,{children:[(0,b.jsx)(A.AlertDialogCancel,{disabled:q.isPending,children:"Annuler"}),(0,b.jsxs)(A.AlertDialogAction,{onClick:a=>{a.preventDefault(),aB()},disabled:q.isPending,children:[q.isPending&&(0,b.jsx)(F.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Réactiver le joueur"]})]})]})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.DialogHeader,{children:(0,b.jsx)(w.DialogTitle,{children:"Joueur introuvable"})}),(0,b.jsx)("div",{className:"text-center py-8",children:(0,b.jsx)("p",{className:"text-slate-600",children:"Aucun profil disponible pour ce joueur."})})]})})})}var W=a.i(17544),X=a.i(73320);let Y=(0,k.default)("file-spreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]),Z=(0,k.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var $=a.i(16201);function _({open:a,onOpenChange:g}){let{currentTeam:h}=(0,e.useTeamStore)(),i=(0,d.useImportPlayers)(),j=(0,c.useRef)(null),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!1),p=a=>{a.preventDefault(),a.stopPropagation(),"dragenter"===a.type||"dragover"===a.type?n(!0):"dragleave"===a.type&&n(!1)},q=async()=>{k&&h&&(await i.mutateAsync({file:k,equipe_id:h.id}),l(null),g(!1))};return(0,b.jsx)(w.Dialog,{open:a,onOpenChange:g,children:(0,b.jsxs)(w.DialogContent,{className:"sm:max-w-[600px]",children:[(0,b.jsxs)(w.DialogHeader,{children:[(0,b.jsx)(w.DialogTitle,{children:"Import en masse de joueurs"}),(0,b.jsx)(w.DialogDescription,{children:"Importez plusieurs joueurs à la fois via un fichier CSV ou Excel"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(f.Card,{children:(0,b.jsxs)(f.CardContent,{className:"p-4 space-y-3",children:[(0,b.jsx)("h4",{className:"font-medium text-sm",children:"Instructions :"}),(0,b.jsxs)("ol",{className:"text-sm text-slate-600 space-y-2 list-decimal list-inside",children:[(0,b.jsx)("li",{children:"Téléchargez le modèle de fichier"}),(0,b.jsx)("li",{children:"Remplissez les informations de vos joueurs"}),(0,b.jsx)("li",{children:"Importez le fichier complété"})]}),(0,b.jsxs)(x.Button,{variant:"outline",size:"sm",onClick:()=>{let a=new Blob([`email,nom,prenoms,dateNaissance,dossard,poste,piedFort,poids,taille,nationalite
joueur1@example.com,Diallo,Mamadou,2005-03-15,10,ATTAQUANT,DROITE,75,180,S\xe9n\xe9gal
joueur2@example.com,Kouassi,Jean,2004-07-22,7,MILIEU,GAUCHE,72,175,C\xf4te d'Ivoire`],{type:"text/csv"}),b=window.URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download="template_import_joueurs.csv",c.click(),window.URL.revokeObjectURL(b)},className:"w-full",children:[(0,b.jsx)(Z,{className:"h-4 w-4 mr-2"}),"Télécharger le modèle"]})]})}),(0,b.jsx)("div",{className:(0,o.cn)("border-2 border-dashed rounded-lg p-8 text-center transition-colors",m?"border-primary bg-primary/5":"border-slate-300 hover:border-slate-400",k&&"border-green-500 bg-green-50"),onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:a=>{if(a.preventDefault(),a.stopPropagation(),n(!1),a.dataTransfer.files&&a.dataTransfer.files[0]){let b=a.dataTransfer.files[0];(b.name.endsWith(".csv")||b.name.endsWith(".xlsx")||b.name.endsWith(".xls"))&&l(b)}},children:k?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)($.CheckCircle,{className:"h-12 w-12 text-green-600 mx-auto"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-slate-900",children:k.name}),(0,b.jsxs)("p",{className:"text-sm text-slate-600",children:[(k.size/1024).toFixed(2)," KB"]})]}),(0,b.jsx)(x.Button,{variant:"outline",size:"sm",onClick:()=>l(null),children:"Changer de fichier"})]}):(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(Y,{className:"h-12 w-12 text-slate-400 mx-auto"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-slate-900 mb-1",children:"Glissez-déposez votre fichier ici"}),(0,b.jsx)("p",{className:"text-sm text-slate-600",children:"ou cliquez pour sélectionner"})]}),(0,b.jsxs)(x.Button,{variant:"outline",size:"sm",onClick:()=>j.current?.click(),children:[(0,b.jsx)(X.Upload,{className:"h-4 w-4 mr-2"}),"Sélectionner un fichier"]}),(0,b.jsx)("p",{className:"text-xs text-slate-500",children:"Formats acceptés : .csv, .xlsx, .xls (max 2MB)"})]})}),(0,b.jsx)("input",{ref:j,type:"file",accept:".csv,.xlsx,.xls",onChange:a=>{a.target.files&&a.target.files[0]&&l(a.target.files[0])},className:"hidden"})]}),(0,b.jsxs)(w.DialogFooter,{children:[(0,b.jsx)(x.Button,{variant:"outline",onClick:()=>g(!1),disabled:i.isPending,children:"Annuler"}),(0,b.jsxs)(x.Button,{onClick:q,disabled:!k||i.isPending,children:[i.isPending&&(0,b.jsx)(F.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Importer les joueurs"]})]})]})})}var aa=a.i(7554),ab=a.i(70121),ac=a.i(50104),ad=a.i(25152),ae=a.i(30553),af=a.i(37738),ag=a.i(7827),ah=a.i(96743),ai=a.i(86228),aj=a.i(22297),ak=a.i(92843),al=a.i(4691),am=a.i(92616),an=a.i(77192),ao=a.i(24050),ap=a.i(11011),aq=a.i(46872),ar=a.i(41852),as=a.i(52081),at=["Enter"," "],au=["ArrowUp","PageDown","End"],av=["ArrowDown","PageUp","Home",...au],aw={ltr:[...at,"ArrowRight"],rtl:[...at,"ArrowLeft"]},ax={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ay="Menu",[az,aA,aB]=(0,af.createCollection)(ay),[aC,aD]=(0,ac.createContextScope)(ay,[aB,al.createPopperScope,ao.createRovingFocusGroupScope]),aE=(0,al.createPopperScope)(),aF=(0,ao.createRovingFocusGroupScope)(),[aG,aH]=aC(ay),[aI,aJ]=aC(ay),aK=a=>{let{__scopeMenu:d,open:e=!1,children:f,dir:g,onOpenChange:h,modal:i=!0}=a,j=aE(d),[k,l]=c.useState(null),m=c.useRef(!1),n=(0,aq.useCallbackRef)(h),o=(0,ag.useDirection)(g);return c.useEffect(()=>{let a=()=>{m.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>m.current=!1;return document.addEventListener("keydown",a,{capture:!0}),()=>{document.removeEventListener("keydown",a,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),(0,b.jsx)(al.Root,{...j,children:(0,b.jsx)(aG,{scope:d,open:e,onOpenChange:n,content:k,onContentChange:l,children:(0,b.jsx)(aI,{scope:d,onClose:c.useCallback(()=>n(!1),[n]),isUsingKeyboardRef:m,dir:o,modal:i,children:f})})})};aK.displayName=ay;var aL=c.forwardRef((a,c)=>{let{__scopeMenu:d,...e}=a,f=aE(d);return(0,b.jsx)(al.Anchor,{...f,...e,ref:c})});aL.displayName="MenuAnchor";var aM="MenuPortal",[aN,aO]=aC(aM,{forceMount:void 0}),aP=a=>{let{__scopeMenu:c,forceMount:d,children:e,container:f}=a,g=aH(aM,c);return(0,b.jsx)(aN,{scope:c,forceMount:d,children:(0,b.jsx)(an.Presence,{present:d||g.open,children:(0,b.jsx)(am.Portal,{asChild:!0,container:f,children:e})})})};aP.displayName=aM;var aQ="MenuContent",[aR,aS]=aC(aQ),aT=c.forwardRef((a,c)=>{let d=aO(aQ,a.__scopeMenu),{forceMount:e=d.forceMount,...f}=a,g=aH(aQ,a.__scopeMenu),h=aJ(aQ,a.__scopeMenu);return(0,b.jsx)(az.Provider,{scope:a.__scopeMenu,children:(0,b.jsx)(an.Presence,{present:e||g.open,children:(0,b.jsx)(az.Slot,{scope:a.__scopeMenu,children:h.modal?(0,b.jsx)(aU,{...f,ref:c}):(0,b.jsx)(aV,{...f,ref:c})})})})}),aU=c.forwardRef((a,d)=>{let e=aH(aQ,a.__scopeMenu),f=c.useRef(null),g=(0,ab.useComposedRefs)(d,f);return c.useEffect(()=>{let a=f.current;if(a)return(0,ar.hideOthers)(a)},[]),(0,b.jsx)(aX,{...a,ref:g,trapFocus:e.open,disableOutsidePointerEvents:e.open,disableOutsideScroll:!0,onFocusOutside:(0,aa.composeEventHandlers)(a.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>e.onOpenChange(!1)})}),aV=c.forwardRef((a,c)=>{let d=aH(aQ,a.__scopeMenu);return(0,b.jsx)(aX,{...a,ref:c,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>d.onOpenChange(!1)})}),aW=(0,ap.createSlot)("MenuContent.ScrollLock"),aX=c.forwardRef((a,d)=>{let{__scopeMenu:e,loop:f=!1,trapFocus:g,onOpenAutoFocus:h,onCloseAutoFocus:i,disableOutsidePointerEvents:j,onEntryFocus:k,onEscapeKeyDown:l,onPointerDownOutside:m,onFocusOutside:n,onInteractOutside:o,onDismiss:p,disableOutsideScroll:q,...r}=a,s=aH(aQ,e),t=aJ(aQ,e),u=aE(e),v=aF(e),w=aA(e),[x,y]=c.useState(null),z=c.useRef(null),A=(0,ab.useComposedRefs)(d,z,s.onContentChange),B=c.useRef(0),C=c.useRef(""),D=c.useRef(0),E=c.useRef(null),F=c.useRef("right"),G=c.useRef(0),H=q?as.RemoveScroll:c.Fragment;c.useEffect(()=>()=>window.clearTimeout(B.current),[]),(0,ai.useFocusGuards)();let I=c.useCallback(a=>{var b,c;return F.current===E.current?.side&&(b=a,!!(c=E.current?.area)&&function(a,b){let{x:c,y:d}=a,e=!1;for(let a=0,f=b.length-1;a<b.length;f=a++){let g=b[a],h=b[f],i=g.x,j=g.y,k=h.x,l=h.y;j>d!=l>d&&c<(k-i)*(d-j)/(l-j)+i&&(e=!e)}return e}({x:b.clientX,y:b.clientY},c))},[]);return(0,b.jsx)(aR,{scope:e,searchRef:C,onItemEnter:c.useCallback(a=>{I(a)&&a.preventDefault()},[I]),onItemLeave:c.useCallback(a=>{I(a)||(z.current?.focus(),y(null))},[I]),onTriggerLeave:c.useCallback(a=>{I(a)&&a.preventDefault()},[I]),pointerGraceTimerRef:D,onPointerGraceIntentChange:c.useCallback(a=>{E.current=a},[]),children:(0,b.jsx)(H,{...q?{as:aW,allowPinchZoom:!0}:void 0,children:(0,b.jsx)(aj.FocusScope,{asChild:!0,trapped:g,onMountAutoFocus:(0,aa.composeEventHandlers)(h,a=>{a.preventDefault(),z.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:(0,b.jsx)(ah.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:j,onEscapeKeyDown:l,onPointerDownOutside:m,onFocusOutside:n,onInteractOutside:o,onDismiss:p,children:(0,b.jsx)(ao.Root,{asChild:!0,...v,dir:t.dir,orientation:"vertical",loop:f,currentTabStopId:x,onCurrentTabStopIdChange:y,onEntryFocus:(0,aa.composeEventHandlers)(k,a=>{t.isUsingKeyboardRef.current||a.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,b.jsx)(al.Content,{role:"menu","aria-orientation":"vertical","data-state":bl(s.open),"data-radix-menu-content":"",dir:t.dir,...u,...r,ref:A,style:{outline:"none",...r.style},onKeyDown:(0,aa.composeEventHandlers)(r.onKeyDown,a=>{let b=a.target.closest("[data-radix-menu-content]")===a.currentTarget,c=a.ctrlKey||a.altKey||a.metaKey,d=1===a.key.length;if(b){var e;let b,f,g,h,i,j;"Tab"===a.key&&a.preventDefault(),!c&&d&&(e=a.key,b=C.current+e,f=w().filter(a=>!a.disabled),g=document.activeElement,h=f.find(a=>a.ref.current===g)?.textValue,i=function(a,b,c){var d;let e=b.length>1&&Array.from(b).every(a=>a===b[0])?b[0]:b,f=c?a.indexOf(c):-1,g=(d=Math.max(f,0),a.map((b,c)=>a[(d+c)%a.length]));1===e.length&&(g=g.filter(a=>a!==c));let h=g.find(a=>a.toLowerCase().startsWith(e.toLowerCase()));return h!==c?h:void 0}(f.map(a=>a.textValue),b,h),j=f.find(a=>a.textValue===i)?.ref.current,function a(b){C.current=b,window.clearTimeout(B.current),""!==b&&(B.current=window.setTimeout(()=>a(""),1e3))}(b),j&&setTimeout(()=>j.focus()))}let f=z.current;if(a.target!==f||!av.includes(a.key))return;a.preventDefault();let g=w().filter(a=>!a.disabled).map(a=>a.ref.current);au.includes(a.key)&&g.reverse(),function(a){let b=document.activeElement;for(let c of a)if(c===b||(c.focus(),document.activeElement!==b))return}(g)}),onBlur:(0,aa.composeEventHandlers)(a.onBlur,a=>{a.currentTarget.contains(a.target)||(window.clearTimeout(B.current),C.current="")}),onPointerMove:(0,aa.composeEventHandlers)(a.onPointerMove,bo(a=>{let b=a.target,c=G.current!==a.clientX;a.currentTarget.contains(b)&&c&&(F.current=a.clientX>G.current?"right":"left",G.current=a.clientX)}))})})})})})})});aT.displayName=aQ;var aY=c.forwardRef((a,c)=>{let{__scopeMenu:d,...e}=a;return(0,b.jsx)(ae.Primitive.div,{role:"group",...e,ref:c})});aY.displayName="MenuGroup";var aZ=c.forwardRef((a,c)=>{let{__scopeMenu:d,...e}=a;return(0,b.jsx)(ae.Primitive.div,{...e,ref:c})});aZ.displayName="MenuLabel";var a$="MenuItem",a_="menu.itemSelect",a0=c.forwardRef((a,d)=>{let{disabled:e=!1,onSelect:f,...g}=a,h=c.useRef(null),i=aJ(a$,a.__scopeMenu),j=aS(a$,a.__scopeMenu),k=(0,ab.useComposedRefs)(d,h),l=c.useRef(!1);return(0,b.jsx)(a1,{...g,ref:k,disabled:e,onClick:(0,aa.composeEventHandlers)(a.onClick,()=>{let a=h.current;if(!e&&a){let b=new CustomEvent(a_,{bubbles:!0,cancelable:!0});a.addEventListener(a_,a=>f?.(a),{once:!0}),(0,ae.dispatchDiscreteCustomEvent)(a,b),b.defaultPrevented?l.current=!1:i.onClose()}}),onPointerDown:b=>{a.onPointerDown?.(b),l.current=!0},onPointerUp:(0,aa.composeEventHandlers)(a.onPointerUp,a=>{l.current||a.currentTarget?.click()}),onKeyDown:(0,aa.composeEventHandlers)(a.onKeyDown,a=>{let b=""!==j.searchRef.current;e||b&&" "===a.key||at.includes(a.key)&&(a.currentTarget.click(),a.preventDefault())})})});a0.displayName=a$;var a1=c.forwardRef((a,d)=>{let{__scopeMenu:e,disabled:f=!1,textValue:g,...h}=a,i=aS(a$,e),j=aF(e),k=c.useRef(null),l=(0,ab.useComposedRefs)(d,k),[m,n]=c.useState(!1),[o,p]=c.useState("");return c.useEffect(()=>{let a=k.current;a&&p((a.textContent??"").trim())},[h.children]),(0,b.jsx)(az.ItemSlot,{scope:e,disabled:f,textValue:g??o,children:(0,b.jsx)(ao.Item,{asChild:!0,...j,focusable:!f,children:(0,b.jsx)(ae.Primitive.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":f||void 0,"data-disabled":f?"":void 0,...h,ref:l,onPointerMove:(0,aa.composeEventHandlers)(a.onPointerMove,bo(a=>{f?i.onItemLeave(a):(i.onItemEnter(a),a.defaultPrevented||a.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:(0,aa.composeEventHandlers)(a.onPointerLeave,bo(a=>i.onItemLeave(a))),onFocus:(0,aa.composeEventHandlers)(a.onFocus,()=>n(!0)),onBlur:(0,aa.composeEventHandlers)(a.onBlur,()=>n(!1))})})})}),a2=c.forwardRef((a,c)=>{let{checked:d=!1,onCheckedChange:e,...f}=a;return(0,b.jsx)(ba,{scope:a.__scopeMenu,checked:d,children:(0,b.jsx)(a0,{role:"menuitemcheckbox","aria-checked":bm(d)?"mixed":d,...f,ref:c,"data-state":bn(d),onSelect:(0,aa.composeEventHandlers)(f.onSelect,()=>e?.(!!bm(d)||!d),{checkForDefaultPrevented:!1})})})});a2.displayName="MenuCheckboxItem";var a3="MenuRadioGroup",[a4,a5]=aC(a3,{value:void 0,onValueChange:()=>{}}),a6=c.forwardRef((a,c)=>{let{value:d,onValueChange:e,...f}=a,g=(0,aq.useCallbackRef)(e);return(0,b.jsx)(a4,{scope:a.__scopeMenu,value:d,onValueChange:g,children:(0,b.jsx)(aY,{...f,ref:c})})});a6.displayName=a3;var a7="MenuRadioItem",a8=c.forwardRef((a,c)=>{let{value:d,...e}=a,f=a5(a7,a.__scopeMenu),g=d===f.value;return(0,b.jsx)(ba,{scope:a.__scopeMenu,checked:g,children:(0,b.jsx)(a0,{role:"menuitemradio","aria-checked":g,...e,ref:c,"data-state":bn(g),onSelect:(0,aa.composeEventHandlers)(e.onSelect,()=>f.onValueChange?.(d),{checkForDefaultPrevented:!1})})})});a8.displayName=a7;var a9="MenuItemIndicator",[ba,bb]=aC(a9,{checked:!1}),bc=c.forwardRef((a,c)=>{let{__scopeMenu:d,forceMount:e,...f}=a,g=bb(a9,d);return(0,b.jsx)(an.Presence,{present:e||bm(g.checked)||!0===g.checked,children:(0,b.jsx)(ae.Primitive.span,{...f,ref:c,"data-state":bn(g.checked)})})});bc.displayName=a9;var bd=c.forwardRef((a,c)=>{let{__scopeMenu:d,...e}=a;return(0,b.jsx)(ae.Primitive.div,{role:"separator","aria-orientation":"horizontal",...e,ref:c})});bd.displayName="MenuSeparator";var be=c.forwardRef((a,c)=>{let{__scopeMenu:d,...e}=a,f=aE(d);return(0,b.jsx)(al.Arrow,{...f,...e,ref:c})});be.displayName="MenuArrow";var[bf,bg]=aC("MenuSub"),bh="MenuSubTrigger",bi=c.forwardRef((a,d)=>{let e=aH(bh,a.__scopeMenu),f=aJ(bh,a.__scopeMenu),g=bg(bh,a.__scopeMenu),h=aS(bh,a.__scopeMenu),i=c.useRef(null),{pointerGraceTimerRef:j,onPointerGraceIntentChange:k}=h,l={__scopeMenu:a.__scopeMenu},m=c.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return c.useEffect(()=>m,[m]),c.useEffect(()=>{let a=j.current;return()=>{window.clearTimeout(a),k(null)}},[j,k]),(0,b.jsx)(aL,{asChild:!0,...l,children:(0,b.jsx)(a1,{id:g.triggerId,"aria-haspopup":"menu","aria-expanded":e.open,"aria-controls":g.contentId,"data-state":bl(e.open),...a,ref:(0,ab.composeRefs)(d,g.onTriggerChange),onClick:b=>{a.onClick?.(b),a.disabled||b.defaultPrevented||(b.currentTarget.focus(),e.open||e.onOpenChange(!0))},onPointerMove:(0,aa.composeEventHandlers)(a.onPointerMove,bo(b=>{h.onItemEnter(b),!b.defaultPrevented&&(a.disabled||e.open||i.current||(h.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{e.onOpenChange(!0),m()},100)))})),onPointerLeave:(0,aa.composeEventHandlers)(a.onPointerLeave,bo(a=>{m();let b=e.content?.getBoundingClientRect();if(b){let c=e.content?.dataset.side,d="right"===c,f=b[d?"left":"right"],g=b[d?"right":"left"];h.onPointerGraceIntentChange({area:[{x:a.clientX+(d?-5:5),y:a.clientY},{x:f,y:b.top},{x:g,y:b.top},{x:g,y:b.bottom},{x:f,y:b.bottom}],side:c}),window.clearTimeout(j.current),j.current=window.setTimeout(()=>h.onPointerGraceIntentChange(null),300)}else{if(h.onTriggerLeave(a),a.defaultPrevented)return;h.onPointerGraceIntentChange(null)}})),onKeyDown:(0,aa.composeEventHandlers)(a.onKeyDown,b=>{let c=""!==h.searchRef.current;a.disabled||c&&" "===b.key||aw[f.dir].includes(b.key)&&(e.onOpenChange(!0),e.content?.focus(),b.preventDefault())})})})});bi.displayName=bh;var bj="MenuSubContent",bk=c.forwardRef((a,d)=>{let e=aO(aQ,a.__scopeMenu),{forceMount:f=e.forceMount,...g}=a,h=aH(aQ,a.__scopeMenu),i=aJ(aQ,a.__scopeMenu),j=bg(bj,a.__scopeMenu),k=c.useRef(null),l=(0,ab.useComposedRefs)(d,k);return(0,b.jsx)(az.Provider,{scope:a.__scopeMenu,children:(0,b.jsx)(an.Presence,{present:f||h.open,children:(0,b.jsx)(az.Slot,{scope:a.__scopeMenu,children:(0,b.jsx)(aX,{id:j.contentId,"aria-labelledby":j.triggerId,...g,ref:l,align:"start",side:"rtl"===i.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:a=>{i.isUsingKeyboardRef.current&&k.current?.focus(),a.preventDefault()},onCloseAutoFocus:a=>a.preventDefault(),onFocusOutside:(0,aa.composeEventHandlers)(a.onFocusOutside,a=>{a.target!==j.trigger&&h.onOpenChange(!1)}),onEscapeKeyDown:(0,aa.composeEventHandlers)(a.onEscapeKeyDown,a=>{i.onClose(),a.preventDefault()}),onKeyDown:(0,aa.composeEventHandlers)(a.onKeyDown,a=>{let b=a.currentTarget.contains(a.target),c=ax[i.dir].includes(a.key);b&&c&&(h.onOpenChange(!1),j.trigger?.focus(),a.preventDefault())})})})})})});function bl(a){return a?"open":"closed"}function bm(a){return"indeterminate"===a}function bn(a){return bm(a)?"indeterminate":a?"checked":"unchecked"}function bo(a){return b=>"mouse"===b.pointerType?a(b):void 0}bk.displayName=bj;var bp="DropdownMenu",[bq,br]=(0,ac.createContextScope)(bp,[aD]),bs=aD(),[bt,bu]=bq(bp),bv=a=>{let{__scopeDropdownMenu:d,children:e,dir:f,open:g,defaultOpen:h,onOpenChange:i,modal:j=!0}=a,k=bs(d),l=c.useRef(null),[m,n]=(0,ad.useControllableState)({prop:g,defaultProp:h??!1,onChange:i,caller:bp});return(0,b.jsx)(bt,{scope:d,triggerId:(0,ak.useId)(),triggerRef:l,contentId:(0,ak.useId)(),open:m,onOpenChange:n,onOpenToggle:c.useCallback(()=>n(a=>!a),[n]),modal:j,children:(0,b.jsx)(aK,{...k,open:m,onOpenChange:n,dir:f,modal:j,children:e})})};bv.displayName=bp;var bw="DropdownMenuTrigger",bx=c.forwardRef((a,c)=>{let{__scopeDropdownMenu:d,disabled:e=!1,...f}=a,g=bu(bw,d),h=bs(d);return(0,b.jsx)(aL,{asChild:!0,...h,children:(0,b.jsx)(ae.Primitive.button,{type:"button",id:g.triggerId,"aria-haspopup":"menu","aria-expanded":g.open,"aria-controls":g.open?g.contentId:void 0,"data-state":g.open?"open":"closed","data-disabled":e?"":void 0,disabled:e,...f,ref:(0,ab.composeRefs)(c,g.triggerRef),onPointerDown:(0,aa.composeEventHandlers)(a.onPointerDown,a=>{!e&&0===a.button&&!1===a.ctrlKey&&(g.onOpenToggle(),g.open||a.preventDefault())}),onKeyDown:(0,aa.composeEventHandlers)(a.onKeyDown,a=>{!e&&(["Enter"," "].includes(a.key)&&g.onOpenToggle(),"ArrowDown"===a.key&&g.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});bx.displayName=bw;var by=a=>{let{__scopeDropdownMenu:c,...d}=a,e=bs(c);return(0,b.jsx)(aP,{...e,...d})};by.displayName="DropdownMenuPortal";var bz="DropdownMenuContent",bA=c.forwardRef((a,d)=>{let{__scopeDropdownMenu:e,...f}=a,g=bu(bz,e),h=bs(e),i=c.useRef(!1);return(0,b.jsx)(aT,{id:g.contentId,"aria-labelledby":g.triggerId,...h,...f,ref:d,onCloseAutoFocus:(0,aa.composeEventHandlers)(a.onCloseAutoFocus,a=>{i.current||g.triggerRef.current?.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:(0,aa.composeEventHandlers)(a.onInteractOutside,a=>{let b=a.detail.originalEvent,c=0===b.button&&!0===b.ctrlKey,d=2===b.button||c;(!g.modal||d)&&(i.current=!0)}),style:{...a.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});bA.displayName=bz,c.forwardRef((a,c)=>{let{__scopeDropdownMenu:d,...e}=a,f=bs(d);return(0,b.jsx)(aY,{...f,...e,ref:c})}).displayName="DropdownMenuGroup",c.forwardRef((a,c)=>{let{__scopeDropdownMenu:d,...e}=a,f=bs(d);return(0,b.jsx)(aZ,{...f,...e,ref:c})}).displayName="DropdownMenuLabel";var bB=c.forwardRef((a,c)=>{let{__scopeDropdownMenu:d,...e}=a,f=bs(d);return(0,b.jsx)(a0,{...f,...e,ref:c})});function bC({...a}){return(0,b.jsx)(bv,{"data-slot":"dropdown-menu",...a})}function bD({...a}){return(0,b.jsx)(bx,{"data-slot":"dropdown-menu-trigger",...a})}function bE({className:a,sideOffset:c=4,...d}){return(0,b.jsx)(by,{children:(0,b.jsx)(bA,{"data-slot":"dropdown-menu-content",sideOffset:c,className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",a),...d})})}function bF({className:a,inset:c,variant:d="default",...e}){return(0,b.jsx)(bB,{"data-slot":"dropdown-menu-item","data-inset":c,"data-variant":d,className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...e})}bB.displayName="DropdownMenuItem",c.forwardRef((a,c)=>{let{__scopeDropdownMenu:d,...e}=a,f=bs(d);return(0,b.jsx)(a2,{...f,...e,ref:c})}).displayName="DropdownMenuCheckboxItem",c.forwardRef((a,c)=>{let{__scopeDropdownMenu:d,...e}=a,f=bs(d);return(0,b.jsx)(a6,{...f,...e,ref:c})}).displayName="DropdownMenuRadioGroup",c.forwardRef((a,c)=>{let{__scopeDropdownMenu:d,...e}=a,f=bs(d);return(0,b.jsx)(a8,{...f,...e,ref:c})}).displayName="DropdownMenuRadioItem",c.forwardRef((a,c)=>{let{__scopeDropdownMenu:d,...e}=a,f=bs(d);return(0,b.jsx)(bc,{...f,...e,ref:c})}).displayName="DropdownMenuItemIndicator",c.forwardRef((a,c)=>{let{__scopeDropdownMenu:d,...e}=a,f=bs(d);return(0,b.jsx)(bd,{...f,...e,ref:c})}).displayName="DropdownMenuSeparator",c.forwardRef((a,c)=>{let{__scopeDropdownMenu:d,...e}=a,f=bs(d);return(0,b.jsx)(be,{...f,...e,ref:c})}).displayName="DropdownMenuArrow",c.forwardRef((a,c)=>{let{__scopeDropdownMenu:d,...e}=a,f=bs(d);return(0,b.jsx)(bi,{...f,...e,ref:c})}).displayName="DropdownMenuSubTrigger",c.forwardRef((a,c)=>{let{__scopeDropdownMenu:d,...e}=a,f=bs(d);return(0,b.jsx)(bk,{...f,...e,ref:c,style:{...a.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})}).displayName="DropdownMenuSubContent",a.i(6406),a.i(52254),(0,k.default)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var bG=a.i(15618);let bH=(0,k.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);function bI(){let{currentTeam:a}=(0,e.useTeamStore)(),{data:g,isLoading:h}=(0,d.usePlayers)(a?.id||""),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(""),q=g?.filter(a=>{let b=`${a.utilisateur.prenoms} ${a.utilisateur.nom}`.toLowerCase(),c=a.profil.dossard.toString();return b.includes(o.toLowerCase())||c.includes(o)}),r=q?.filter(a=>"ACTIF"===a.profil.statut)||[],t=q?.filter(a=>"ACTIF"!==a.profil.statut)||[];return(0,b.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 space-y-4 sm:space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Joueurs"}),(0,b.jsx)("p",{className:"text-slate-600 mt-1 text-sm sm:text-base",children:"Gérez vos joueurs et suivez leurs performances"})]}),(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsxs)(bC,{children:[(0,b.jsx)(bD,{asChild:!0,children:(0,b.jsxs)(x.Button,{className:"w-full sm:w-auto",children:[(0,b.jsx)(bG.Plus,{className:"h-4 w-4 mr-2"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Ajouter des joueurs"}),(0,b.jsx)("span",{className:"sm:hidden",children:"Ajouter"})]})}),(0,b.jsxs)(bE,{align:"end",className:"w-56",children:[(0,b.jsx)(bF,{onClick:()=>j(!0),children:"Inviter un joueur"}),(0,b.jsxs)(bF,{onClick:()=>l(!0),children:[(0,b.jsx)(X.Upload,{className:"h-4 w-4 mr-2"}),"Import en masse (CSV/Excel)"]})]})]})})]}),(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"p-3 sm:p-4",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(bH,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),(0,b.jsx)(C.Input,{placeholder:"Rechercher par nom ou dossard...",value:o,onChange:a=>p(a.target.value),className:"pl-10 h-11"})]})})}),(0,b.jsxs)(z.Tabs,{defaultValue:"active",className:"space-y-4",children:[(0,b.jsxs)(z.TabsList,{className:"w-full sm:w-auto",children:[(0,b.jsxs)(z.TabsTrigger,{value:"active",className:"flex-1 sm:flex-none",children:["Actifs (",r.length,")"]}),(0,b.jsxs)(z.TabsTrigger,{value:"archived",className:"flex-1 sm:flex-none",children:["Archivés (",t.length,")"]})]}),(0,b.jsx)(z.TabsContent,{value:"active",className:"space-y-4",children:h?(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"flex items-center justify-center h-96",children:(0,b.jsx)(F.Loader2,{className:"h-8 w-8 animate-spin text-primary"})})}):(0,b.jsx)(s,{players:r,onSelectPlayer:n})}),(0,b.jsx)(z.TabsContent,{value:"archived",className:"space-y-4",children:h?(0,b.jsx)(f.Card,{children:(0,b.jsx)(f.CardContent,{className:"flex items-center justify-center h-96",children:(0,b.jsx)(F.Loader2,{className:"h-8 w-8 animate-spin text-primary"})})}):(0,b.jsx)(s,{players:t,onSelectPlayer:n})})]}),(0,b.jsx)(W.InvitePlayerDialog,{open:i,onOpenChange:j}),(0,b.jsx)(_,{open:k,onOpenChange:l}),(0,b.jsx)(V,{playerId:m,open:!!m,onOpenChange:a=>!a&&n(null)})]})}a.s(["default",()=>bI],57984)}];

//# sourceMappingURL=app_%28dashboard%29_dashboard_players_page_tsx_6b780e15._.js.map