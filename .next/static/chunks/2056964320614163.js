(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,81307,e=>{"use strict";var t=e.i(96001);e.s(["z",0,t])},94179,e=>{"use strict";var t=e.i(43476),s=e.i(932),r=e.i(91918),a=e.i(25913),i=e.i(47163);let n=(0,a.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l(e){let a,l,o,c,d,u,m=(0,s.c)(12);m[0]!==e?({className:a,variant:c,asChild:o,...l}=e,m[0]=e,m[1]=a,m[2]=l,m[3]=o,m[4]=c):(a=m[1],l=m[2],o=m[3],c=m[4]);let h=void 0!==o&&o?r.Slot:"span";return m[5]!==a||m[6]!==c?(d=(0,i.cn)(n({variant:c}),a),m[5]=a,m[6]=c,m[7]=d):d=m[7],m[8]!==h||m[9]!==l||m[10]!==d?(u=(0,t.jsx)(h,{"data-slot":"badge",className:d,...l}),m[8]=h,m[9]=l,m[10]=d,m[11]=u):u=m[11],u}e.s(["Badge",()=>l])},75830,86318,e=>{"use strict";var t=e.i(71645),s=e.i(30030),r=e.i(20783),a=e.i(91918),i=e.i(43476);function n(e){let n=e+"CollectionProvider",[l,o]=(0,s.createContextScope)(n),[c,d]=l(n,{collectionRef:{current:null},itemMap:new Map}),u=e=>{let{scope:s,children:r}=e,a=t.default.useRef(null),n=t.default.useRef(new Map).current;return(0,i.jsx)(c,{scope:s,itemMap:n,collectionRef:a,children:r})};u.displayName=n;let m=e+"CollectionSlot",h=(0,a.createSlot)(m),p=t.default.forwardRef((e,t)=>{let{scope:s,children:a}=e,n=d(m,s),l=(0,r.useComposedRefs)(t,n.collectionRef);return(0,i.jsx)(h,{ref:l,children:a})});p.displayName=m;let f=e+"CollectionItemSlot",x="data-radix-collection-item",g=(0,a.createSlot)(f),y=t.default.forwardRef((e,s)=>{let{scope:a,children:n,...l}=e,o=t.default.useRef(null),c=(0,r.useComposedRefs)(s,o),u=d(f,a);return t.default.useEffect(()=>(u.itemMap.set(o,{ref:o,...l}),()=>void u.itemMap.delete(o))),(0,i.jsx)(g,{...{[x]:""},ref:c,children:n})});return y.displayName=f,[{Provider:u,Slot:p,ItemSlot:y},function(s){let r=d(e+"CollectionConsumer",s);return t.default.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${x}]`));return Array.from(r.itemMap.values()).sort((e,s)=>t.indexOf(e.ref.current)-t.indexOf(s.ref.current))},[r.collectionRef,r.itemMap])},o]}var l=new WeakMap;function o(e,t){var s,r;let a,i,n;if("at"in Array.prototype)return Array.prototype.at.call(e,t);let l=(s=e,r=t,a=s.length,(n=(i=c(r))>=0?i:a+i)<0||n>=a?-1:n);return -1===l?void 0:e[l]}function c(e){return e!=e||0===e?0:Math.trunc(e)}(class e extends Map{#e;constructor(e){super(e),this.#e=[...super.keys()],l.set(this,!0)}set(e,t){return l.get(this)&&(this.has(e)?this.#e[this.#e.indexOf(e)]=e:this.#e.push(e)),super.set(e,t),this}insert(e,t,s){let r,a=this.has(t),i=this.#e.length,n=c(e),l=n>=0?n:i+n,o=l<0||l>=i?-1:l;if(o===this.size||a&&o===this.size-1||-1===o)return this.set(t,s),this;let d=this.size+ +!a;n<0&&l++;let u=[...this.#e],m=!1;for(let e=l;e<d;e++)if(l===e){let i=u[e];u[e]===t&&(i=u[e+1]),a&&this.delete(t),r=this.get(i),this.set(t,s)}else{m||u[e-1]!==t||(m=!0);let s=u[m?e:e-1],a=r;r=this.get(s),this.delete(s),this.set(s,a)}return this}with(t,s,r){let a=new e(this);return a.insert(t,s,r),a}before(e){let t=this.#e.indexOf(e)-1;if(!(t<0))return this.entryAt(t)}setBefore(e,t,s){let r=this.#e.indexOf(e);return -1===r?this:this.insert(r,t,s)}after(e){let t=this.#e.indexOf(e);if(-1!==(t=-1===t||t===this.size-1?-1:t+1))return this.entryAt(t)}setAfter(e,t,s){let r=this.#e.indexOf(e);return -1===r?this:this.insert(r+1,t,s)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#e=[],super.clear()}delete(e){let t=super.delete(e);return t&&this.#e.splice(this.#e.indexOf(e),1),t}deleteAt(e){let t=this.keyAt(e);return void 0!==t&&this.delete(t)}at(e){let t=o(this.#e,e);if(void 0!==t)return this.get(t)}entryAt(e){let t=o(this.#e,e);if(void 0!==t)return[t,this.get(t)]}indexOf(e){return this.#e.indexOf(e)}keyAt(e){return o(this.#e,e)}from(e,t){let s=this.indexOf(e);if(-1===s)return;let r=s+t;return r<0&&(r=0),r>=this.size&&(r=this.size-1),this.at(r)}keyFrom(e,t){let s=this.indexOf(e);if(-1===s)return;let r=s+t;return r<0&&(r=0),r>=this.size&&(r=this.size-1),this.keyAt(r)}find(e,t){let s=0;for(let r of this){if(Reflect.apply(e,t,[r,s,this]))return r;s++}}findIndex(e,t){let s=0;for(let r of this){if(Reflect.apply(e,t,[r,s,this]))return s;s++}return -1}filter(t,s){let r=[],a=0;for(let e of this)Reflect.apply(t,s,[e,a,this])&&r.push(e),a++;return new e(r)}map(t,s){let r=[],a=0;for(let e of this)r.push([e[0],Reflect.apply(t,s,[e,a,this])]),a++;return new e(r)}reduce(...e){let[t,s]=e,r=0,a=s??this.at(0);for(let s of this)a=0===r&&1===e.length?s:Reflect.apply(t,this,[a,s,r,this]),r++;return a}reduceRight(...e){let[t,s]=e,r=s??this.at(-1);for(let s=this.size-1;s>=0;s--){let a=this.at(s);r=s===this.size-1&&1===e.length?a:Reflect.apply(t,this,[r,a,s,this])}return r}toSorted(t){return new e([...this.entries()].sort(t))}toReversed(){let t=new e;for(let e=this.size-1;e>=0;e--){let s=this.keyAt(e),r=this.get(s);t.set(s,r)}return t}toSpliced(...t){let s=[...this.entries()];return s.splice(...t),new e(s)}slice(t,s){let r=new e,a=this.size-1;if(void 0===t)return r;t<0&&(t+=this.size),void 0!==s&&s>0&&(a=s-1);for(let e=t;e<=a;e++){let t=this.keyAt(e),s=this.get(t);r.set(t,s)}return r}every(e,t){let s=0;for(let r of this){if(!Reflect.apply(e,t,[r,s,this]))return!1;s++}return!0}some(e,t){let s=0;for(let r of this){if(Reflect.apply(e,t,[r,s,this]))return!0;s++}return!1}}),e.s(["createCollection",()=>n],75830);var d=t.createContext(void 0);function u(e){let s=t.useContext(d);return e||s||"ltr"}e.s(["useDirection",()=>u],86318)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},63488,e=>{"use strict";let t=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>t],63488)},69074,e=>{"use strict";let t=(0,e.i(75254).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>t],69074)},48539,e=>{"use strict";var t,s,r=((t={}).NORMAL="NORMAL",t.AGENT_PP="AGENT_PP",t.DIRECTEUR_PP="DIRECTEUR_PP",t),a=((s={}).OWNER="OWNER",s.STAFF="STAFF",s.PLAYER="PLAYER",s);e.s(["RoleEquipe",()=>a,"RolePlateforme",()=>r])},42246,e=>{"use strict";var t=e.i(43476),s=e.i(932),r=e.i(71645),a=e.i(53145),i=e.i(94814),n=e.i(54616),l=e.i(12598),o=e.i(46696),c=e.i(81307);let d=(e,t)=>c.z.union([c.z.string().max(e,t),c.z.literal("")]).optional(),u=c.z.union([c.z.string().regex(/^\+?1?\d{9,15}$/,"Format de téléphone invalide"),c.z.literal("")]).optional(),m=c.z.object({nom:d(50,"50 caractères maximum"),prenoms:d(100,"100 caractères maximum"),telephone:u,whatsapp:u,langue:c.z.enum(["fr","en","pt","ar","es","sw"]),fuseau_horaire:c.z.string().min(1,"Fuseau horaire requis")}),h=c.z.object({old_password:c.z.string().min(1,"Ancien mot de passe requis"),password:c.z.string().min(8,"Au moins 8 caractères").regex(/^(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,"Inclure une majuscule, un chiffre et un caractère spécial"),confirm_password:c.z.string().min(1,"Confirmation requise")}).refine(e=>e.password===e.confirm_password,{message:"Les mots de passe ne correspondent pas",path:["confirm_password"]}),p=c.z.object({new_email:c.z.string().email("Email invalide"),password:c.z.string().min(1,"Mot de passe requis")});var f=e.i(15760);let x={async updateProfile(e){let{photo:t,remove_photo:s,...r}=e,a={};if(Object.entries(r).forEach(([e,t])=>{void 0!==t&&(a[e]=null===t?"":t)}),void 0!==s&&(a.remove_photo=s),t instanceof File){let e=new FormData;return e.append("photo",t),Object.entries(a).forEach(([t,s])=>{if(void 0!==s){if(null===s)return void e.append(t,"");e.append(t,"boolean"==typeof s?String(s):s)}}),(await f.apiClient.patch("/profil/",e,{headers:{"Content-Type":"multipart/form-data"}})).data}return(await f.apiClient.patch("/profil/",a)).data},requestEmailChange:async e=>(await f.apiClient.post("/change-email/request/",e)).data};var g=e.i(58034),y=e.i(48539),v=e.i(70065),j=e.i(10708),b=e.i(23750),_=e.i(67881),w=e.i(63270),N=e.i(94179),S=e.i(62870),C=e.i(25959),P=e.i(31278),A=e.i(69074),k=e.i(27612);let R=(0,e.i(75254).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var z=e.i(63488);let E=[{value:"fr",label:"Français"},{value:"en",label:"Anglais"},{value:"pt",label:"Portugais"},{value:"ar",label:"Arabe"},{value:"es",label:"Espagnol"},{value:"sw",label:"Swahili"}],L={NORMAL:"Utilisateur",AGENT_PP:"Agent PP",DIRECTEUR_PP:"Directeur PP"},F=["UTC","Africa/Abidjan","Africa/Dakar","Africa/Algiers","Europe/Paris","Europe/London","America/New_York","America/Los_Angeles","America/Sao_Paulo","Asia/Dubai","Asia/Tokyo"];function M(e){let t=e?.response?.data;if(!t)return"Une erreur est survenue";if("string"==typeof t)return t;if(t.message)return t.message;if(t.detail)return t.detail;if(Array.isArray(t.non_field_errors)&&t.non_field_errors.length)return t.non_field_errors[0];let s=Object.keys(t)[0];return s&&Array.isArray(t[s])&&t[s].length?t[s][0]:"Une erreur est survenue"}function O(){let e,c,d,u,f,M,O,I,H,Y,Z,K,Q,J,X,ee,et,es,er,ea,ei,en,el,eo,ec,ed,eu,em,eh,ep,ef,ex,eg,ey,ev,ej,eb,e_,ew,eN,eS,eC,eP,eA,ek,eR,ez,eE,eL,eF,eM,eO,eT,eU,eI,eD,eq,eV,eB,eW,e$,eG,eH,eY,eZ,eK,eQ,eJ,eX,e1,e0,e2,e4,e5,e3,e7,e6,e8,e9,te,tt,ts,tr,ta,ti,tn,tl,to,tc,td,tu,tm,th,tp,tf,tx,tg,ty,tv,tj,tb,t_,tw,tN,tS,tC,tP,tA,tk,tR,tz,tE,tL,tF,tM,tO,tT=(0,s.c)(258),{user:tU,setUser:tI}=(0,g.useAuthStore)(),tD=(0,l.useQueryClient)(),tq=(0,r.useRef)(null),[tV,tB]=(0,r.useState)(null),[tW,t$]=(0,r.useState)(null),[tG,tH]=(0,r.useState)(!1),[tY,tZ]=(0,r.useState)(F);tT[0]===Symbol.for("react.memo_cache_sentinel")?(e={resolver:(0,i.zodResolver)(m),defaultValues:{nom:"",prenoms:"",telephone:"",whatsapp:"",langue:"fr",fuseau_horaire:"UTC"}},tT[0]=e):e=tT[0];let tK=(0,a.useForm)(e);tT[1]===Symbol.for("react.memo_cache_sentinel")?(c={resolver:(0,i.zodResolver)(h),defaultValues:{old_password:"",password:"",confirm_password:""}},tT[1]=c):c=tT[1];let tQ=(0,a.useForm)(c);tT[2]===Symbol.for("react.memo_cache_sentinel")?(d={resolver:(0,i.zodResolver)(p),defaultValues:{new_email:"",password:""}},tT[2]=d):d=tT[2];let tJ=(0,a.useForm)(d);tT[3]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{"function"==typeof Intl.supportedValuesOf&&tZ(Intl.supportedValuesOf("timeZone").slice().sort())},f=[],tT[3]=u,tT[4]=f):(u=tT[3],f=tT[4]),(0,r.useEffect)(u,f),tT[5]!==tK||tT[6]!==tU?(M=()=>{if(tU){let e=E.some(e=>e.value===tU.langue)?tU.langue:"fr",t=tU.fuseau_horaire||"UTC";tK.reset({nom:tU.nom||"",prenoms:tU.prenoms||"",telephone:tU.telephone||"",whatsapp:tU.whatsapp||"",langue:e,fuseau_horaire:t}),tB(tU.photo??null),t$(null),tH(!1)}},O=[tU,tK],tT[5]=tK,tT[6]=tU,tT[7]=M,tT[8]=O):(M=tT[7],O=tT[8]),(0,r.useEffect)(M,O),tT[9]!==tU?(I=()=>{tU?.fuseau_horaire&&tZ(e=>e.includes(tU.fuseau_horaire)?e:[tU.fuseau_horaire,...e])},tT[9]=tU,tT[10]=I):I=tT[10];let tX=tU?.fuseau_horaire;tT[11]!==tX?(H=[tX],tT[11]=tX,tT[12]=H):H=tT[12],(0,r.useEffect)(I,H),tT[13]!==tV?(Y=()=>()=>{tV&&tV.startsWith("blob:")&&URL.revokeObjectURL(tV)},Z=[tV],tT[13]=tV,tT[14]=Y,tT[15]=Z):(Y=tT[14],Z=tT[15]),(0,r.useEffect)(Y,Z),tT[16]!==tD||tT[17]!==tI?(K=e=>{tI(e.profil),tD.setQueryData(["current-user"],e.profil),o.toast.success(e.message)},tT[16]=tD,tT[17]=tI,tT[18]=K):K=tT[18];let t1=K;tT[19]!==t1||tT[20]!==tV?(Q={mutationFn:G,onSuccess:e=>{t1(e),tV&&tV.startsWith("blob:")&&URL.revokeObjectURL(tV),t$(null),tH(!1),tB(e.profil.photo??null)},onError:$},tT[19]=t1,tT[20]=tV,tT[21]=Q):Q=tT[21];let t0=(0,n.useMutation)(Q);tT[22]!==t1||tT[23]!==tQ?(J={mutationFn:W,onSuccess:e=>{t1(e),tQ.reset()},onError:B},tT[22]=t1,tT[23]=tQ,tT[24]=J):J=tT[24];let t2=(0,n.useMutation)(J);tT[25]!==t1?(X={mutationFn:V,onSuccess:e=>{t1(e)},onError:q},tT[25]=t1,tT[26]=X):X=tT[26];let t4=(0,n.useMutation)(X);tT[27]!==tJ?(ee={mutationFn:x.requestEmailChange,onSuccess:e=>{o.toast.success(e.message),tJ.reset()},onError:D},tT[27]=tJ,tT[28]=ee):ee=tT[28];let t5=(0,n.useMutation)(ee);tT[29]===Symbol.for("react.memo_cache_sentinel")?(et=e=>{if(e){if(e.size>5242880)return void o.toast.error("La photo ne doit pas dépasser 5MB");if(!["image/jpeg","image/png","image/webp"].includes(e.type))return void o.toast.error("Formats acceptés : JPG, PNG ou WEBP");tB(t=>(t&&t.startsWith("blob:")&&URL.revokeObjectURL(t),URL.createObjectURL(e))),t$(e),tH(!1)}},tT[29]=et):et=tT[29];let t3=et;tT[30]!==tV?(es=()=>{tV&&tV.startsWith("blob:")&&URL.revokeObjectURL(tV),tB(null),t$(null),tH(!0)},tT[30]=tV,tT[31]=es):es=tT[31];let t7=es;tT[32]!==tW||tT[33]!==tG||tT[34]!==t0?(er=e=>{t0.mutate({nom:e.nom?.trim()??"",prenoms:e.prenoms?.trim()??"",telephone:e.telephone?.trim()??"",whatsapp:e.whatsapp?.trim()??"",langue:e.langue,fuseau_horaire:e.fuseau_horaire,photo:tW??void 0,remove_photo:!!tG||void 0})},tT[32]=tW,tT[33]=tG,tT[34]=t0,tT[35]=er):er=tT[35];let t6=er;tT[36]!==t2?(ea=e=>{t2.mutate({old_password:e.old_password,password:e.password})},tT[36]=t2,tT[37]=ea):ea=tT[37];let t8=ea;tT[38]!==t5?(ei=e=>{t5.mutate(e)},tT[38]=t5,tT[39]=ei):ei=tT[39];let t9=ei;tT[40]!==t4||tT[41]!==tU?(en=e=>{if(!tU)return;let t=tU.rolePlateforme===y.RolePlateforme.AGENT_PP||tU.rolePlateforme===y.RolePlateforme.DIRECTEUR_PP;!e&&t?o.toast.info("La double authentification est obligatoire pour votre rôle"):t4.mutate({deuxFacteursActif:e})},tT[40]=t4,tT[41]=tU,tT[42]=en):en=tT[42];let se=en;e:{let e,t,s;if(!tU){el="??";break e}let r=tU.prenoms||"";tT[43]!==r?(e=r.charAt(0),tT[43]=r,tT[44]=e):e=tT[44];let a=e,i=tU.nom||"";tT[45]!==i?(t=i.charAt(0),tT[45]=i,tT[46]=t):t=tT[46];let n=t;tT[47]!==a||tT[48]!==n?(s=`${a}${n}`.trim().toUpperCase(),tT[47]=a,tT[48]=n,tT[49]=s):s=tT[49],el=s||"??"}let st=el;if(!tU){let e;return tT[50]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"flex min-h-[60vh] items-center justify-center",children:(0,t.jsx)(P.Loader2,{className:"h-6 w-6 animate-spin text-primary"})}),tT[50]=e):e=tT[50],e}let ss=tK.formState.errors,sr=tQ.formState.errors,sa=tJ.formState.errors;tT[51]===Symbol.for("react.memo_cache_sentinel")?(eo=(0,t.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Mon profil"}),tT[51]=eo):eo=tT[51];let si=L[tU.rolePlateforme];tT[52]!==si?(ec=(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[eo,(0,t.jsx)(N.Badge,{variant:"secondary",children:si})]}),tT[52]=si,tT[53]=ec):ec=tT[53],tT[54]===Symbol.for("react.memo_cache_sentinel")?(ed=(0,t.jsx)("p",{className:"text-slate-600",children:"Mettez à jour vos informations personnelles, vos préférences et la sécurité du compte."}),tT[54]=ed):ed=tT[54],tT[55]!==ec?(eu=(0,t.jsxs)("div",{className:"space-y-2",children:[ec,ed]}),tT[55]=ec,tT[56]=eu):eu=tT[56],tT[57]===Symbol.for("react.memo_cache_sentinel")?(em=(0,t.jsxs)(v.CardHeader,{children:[(0,t.jsx)(v.CardTitle,{children:"Informations générales"}),(0,t.jsx)(v.CardDescription,{children:"Photo, identité et coordonnées visibles sur la plateforme."})]}),tT[57]=em):em=tT[57],tT[58]!==tK||tT[59]!==t6?(eh=tK.handleSubmit(t6),tT[58]=tK,tT[59]=t6,tT[60]=eh):eh=tT[60];let sn=tV??void 0;tT[61]!==sn?(ep=(0,t.jsx)(w.AvatarImage,{src:sn,alt:"Photo de profil"}),tT[61]=sn,tT[62]=ep):ep=tT[62],tT[63]!==st?(ef=(0,t.jsx)(w.AvatarFallback,{children:st}),tT[63]=st,tT[64]=ef):ef=tT[64],tT[65]!==ep||tT[66]!==ef?(ex=(0,t.jsxs)(w.Avatar,{className:"h-20 w-20",children:[ep,ef]}),tT[65]=ep,tT[66]=ef,tT[67]=ex):ex=tT[67],tT[68]===Symbol.for("react.memo_cache_sentinel")?(eg=()=>tq.current?.click(),tT[68]=eg):eg=tT[68],tT[69]===Symbol.for("react.memo_cache_sentinel")?(ey=(0,t.jsx)(A.Upload,{className:"h-4 w-4 mr-2"}),tT[69]=ey):ey=tT[69],tT[70]!==t0.isPending?(ev=(0,t.jsxs)(_.Button,{type:"button",variant:"outline",onClick:eg,disabled:t0.isPending,children:[ey,"Changer la photo"]}),tT[70]=t0.isPending,tT[71]=ev):ev=tT[71];let sl=t0.isPending||!tV&&!tW;return tT[72]===Symbol.for("react.memo_cache_sentinel")?(ej=(0,t.jsx)(k.Trash2,{className:"h-4 w-4 mr-2"}),tT[72]=ej):ej=tT[72],tT[73]!==t7||tT[74]!==sl?(eb=(0,t.jsxs)(_.Button,{type:"button",variant:"ghost",onClick:t7,disabled:sl,children:[ej,"Supprimer"]}),tT[73]=t7,tT[74]=sl,tT[75]=eb):eb=tT[75],tT[76]===Symbol.for("react.memo_cache_sentinel")?(e_=(0,t.jsx)("input",{ref:tq,type:"file",accept:"image/png,image/jpeg,image/webp",className:"hidden",onChange:e=>t3(e.target.files?.[0])}),tT[76]=e_):e_=tT[76],tT[77]!==ev||tT[78]!==eb?(ew=(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[ev,eb,e_]}),tT[77]=ev,tT[78]=eb,tT[79]=ew):ew=tT[79],tT[80]!==ex||tT[81]!==ew?(eN=(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[ex,ew]}),tT[80]=ex,tT[81]=ew,tT[82]=eN):eN=tT[82],tT[83]===Symbol.for("react.memo_cache_sentinel")?(eS=(0,t.jsx)(j.Label,{htmlFor:"prenoms",children:"Prénoms"}),tT[83]=eS):eS=tT[83],tT[84]!==tK?(eC=tK.register("prenoms"),tT[84]=tK,tT[85]=eC):eC=tT[85],tT[86]!==eC?(eP=(0,t.jsx)(b.Input,{id:"prenoms",...eC}),tT[86]=eC,tT[87]=eP):eP=tT[87],tT[88]!==ss.prenoms?(eA=ss.prenoms&&(0,t.jsx)("p",{className:"text-sm text-danger",children:ss.prenoms.message}),tT[88]=ss.prenoms,tT[89]=eA):eA=tT[89],tT[90]!==eP||tT[91]!==eA?(ek=(0,t.jsxs)("div",{className:"space-y-2",children:[eS,eP,eA]}),tT[90]=eP,tT[91]=eA,tT[92]=ek):ek=tT[92],tT[93]===Symbol.for("react.memo_cache_sentinel")?(eR=(0,t.jsx)(j.Label,{htmlFor:"nom",children:"Nom"}),tT[93]=eR):eR=tT[93],tT[94]!==tK?(ez=tK.register("nom"),tT[94]=tK,tT[95]=ez):ez=tT[95],tT[96]!==ez?(eE=(0,t.jsx)(b.Input,{id:"nom",...ez}),tT[96]=ez,tT[97]=eE):eE=tT[97],tT[98]!==ss.nom?(eL=ss.nom&&(0,t.jsx)("p",{className:"text-sm text-danger",children:ss.nom.message}),tT[98]=ss.nom,tT[99]=eL):eL=tT[99],tT[100]!==eE||tT[101]!==eL?(eF=(0,t.jsxs)("div",{className:"space-y-2",children:[eR,eE,eL]}),tT[100]=eE,tT[101]=eL,tT[102]=eF):eF=tT[102],tT[103]===Symbol.for("react.memo_cache_sentinel")?(eM=(0,t.jsx)(j.Label,{htmlFor:"telephone",children:"Téléphone"}),tT[103]=eM):eM=tT[103],tT[104]!==tK?(eO=tK.register("telephone"),tT[104]=tK,tT[105]=eO):eO=tT[105],tT[106]!==eO?(eT=(0,t.jsx)(b.Input,{id:"telephone",placeholder:"Ex: +221770000000",...eO}),tT[106]=eO,tT[107]=eT):eT=tT[107],tT[108]!==ss.telephone?(eU=ss.telephone&&(0,t.jsx)("p",{className:"text-sm text-danger",children:ss.telephone.message}),tT[108]=ss.telephone,tT[109]=eU):eU=tT[109],tT[110]!==eT||tT[111]!==eU?(eI=(0,t.jsxs)("div",{className:"space-y-2",children:[eM,eT,eU]}),tT[110]=eT,tT[111]=eU,tT[112]=eI):eI=tT[112],tT[113]===Symbol.for("react.memo_cache_sentinel")?(eD=(0,t.jsx)(j.Label,{htmlFor:"whatsapp",children:"Numéro WhatsApp"}),tT[113]=eD):eD=tT[113],tT[114]!==tK?(eq=tK.register("whatsapp"),tT[114]=tK,tT[115]=eq):eq=tT[115],tT[116]!==eq?(eV=(0,t.jsx)(b.Input,{id:"whatsapp",placeholder:"Ex: +221770000000",...eq}),tT[116]=eq,tT[117]=eV):eV=tT[117],tT[118]!==ss.whatsapp?(eB=ss.whatsapp&&(0,t.jsx)("p",{className:"text-sm text-danger",children:ss.whatsapp.message}),tT[118]=ss.whatsapp,tT[119]=eB):eB=tT[119],tT[120]!==eV||tT[121]!==eB?(eW=(0,t.jsxs)("div",{className:"space-y-2",children:[eD,eV,eB]}),tT[120]=eV,tT[121]=eB,tT[122]=eW):eW=tT[122],tT[123]===Symbol.for("react.memo_cache_sentinel")?(e$=(0,t.jsx)(j.Label,{children:"Langue préférée"}),tT[123]=e$):e$=tT[123],tT[124]!==tK.control?(eG=(0,t.jsx)(a.Controller,{control:tK.control,name:"langue",render:U}),tT[124]=tK.control,tT[125]=eG):eG=tT[125],tT[126]!==ss.langue?(eH=ss.langue&&(0,t.jsx)("p",{className:"text-sm text-danger",children:ss.langue.message}),tT[126]=ss.langue,tT[127]=eH):eH=tT[127],tT[128]!==eG||tT[129]!==eH?(eY=(0,t.jsxs)("div",{className:"space-y-2",children:[e$,eG,eH]}),tT[128]=eG,tT[129]=eH,tT[130]=eY):eY=tT[130],tT[131]===Symbol.for("react.memo_cache_sentinel")?(eZ=(0,t.jsx)(j.Label,{children:"Fuseau horaire"}),tT[131]=eZ):eZ=tT[131],tT[132]!==tY?(eK=e=>{let{field:s}=e;return(0,t.jsxs)(S.Select,{value:s.value,onValueChange:s.onChange,children:[(0,t.jsx)(S.SelectTrigger,{className:"w-full",children:(0,t.jsx)(S.SelectValue,{placeholder:"Choisir un fuseau"})}),(0,t.jsx)(S.SelectContent,{className:"max-h-72",children:tY.map(T)})]})},tT[132]=tY,tT[133]=eK):eK=tT[133],tT[134]!==tK.control||tT[135]!==eK?(eQ=(0,t.jsx)(a.Controller,{control:tK.control,name:"fuseau_horaire",render:eK}),tT[134]=tK.control,tT[135]=eK,tT[136]=eQ):eQ=tT[136],tT[137]!==ss.fuseau_horaire?(eJ=ss.fuseau_horaire&&(0,t.jsx)("p",{className:"text-sm text-danger",children:ss.fuseau_horaire.message}),tT[137]=ss.fuseau_horaire,tT[138]=eJ):eJ=tT[138],tT[139]!==eQ||tT[140]!==eJ?(eX=(0,t.jsxs)("div",{className:"space-y-2",children:[eZ,eQ,eJ]}),tT[139]=eQ,tT[140]=eJ,tT[141]=eX):eX=tT[141],tT[142]!==ek||tT[143]!==eF||tT[144]!==eI||tT[145]!==eW||tT[146]!==eY||tT[147]!==eX?(e1=(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[ek,eF,eI,eW,eY,eX]}),tT[142]=ek,tT[143]=eF,tT[144]=eI,tT[145]=eW,tT[146]=eY,tT[147]=eX,tT[148]=e1):e1=tT[148],tT[149]!==t0.isPending?(e0=t0.isPending?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Sauvegarde..."]}):"Enregistrer les modifications",tT[149]=t0.isPending,tT[150]=e0):e0=tT[150],tT[151]!==e0||tT[152]!==t0.isPending?(e2=(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(_.Button,{type:"submit",disabled:t0.isPending,children:e0})}),tT[151]=e0,tT[152]=t0.isPending,tT[153]=e2):e2=tT[153],tT[154]!==eh||tT[155]!==eN||tT[156]!==e1||tT[157]!==e2?(e4=(0,t.jsxs)(v.Card,{children:[em,(0,t.jsx)(v.CardContent,{children:(0,t.jsxs)("form",{onSubmit:eh,className:"space-y-6",children:[eN,e1,e2]})})]}),tT[154]=eh,tT[155]=eN,tT[156]=e1,tT[157]=e2,tT[158]=e4):e4=tT[158],tT[159]===Symbol.for("react.memo_cache_sentinel")?(e5=(0,t.jsxs)(v.CardHeader,{children:[(0,t.jsx)(v.CardTitle,{children:"Sécurité"}),(0,t.jsx)(v.CardDescription,{children:"Activez l’authentification à deux facteurs et mettez à jour votre mot de passe."})]}),tT[159]=e5):e5=tT[159],tT[160]===Symbol.for("react.memo_cache_sentinel")?(e3=(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(R,{className:"h-4 w-4 text-primary"}),(0,t.jsx)("p",{className:"font-medium",children:"Double authentification par email"})]}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Recevez un code par email à chaque connexion."})]}),tT[160]=e3):e3=tT[160],tT[161]!==se?(e7=e=>se(!0===e),tT[161]=se,tT[162]=e7):e7=tT[162],tT[163]!==e7||tT[164]!==t4.isPending||tT[165]!==tU.deuxFacteursActif?(e6=(0,t.jsxs)("div",{className:"flex items-start justify-between gap-4 rounded-lg border p-4",children:[e3,(0,t.jsx)(C.Checkbox,{id:"two-factor",checked:tU.deuxFacteursActif,disabled:t4.isPending,onCheckedChange:e7})]}),tT[163]=e7,tT[164]=t4.isPending,tT[165]=tU.deuxFacteursActif,tT[166]=e6):e6=tT[166],tT[167]!==t8||tT[168]!==tQ?(e8=tQ.handleSubmit(t8),tT[167]=t8,tT[168]=tQ,tT[169]=e8):e8=tT[169],tT[170]===Symbol.for("react.memo_cache_sentinel")?(e9=(0,t.jsx)(j.Label,{htmlFor:"old_password",children:"Ancien mot de passe"}),tT[170]=e9):e9=tT[170],tT[171]!==tQ?(te=tQ.register("old_password"),tT[171]=tQ,tT[172]=te):te=tT[172],tT[173]!==te?(tt=(0,t.jsx)(b.Input,{id:"old_password",type:"password",autoComplete:"current-password",...te}),tT[173]=te,tT[174]=tt):tt=tT[174],tT[175]!==sr.old_password?(ts=sr.old_password&&(0,t.jsx)("p",{className:"text-sm text-danger",children:sr.old_password.message}),tT[175]=sr.old_password,tT[176]=ts):ts=tT[176],tT[177]!==tt||tT[178]!==ts?(tr=(0,t.jsxs)("div",{className:"space-y-2",children:[e9,tt,ts]}),tT[177]=tt,tT[178]=ts,tT[179]=tr):tr=tT[179],tT[180]===Symbol.for("react.memo_cache_sentinel")?(ta=(0,t.jsx)(j.Label,{htmlFor:"password",children:"Nouveau mot de passe"}),tT[180]=ta):ta=tT[180],tT[181]!==tQ?(ti=tQ.register("password"),tT[181]=tQ,tT[182]=ti):ti=tT[182],tT[183]!==ti?(tn=(0,t.jsx)(b.Input,{id:"password",type:"password",autoComplete:"new-password",...ti}),tT[183]=ti,tT[184]=tn):tn=tT[184],tT[185]!==sr.password?(tl=sr.password&&(0,t.jsx)("p",{className:"text-sm text-danger",children:sr.password.message}),tT[185]=sr.password,tT[186]=tl):tl=tT[186],tT[187]!==tn||tT[188]!==tl?(to=(0,t.jsxs)("div",{className:"space-y-2",children:[ta,tn,tl]}),tT[187]=tn,tT[188]=tl,tT[189]=to):to=tT[189],tT[190]===Symbol.for("react.memo_cache_sentinel")?(tc=(0,t.jsx)(j.Label,{htmlFor:"confirm_password",children:"Confirmation"}),tT[190]=tc):tc=tT[190],tT[191]!==tQ?(td=tQ.register("confirm_password"),tT[191]=tQ,tT[192]=td):td=tT[192],tT[193]!==td?(tu=(0,t.jsx)(b.Input,{id:"confirm_password",type:"password",autoComplete:"new-password",...td}),tT[193]=td,tT[194]=tu):tu=tT[194],tT[195]!==sr.confirm_password?(tm=sr.confirm_password&&(0,t.jsx)("p",{className:"text-sm text-danger",children:sr.confirm_password.message}),tT[195]=sr.confirm_password,tT[196]=tm):tm=tT[196],tT[197]!==tu||tT[198]!==tm?(th=(0,t.jsxs)("div",{className:"space-y-2",children:[tc,tu,tm]}),tT[197]=tu,tT[198]=tm,tT[199]=th):th=tT[199],tT[200]!==tr||tT[201]!==to||tT[202]!==th?(tp=(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[tr,to,th]}),tT[200]=tr,tT[201]=to,tT[202]=th,tT[203]=tp):tp=tT[203],tT[204]!==t2.isPending?(tf=t2.isPending?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Mise à jour..."]}):"Modifier le mot de passe",tT[204]=t2.isPending,tT[205]=tf):tf=tT[205],tT[206]!==t2.isPending||tT[207]!==tf?(tx=(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(_.Button,{type:"submit",disabled:t2.isPending,children:tf})}),tT[206]=t2.isPending,tT[207]=tf,tT[208]=tx):tx=tT[208],tT[209]!==e8||tT[210]!==tp||tT[211]!==tx?(tg=(0,t.jsxs)("form",{onSubmit:e8,className:"space-y-4",children:[tp,tx]}),tT[209]=e8,tT[210]=tp,tT[211]=tx,tT[212]=tg):tg=tT[212],tT[213]!==tg||tT[214]!==e6?(ty=(0,t.jsxs)(v.Card,{children:[e5,(0,t.jsxs)(v.CardContent,{className:"space-y-6",children:[e6,tg]})]}),tT[213]=tg,tT[214]=e6,tT[215]=ty):ty=tT[215],tT[216]===Symbol.for("react.memo_cache_sentinel")?(tv=(0,t.jsxs)(v.CardHeader,{children:[(0,t.jsx)(v.CardTitle,{children:"Changement d’email"}),(0,t.jsx)(v.CardDescription,{children:"Un lien de confirmation sera envoyé à votre nouvelle adresse."})]}),tT[216]=tv):tv=tT[216],tT[217]!==tJ||tT[218]!==t9?(tj=tJ.handleSubmit(t9),tT[217]=tJ,tT[218]=t9,tT[219]=tj):tj=tT[219],tT[220]===Symbol.for("react.memo_cache_sentinel")?(tb=(0,t.jsx)(j.Label,{htmlFor:"new_email",children:"Nouvel email"}),tT[220]=tb):tb=tT[220],tT[221]!==tJ?(t_=tJ.register("new_email"),tT[221]=tJ,tT[222]=t_):t_=tT[222],tT[223]!==t_?(tw=(0,t.jsx)(b.Input,{id:"new_email",type:"email",placeholder:"nouveau@email.com",...t_}),tT[223]=t_,tT[224]=tw):tw=tT[224],tT[225]!==sa.new_email?(tN=sa.new_email&&(0,t.jsx)("p",{className:"text-sm text-danger",children:sa.new_email.message}),tT[225]=sa.new_email,tT[226]=tN):tN=tT[226],tT[227]!==tw||tT[228]!==tN?(tS=(0,t.jsxs)("div",{className:"space-y-2",children:[tb,tw,tN]}),tT[227]=tw,tT[228]=tN,tT[229]=tS):tS=tT[229],tT[230]===Symbol.for("react.memo_cache_sentinel")?(tC=(0,t.jsx)(j.Label,{htmlFor:"email_password",children:"Mot de passe actuel"}),tT[230]=tC):tC=tT[230],tT[231]!==tJ?(tP=tJ.register("password"),tT[231]=tJ,tT[232]=tP):tP=tT[232],tT[233]!==tP?(tA=(0,t.jsx)(b.Input,{id:"email_password",type:"password",...tP}),tT[233]=tP,tT[234]=tA):tA=tT[234],tT[235]!==sa.password?(tk=sa.password&&(0,t.jsx)("p",{className:"text-sm text-danger",children:sa.password.message}),tT[235]=sa.password,tT[236]=tk):tk=tT[236],tT[237]!==tA||tT[238]!==tk?(tR=(0,t.jsxs)("div",{className:"space-y-2",children:[tC,tA,tk]}),tT[237]=tA,tT[238]=tk,tT[239]=tR):tR=tT[239],tT[240]===Symbol.for("react.memo_cache_sentinel")?(tz=(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[(0,t.jsx)(z.Mail,{className:"h-4 w-4"}),(0,t.jsx)("p",{children:"Confirmez le lien reçu pour finaliser le changement."})]}),tT[240]=tz):tz=tT[240],tT[241]!==t5.isPending?(tE=t5.isPending?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Envoi en cours..."]}):"Envoyer la demande",tT[241]=t5.isPending,tT[242]=tE):tE=tT[242],tT[243]!==t5.isPending||tT[244]!==tE?(tL=(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(_.Button,{type:"submit",disabled:t5.isPending,children:tE})}),tT[243]=t5.isPending,tT[244]=tE,tT[245]=tL):tL=tT[245],tT[246]!==tj||tT[247]!==tS||tT[248]!==tR||tT[249]!==tL?(tF=(0,t.jsxs)(v.Card,{children:[tv,(0,t.jsx)(v.CardContent,{children:(0,t.jsxs)("form",{onSubmit:tj,className:"space-y-4",children:[tS,tR,tz,tL]})})]}),tT[246]=tj,tT[247]=tS,tT[248]=tR,tT[249]=tL,tT[250]=tF):tF=tT[250],tT[251]!==ty||tT[252]!==tF||tT[253]!==e4?(tM=(0,t.jsxs)("div",{className:"grid gap-6 max-w-4xl",children:[e4,ty,tF]}),tT[251]=ty,tT[252]=tF,tT[253]=e4,tT[254]=tM):tM=tT[254],tT[255]!==tM||tT[256]!==eu?(tO=(0,t.jsxs)("div",{className:"p-8 space-y-6",children:[eu,tM]}),tT[255]=tM,tT[256]=eu,tT[257]=tO):tO=tT[257],tO}function T(e){return(0,t.jsx)(S.SelectItem,{value:e,children:e},e)}function U(e){let{field:s}=e;return(0,t.jsxs)(S.Select,{value:s.value,onValueChange:s.onChange,children:[(0,t.jsx)(S.SelectTrigger,{className:"w-full",children:(0,t.jsx)(S.SelectValue,{placeholder:"Choisir une langue"})}),(0,t.jsx)(S.SelectContent,{children:E.map(I)})]})}function I(e){return(0,t.jsx)(S.SelectItem,{value:e.value,children:e.label},e.value)}function D(e){o.toast.error(M(e))}function q(e){o.toast.error(M(e))}function V(e){return x.updateProfile(e)}function B(e){o.toast.error(M(e))}function W(e){return x.updateProfile(e)}function $(e){o.toast.error(M(e))}function G(e){return x.updateProfile(e)}e.s(["default",()=>O],42246)}]);