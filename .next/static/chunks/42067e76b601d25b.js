(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16015,(e,t,s)=>{},98547,(e,t,s)=>{var r=e.i(47167);e.r(16015);var i=e.r(71645),n=i&&"object"==typeof i&&"default"in i?i:{default:i},a=void 0!==r.default&&r.default.env&&!0,l=function(e){return"[object String]"===Object.prototype.toString.call(e)},o=function(){function e(e){var t=void 0===e?{}:e,s=t.name,r=void 0===s?"stylesheet":s,i=t.optimizeForSpeed,n=void 0===i?a:i;c(l(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",c("boolean"==typeof n,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=n,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var o="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=o?o.getAttribute("content"):null}var t,s=e.prototype;return s.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},s.isOptimizeForSpeed=function(){return this._optimizeForSpeed},s.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(a||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},s.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},s.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},s.insertRule=function(e,t){if(c(l(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var s=this.getSheet();"number"!=typeof t&&(t=s.cssRules.length);try{s.insertRule(e,t)}catch(t){return a||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var r=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,r))}return this._rulesCount++},s.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var s="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(r){a||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}}else{var r=this._tags[e];c(r,"old rule at index `"+e+"` not found"),r.textContent=t}return e},s.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},s.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},s.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,s){return s?t=t.concat(Array.prototype.map.call(e.getSheetForTag(s).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},s.makeStyleTag=function(e,t,s){t&&c(l(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var i=document.head||document.getElementsByTagName("head")[0];return s?i.insertBefore(r,s):i.appendChild(r),r},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},m={};function u(e,t){if(!t)return"jsx-"+e;var s=String(t),r=e+s;return m[r]||(m[r]="jsx-"+d(e+"-"+s)),m[r]}function h(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var s=e+t;return m[s]||(m[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),m[s]}var x=function(){function e(e){var t=void 0===e?{}:e,s=t.styleSheet,r=void 0===s?null:s,i=t.optimizeForSpeed,n=void 0!==i&&i;this._sheet=r||new o({name:"styled-jsx",optimizeForSpeed:n}),this._sheet.inject(),r&&"boolean"==typeof n&&(this._sheet.setOptimizeForSpeed(n),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var s=this.getIdAndRules(e),r=s.styleId,i=s.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var n=i.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=n,this._instancesCounts[r]=1},t.remove=function(e){var t=this,s=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(s in this._instancesCounts,"styleId: `"+s+"` not found"),this._instancesCounts[s]-=1,this._instancesCounts[s]<1){var r=this._fromServer&&this._fromServer[s];r?(r.parentNode.removeChild(r),delete this._fromServer[s]):(this._indices[s].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[s]),delete this._instancesCounts[s]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],s=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return s[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,s;return t=this.cssRules(),void 0===(s=e)&&(s={}),t.map(function(e){var t=e[0],r=e[1];return n.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:s.nonce?s.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,s=e.dynamic,r=e.id;if(s){var i=u(r,s);return{styleId:i,rules:Array.isArray(t)?t.map(function(e){return h(i,e)}):[h(i,t)]}}return{styleId:u(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),p=i.createContext(null);function f(){return new x}function y(){return i.useContext(p)}p.displayName="StyleSheetContext";var g=n.default.useInsertionEffect||n.default.useLayoutEffect,j="undefined"!=typeof window?f():void 0;function v(e){var t=j||y();return t&&("undefined"==typeof window?t.add(e):g(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}v.dynamic=function(e){return e.map(function(e){return u(e[0],e[1])}).join(" ")},s.StyleRegistry=function(e){var t=e.registry,s=e.children,r=i.useContext(p),a=i.useState(function(){return r||t||f()})[0];return n.default.createElement(p.Provider,{value:a},s)},s.createStyleRegistry=f,s.style=v,s.useStyleRegistry=y},37902,(e,t,s)=>{t.exports=e.r(98547).style},48938,e=>{"use strict";var t=e.i(43476),s=e.i(932),r=e.i(38552),i=e.i(54616),n=e.i(66027),a=e.i(12598),l=e.i(15760);let o={createIndiceForme:async e=>(await l.apiClient.post("/indice-forme/",e)).data,async getIndiceFormeToday(e){try{let t=(await l.apiClient.get("/indice-forme/",{params:{equipe_id:e}})).data.indices||[];return t.length>0?t[0]:null}catch(e){if(e.response?.status===404)return null;throw e}},getIndiceFormeHistory:async(e,t=7)=>(await l.apiClient.get("/indice-forme/",{params:{equipe_id:e,historique:t}})).data.indices||[],updateIndiceForme:async(e,t)=>(await l.apiClient.patch(`/indice-forme/${e}/`,t)).data,async getRPEPending(e){let t=(await l.apiClient.get("/rpe/",{params:{equipe_id:e}})).data;return[...t.seances_en_attente||[],...t.seances_en_retard||[]]},createRPE:async e=>(await l.apiClient.post("/rpe/",e)).data,updateRPE:async(e,t)=>(await l.apiClient.patch(`/rpe/${e}/`,t)).data,getRPEHistory:async e=>(await l.apiClient.get("/rpe/",{params:{equipe_id:e,historique:!0}})).data};var c=e.i(46696);function d(e){let t,r,l,d,p,f,y,g,j,v=(0,s.c)(29),b=(0,a.useQueryClient)();v[0]!==e||v[1]!==b?(t={mutationFn:x,onSuccess:()=>{c.toast.success("Indice de forme enregistré !"),b.invalidateQueries({queryKey:["indice-forme",e]}),b.invalidateQueries({queryKey:["dashboard-player",e]})},onError:h},v[0]=e,v[1]=b,v[2]=t):t=v[2];let _=(0,i.useMutation)(t);v[3]!==e||v[4]!==b?(r={mutationFn:u,onSuccess:()=>{c.toast.success("Indice de forme modifié !"),b.invalidateQueries({queryKey:["indice-forme",e]})},onError:m},v[3]=e,v[4]=b,v[5]=r):r=v[5];let S=(0,i.useMutation)(r);v[6]!==e?(l=["indice-forme",e,"today"],d=()=>o.getIndiceFormeToday(e),v[6]=e,v[7]=l,v[8]=d):(l=v[7],d=v[8]);let N=!!e;v[9]!==l||v[10]!==d||v[11]!==N?(p={queryKey:l,queryFn:d,enabled:N},v[9]=l,v[10]=d,v[11]=N,v[12]=p):p=v[12];let C=(0,n.useQuery)(p);v[13]!==e?(f=["indice-forme",e,"history"],y=()=>o.getIndiceFormeHistory(e,7),v[13]=e,v[14]=f,v[15]=y):(f=v[14],y=v[15]);let w=!!e;v[16]!==f||v[17]!==y||v[18]!==w?(g={queryKey:f,queryFn:y,enabled:w},v[16]=f,v[17]=y,v[18]=w,v[19]=g):g=v[19];let R=(0,n.useQuery)(g);return v[20]!==_.isPending||v[21]!==_.mutate||v[22]!==R.data||v[23]!==R.isLoading||v[24]!==C.data||v[25]!==C.isLoading||v[26]!==S.isPending||v[27]!==S.mutate?(j={create:_.mutate,update:S.mutate,isCreating:_.isPending,isUpdating:S.isPending,today:C.data,history:R.data,isLoadingToday:C.isLoading,isLoadingHistory:R.isLoading},v[20]=_.isPending,v[21]=_.mutate,v[22]=R.data,v[23]=R.isLoading,v[24]=C.data,v[25]=C.isLoading,v[26]=S.isPending,v[27]=S.mutate,v[28]=j):j=v[28],j}function m(e){c.toast.error(e.response?.data?.detail||"Erreur lors de la modification")}function u(e){let{id:t,data:s}=e;return o.updateIndiceForme(t,s)}function h(e){c.toast.error(e.response?.data?.detail||"Erreur lors de la saisie")}function x(e){return o.createIndiceForme(e)}function p(e){let t,r,l,d,m,u,h,x,p,v,b,_=(0,s.c)(33),S=(0,a.useQueryClient)();_[0]!==e||_[1]!==S?(t={mutationFn:j,onSuccess:()=>{c.toast.success("RPE enregistré !"),S.invalidateQueries({queryKey:["rpe-pending",e]}),S.invalidateQueries({queryKey:["dashboard-player",e]})},onError:g},_[0]=e,_[1]=S,_[2]=t):t=_[2];let N=(0,i.useMutation)(t);_[3]!==e||_[4]!==S?(r={mutationFn:y,onSuccess:()=>{c.toast.success("RPE modifié !"),S.invalidateQueries({queryKey:["rpe-pending",e]})},onError:f},_[3]=e,_[4]=S,_[5]=r):r=_[5];let C=(0,i.useMutation)(r);_[6]!==e?(l=["rpe-pending",e],d=()=>o.getRPEPending(e),_[6]=e,_[7]=l,_[8]=d):(l=_[7],d=_[8]);let w=!!e;_[9]!==l||_[10]!==d||_[11]!==w?(m={queryKey:l,queryFn:d,enabled:w},_[9]=l,_[10]=d,_[11]=w,_[12]=m):m=_[12];let R=(0,n.useQuery)(m);_[13]!==e?(u=["rpe-history",e],h=()=>o.getRPEHistory(e),_[13]=e,_[14]=u,_[15]=h):(u=_[14],h=_[15]);let E=!!e;_[16]!==u||_[17]!==h||_[18]!==E?(x={queryKey:u,queryFn:h,enabled:E},_[16]=u,_[17]=h,_[18]=E,_[19]=x):x=_[19];let P=(0,n.useQuery)(x);return _[20]!==R.data?(p=R.data||[],_[20]=R.data,_[21]=p):p=_[21],_[22]!==P.data?(v=P.data||[],_[22]=P.data,_[23]=v):v=_[23],_[24]!==N.isPending||_[25]!==N.mutate||_[26]!==P.isLoading||_[27]!==R.isLoading||_[28]!==p||_[29]!==v||_[30]!==C.isPending||_[31]!==C.mutate?(b={create:N.mutate,update:C.mutate,isCreating:N.isPending,isUpdating:C.isPending,pending:p,history:v,isLoadingPending:R.isLoading,isLoadingHistory:P.isLoading},_[24]=N.isPending,_[25]=N.mutate,_[26]=P.isLoading,_[27]=R.isLoading,_[28]=p,_[29]=v,_[30]=C.isPending,_[31]=C.mutate,_[32]=b):b=_[32],b}function f(e){c.toast.error(e.response?.data?.detail||"Erreur lors de la modification")}function y(e){let{id:t,data:s}=e;return o.updateRPE(t,s)}function g(e){c.toast.error(e.response?.data?.detail||"Erreur lors de la saisie")}function j(e){return o.createRPE(e)}var v=e.i(71645),b=e.i(70065),_=e.i(67881),S=e.i(10708),N=e.i(37902),C=e.i(47163);function w(e){let r,i,n,a,l,o,c,d,m,u,h,x,p=(0,s.c)(35),{value:f,onChange:y,min:g,max:j,step:v,labels:b,className:_,disabled:S}=e,w=void 0===g?1:g,R=void 0===j?7:j,E=void 0===v?1:v,P=void 0!==S&&S,F=(f-w)/(R-w)*100;p[0]!==f?(r=()=>f<=2?"bg-red-500":f<=4?"bg-orange-500":f<=5?"bg-yellow-500":"bg-green-500",p[0]=f,p[1]=r):r=p[1];let T=r;p[2]!==_?(i=(0,C.cn)("space-y-3",_),p[2]=_,p[3]=i):i=p[3],p[4]!==T?(n=(0,C.cn)("h-full transition-all duration-300",T()),p[4]=T,p[5]=n):n=p[5];let k=`${F}%`;return p[6]!==k?(a={width:k},p[6]=k,p[7]=a):a=p[7],p[8]!==n||p[9]!==a?(l=(0,t.jsx)("div",{className:"flex-1 relative h-3 bg-slate-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:n,style:a})}),p[8]=n,p[9]=a,p[10]=l):l=p[10],p[11]!==f?(o=(0,t.jsx)("div",{className:"ml-4 w-12 text-center",children:(0,t.jsx)("span",{className:"text-2xl font-bold",children:f})}),p[11]=f,p[12]=o):o=p[12],p[13]!==l||p[14]!==o?(c=(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[l,o]}),p[13]=l,p[14]=o,p[15]=c):c=p[15],p[16]!==y?(d=e=>y(Number(e.target.value)),p[16]=y,p[17]=d):d=p[17],p[18]!==P||p[19]!==R||p[20]!==w||p[21]!==E||p[22]!==d||p[23]!==f?(m=(0,t.jsx)("input",{type:"range",min:w,max:R,step:E,value:f,onChange:d,disabled:P,className:"w-full h-2 bg-transparent appearance-none cursor-pointer slider-custom"}),p[18]=P,p[19]=R,p[20]=w,p[21]=E,p[22]=d,p[23]=f,p[24]=m):m=p[24],p[25]!==b||p[26]!==R||p[27]!==w?(u=b&&b.length===R-w+1&&(0,t.jsxs)("div",{className:"flex justify-between text-xs text-slate-600",children:[(0,t.jsx)("span",{children:b[0]}),(0,t.jsx)("span",{children:b[Math.floor(b.length/2)]}),(0,t.jsx)("span",{children:b[b.length-1]})]}),p[25]=b,p[26]=R,p[27]=w,p[28]=u):u=p[28],p[29]===Symbol.for("react.memo_cache_sentinel")?(h=(0,t.jsx)(N.default,{id:"71fc04156807d96d",children:".slider-custom::-webkit-slider-thumb{appearance:none;cursor:pointer;background:#fff;border:3px solid;border-radius:50%;width:20px;height:20px;box-shadow:0 2px 4px #0000001a}.slider-custom::-moz-range-thumb{cursor:pointer;background:#fff;border:3px solid;border-radius:50%;width:20px;height:20px;box-shadow:0 2px 4px #0000001a}.slider-custom::-webkit-slider-runnable-track{background:0 0;border-radius:4px;height:8px}.slider-custom::-moz-range-track{background:0 0;border-radius:4px;height:8px}"}),p[29]=h):h=p[29],p[30]!==c||p[31]!==m||p[32]!==u||p[33]!==i?(x=(0,t.jsxs)("div",{className:i,children:[c,m,u,h]}),p[30]=c,p[31]=m,p[32]=u,p[33]=i,p[34]=x):x=p[34],x}var R=e.i(31278),E=e.i(75254);let P=(0,E.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),F=(0,E.default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),T=(0,E.default)("dumbbell",[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]]),k=(0,E.default)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]);var A=e.i(95468),M=e.i(63209);let z=["Très mauvais","Moyen","Excellent"],O=["Très fatigué","Moyen","Très reposé"],D=["Très courbaturé","Moyen","Aucune"],L=["Très stressé","Moyen","Très détendu"];function q(){let e,i,n,a,l,o,c,m,u,h,x,p,f,y,g,j,N,E,q,I,H,K,Q,B,V,U,W,$,J,X,Y,G,Z,ee,et=(0,s.c)(89),{currentTeam:es,currentMembership:er}=(0,r.useTeamStore)(),{create:ei,update:en,isCreating:ea,isUpdating:el,today:eo}=d(es?.id);et[0]===Symbol.for("react.memo_cache_sentinel")?(e={sommeil:4,fatigue:4,courbatures:4,stress:4},et[0]=e):e=et[0];let[ec,ed]=(0,v.useState)(e);et[1]!==eo?(i=()=>{eo&&ed({sommeil:eo.sommeil,fatigue:eo.fatigue,courbatures:eo.courbatures,stress:eo.stress})},n=[eo],et[1]=eo,et[2]=i,et[3]=n):(i=et[2],n=et[3]),(0,v.useEffect)(i,n);let em=ec.sommeil+ec.fatigue+ec.courbatures+ec.stress;et[4]!==em?(a=()=>em<15?"text-red-600":em<21?"text-orange-600":"text-green-600",et[4]=em,et[5]=a):a=et[5];let eu=a;et[6]!==em?(l=()=>em<12?"Très mauvais":em<15?"Mauvais":em<21?"Moyen":em<25?"Bon":"Excellent",et[6]=em,et[7]=l):l=et[7];let eh=l;et[8]!==ei||et[9]!==er||et[10]!==eo||et[11]!==en||et[12]!==ec?(o=e=>{if(e.preventDefault(),!er)return void console.error("❌ Pas de membership actif");let t={membre_id:er.id,...ec};eo?en({id:eo.id,data:t}):ei(t)},et[8]=ei,et[9]=er,et[10]=eo,et[11]=en,et[12]=ec,et[13]=o):o=et[13];let ex=o,ep=ea||el,ef=!eo||eo.peut_modifier;if(!er){let e,s;return et[14]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)(b.CardHeader,{children:[(0,t.jsx)(b.CardTitle,{children:"Indice de Forme du Jour"}),(0,t.jsx)(b.CardDescription,{children:"Saisissez votre état de forme quotidien"})]}),et[14]=e):e=et[14],et[15]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsxs)(b.Card,{children:[e,(0,t.jsx)(b.CardContent,{children:(0,t.jsxs)("div",{className:"text-center py-8 text-slate-500",children:[(0,t.jsx)(M.AlertCircle,{className:"h-12 w-12 mx-auto mb-4 text-orange-500"}),(0,t.jsx)("p",{children:"Vous devez appartenir à une équipe pour saisir votre indice de forme"})]})})]}),et[15]=s):s=et[15],s}et[16]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(b.CardTitle,{children:"Indice de Forme du Jour"}),et[16]=c):c=et[16];let ey=eo?"Modifiez":"Saisissez";et[17]!==ey?(m=(0,t.jsxs)("div",{children:[c,(0,t.jsxs)(b.CardDescription,{children:[ey," votre état de forme quotidien"]})]}),et[17]=ey,et[18]=m):m=et[18],et[19]!==eo?(u=eo&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[(0,t.jsx)(A.CheckCircle2,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Déjà saisi"})]}),et[19]=eo,et[20]=u):u=et[20],et[21]!==m||et[22]!==u?(h=(0,t.jsx)(b.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[m,u]})}),et[21]=m,et[22]=u,et[23]=h):h=et[23],et[24]===Symbol.for("react.memo_cache_sentinel")?(x=(0,t.jsxs)(S.Label,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(P,{className:"h-5 w-5 text-indigo-600"}),"Qualité du sommeil"]}),et[24]=x):x=et[24],et[25]!==ec?(p=e=>ed({...ec,sommeil:e}),et[25]=ec,et[26]=p):p=et[26];let eg=!ef||ep;et[27]!==p||et[28]!==eg||et[29]!==ec.sommeil?(f=(0,t.jsxs)("div",{className:"space-y-3",children:[x,(0,t.jsx)(w,{value:ec.sommeil,onChange:p,labels:z,disabled:eg})]}),et[27]=p,et[28]=eg,et[29]=ec.sommeil,et[30]=f):f=et[30],et[31]===Symbol.for("react.memo_cache_sentinel")?(y=(0,t.jsxs)(S.Label,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(F,{className:"h-5 w-5 text-amber-600"}),"Niveau d'énergie"]}),et[31]=y):y=et[31],et[32]!==ec?(g=e=>ed({...ec,fatigue:e}),et[32]=ec,et[33]=g):g=et[33];let ej=!ef||ep;et[34]!==g||et[35]!==ej||et[36]!==ec.fatigue?(j=(0,t.jsxs)("div",{className:"space-y-3",children:[y,(0,t.jsx)(w,{value:ec.fatigue,onChange:g,labels:O,disabled:ej})]}),et[34]=g,et[35]=ej,et[36]=ec.fatigue,et[37]=j):j=et[37],et[38]===Symbol.for("react.memo_cache_sentinel")?(N=(0,t.jsxs)(S.Label,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(T,{className:"h-5 w-5 text-rose-600"}),"Niveau de courbatures"]}),et[38]=N):N=et[38],et[39]!==ec?(E=e=>ed({...ec,courbatures:e}),et[39]=ec,et[40]=E):E=et[40];let ev=!ef||ep;et[41]!==E||et[42]!==ev||et[43]!==ec.courbatures?(q=(0,t.jsxs)("div",{className:"space-y-3",children:[N,(0,t.jsx)(w,{value:ec.courbatures,onChange:E,labels:D,disabled:ev})]}),et[41]=E,et[42]=ev,et[43]=ec.courbatures,et[44]=q):q=et[44],et[45]===Symbol.for("react.memo_cache_sentinel")?(I=(0,t.jsxs)(S.Label,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(k,{className:"h-5 w-5 text-purple-600"}),"Niveau de stress"]}),et[45]=I):I=et[45],et[46]!==ec?(H=e=>ed({...ec,stress:e}),et[46]=ec,et[47]=H):H=et[47];let eb=!ef||ep;et[48]!==H||et[49]!==eb||et[50]!==ec.stress?(K=(0,t.jsxs)("div",{className:"space-y-3",children:[I,(0,t.jsx)(w,{value:ec.stress,onChange:H,labels:L,disabled:eb})]}),et[48]=H,et[49]=eb,et[50]=ec.stress,et[51]=K):K=et[51],et[52]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,t.jsx)("span",{className:"text-lg font-medium",children:"Score Total"}),et[52]=Q):Q=et[52],et[53]!==eu?(B=(0,C.cn)("text-4xl font-bold",eu()),et[53]=eu,et[54]=B):B=et[54],et[55]!==em||et[56]!==B?(V=(0,t.jsxs)("div",{className:B,children:[em,"/28"]}),et[55]=em,et[56]=B,et[57]=V):V=et[57],et[58]!==eu?(U=(0,C.cn)("text-sm font-medium",eu()),et[58]=eu,et[59]=U):U=et[59];let e_=eh();et[60]!==U||et[61]!==e_?(W=(0,t.jsx)("div",{className:U,children:e_}),et[60]=U,et[61]=e_,et[62]=W):W=et[62],et[63]!==V||et[64]!==W?($=(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[Q,(0,t.jsxs)("div",{className:"text-right",children:[V,W]})]}),et[63]=V,et[64]=W,et[65]=$):$=et[65];let eS=!ef||ep;return et[66]!==ep||et[67]!==eo?(J=ep?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(R.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Enregistrement..."]}):eo?"Modifier":"Enregistrer",et[66]=ep,et[67]=eo,et[68]=J):J=et[68],et[69]!==eS||et[70]!==J?(X=(0,t.jsx)(_.Button,{type:"submit",className:"w-full",disabled:eS,children:J}),et[69]=eS,et[70]=J,et[71]=X):X=et[71],et[72]!==ef||et[73]!==eo?(Y=!ef&&eo&&(0,t.jsx)("p",{className:"text-xs text-center text-slate-500 mt-2",children:"Vous ne pouvez plus modifier l'indice de forme d'aujourd'hui"}),et[72]=ef,et[73]=eo,et[74]=Y):Y=et[74],et[75]!==$||et[76]!==X||et[77]!==Y?(G=(0,t.jsxs)("div",{className:"pt-4 border-t",children:[$,X,Y]}),et[75]=$,et[76]=X,et[77]=Y,et[78]=G):G=et[78],et[79]!==ex||et[80]!==f||et[81]!==j||et[82]!==q||et[83]!==K||et[84]!==G?(Z=(0,t.jsx)(b.CardContent,{children:(0,t.jsxs)("form",{onSubmit:ex,className:"space-y-6",children:[f,j,q,K,G]})}),et[79]=ex,et[80]=f,et[81]=j,et[82]=q,et[83]=K,et[84]=G,et[85]=Z):Z=et[85],et[86]!==h||et[87]!==Z?(ee=(0,t.jsxs)(b.Card,{children:[h,Z]}),et[86]=h,et[87]=Z,et[88]=ee):ee=et[88],ee}var I=e.i(29228),H=e.i(55706),K=e.i(85183),Q=e.i(93230),B=e.i(72526),V=e.i(34239),U=e.i(31195),W=v,$=e.i(7670),J=e.i(97865),X=e.i(494),Y=e.i(94395),G=e.i(44171),Z=e.i(46710),ee=e.i(31725),et=e.i(27241),es=e.i(61764),er=e.i(75337),ei=e.i(89763),en=e.i(43404);function ea(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function el(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(s),!0).forEach(function(t){eo(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ea(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function eo(e,t,s){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function ec(){return(ec=Object.assign.bind()).apply(null,arguments)}function ed(e){var t=(0,et.useAppDispatch)();return(0,W.useEffect)(()=>(t((0,ee.addLine)(e)),()=>{t((0,ee.removeLine)(e))})),null}function em(e){var{x:t,y:s,segment:r,xAxisId:i,yAxisId:n,shape:a,className:l,ifOverflow:o}=e,c=(0,er.useIsPanorama)(),d=(0,ei.useClipPathId)(),m=(0,et.useAppSelector)(e=>(0,es.selectXAxisSettings)(e,i)),u=(0,et.useAppSelector)(e=>(0,es.selectYAxisSettings)(e,n)),h=(0,et.useAppSelector)(e=>(0,es.selectAxisScale)(e,"xAxis",i,c)),x=(0,et.useAppSelector)(e=>(0,es.selectAxisScale)(e,"yAxis",n,c)),p=(0,Z.useViewBox)(),f=(0,Y.isNumOrStr)(t),y=(0,Y.isNumOrStr)(s);if(!d||!p||null==m||null==u||null==h||null==x)return null;var g=((e,t,s,r,i,n,a,l,o)=>{var{x:c,y:d,width:m,height:u}=i;if(s){var{y:h}=o,x=e.y.apply(h,{position:n});if((0,Y.isNan)(x)||"discard"===o.ifOverflow&&!e.y.isInRange(x))return null;var p=[{x:c+m,y:x},{x:c,y:x}];return"left"===l?p.reverse():p}if(t){var{x:f}=o,y=e.x.apply(f,{position:n});if((0,Y.isNan)(y)||"discard"===o.ifOverflow&&!e.x.isInRange(y))return null;var g=[{x:y,y:d+u},{x:y,y:d}];return"top"===a?g.reverse():g}if(r){var{segment:j}=o,v=j.map(t=>e.apply(t,{position:n}));return"discard"===o.ifOverflow&&v.some(t=>!e.isInRange(t))?null:v}return null})((0,G.createLabeledScales)({x:h,y:x}),f,y,r&&2===r.length,p,e.position,m.orientation,u.orientation,e);if(!g)return null;var[{x:j,y:v},{x:b,y:_}]=g,S=el(el({clipPath:"hidden"===o?"url(#".concat(d,")"):void 0},(0,en.svgPropertiesAndEvents)(e)),{},{x1:j,y1:v,x2:b,y2:_});return W.createElement(J.Layer,{className:(0,$.clsx)("recharts-reference-line",l)},W.isValidElement(a)?W.cloneElement(a,S):"function"==typeof a?a(S):W.createElement("line",ec({},S,{className:"recharts-reference-line-line"})),W.createElement(X.CartesianLabelContextProvider,(0,G.rectWithCoords)({x1:j,y1:v,x2:b,y2:_}),W.createElement(X.CartesianLabelFromLabelProp,{label:e.label}),e.children))}function eu(e){return W.createElement(W.Fragment,null,W.createElement(ed,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x:e.x,y:e.y}),W.createElement(em,e))}class eh extends W.Component{render(){return W.createElement(eu,this.props)}}eo(eh,"displayName","ReferenceLine"),eo(eh,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var ex=e.i(1851),ep=e.i(40165);function ef(e){let r,i,n,a,l,o,c,d,m,u,h,x,p,f,y,g,j=(0,s.c)(27),{data:v,isLoading:_}=e;if(_){let e,s;return j[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)(b.CardHeader,{children:[(0,t.jsx)(b.CardTitle,{children:"Évolution (7 derniers jours)"}),(0,t.jsx)(b.CardDescription,{children:"Votre indice de forme sur la semaine"})]}),j[0]=e):e=j[0],j[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsxs)(b.Card,{children:[e,(0,t.jsx)(b.CardContent,{children:(0,t.jsx)("div",{className:"h-[300px] flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-slate-500",children:"Chargement..."})})})]}),j[1]=s):s=j[1],s}if(!v||0===v.length){let e,s;return j[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)(b.CardHeader,{children:[(0,t.jsx)(b.CardTitle,{children:"Évolution (7 derniers jours)"}),(0,t.jsx)(b.CardDescription,{children:"Votre indice de forme sur la semaine"})]}),j[2]=e):e=j[2],j[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsxs)(b.Card,{children:[e,(0,t.jsx)(b.CardContent,{children:(0,t.jsx)("div",{className:"h-[300px] flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-slate-500",children:"Aucune donnée disponible"})})})]}),j[3]=s):s=j[3],s}j[4]!==v?(i=Math.round((r=[...v].sort(ev).map(ej)).reduce(eg,0)/r.length),j[4]=v,j[5]=r,j[6]=i):(r=j[5],i=j[6]);let S=i;return j[7]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsxs)("div",{children:[(0,t.jsx)(b.CardTitle,{children:"Évolution (7 derniers jours)"}),(0,t.jsx)(b.CardDescription,{children:"Votre indice de forme sur la semaine"})]}),j[7]=n):n=j[7],j[8]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)("p",{className:"text-sm text-slate-600",children:"Moyenne"}),j[8]=a):a=j[8],j[9]!==S?(l=(0,t.jsx)(b.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[n,(0,t.jsxs)("div",{className:"text-right",children:[a,(0,t.jsxs)("p",{className:"text-2xl font-bold text-primary",children:[S,"/28"]})]})]})}),j[9]=S,j[10]=l):l=j[10],j[11]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(B.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),j[11]=o):o=j[11],j[12]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(K.XAxis,{dataKey:"date",stroke:"#64748b",style:{fontSize:"12px"}}),j[12]=c):c=j[12],j[13]===Symbol.for("react.memo_cache_sentinel")?(d=[0,28],j[13]=d):d=j[13],j[14]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)(Q.YAxis,{domain:d,stroke:"#64748b",style:{fontSize:"12px"}}),j[14]=m):m=j[14],j[15]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)(V.Tooltip,{content:(0,t.jsx)(ey,{})}),j[15]=u):u=j[15],j[16]===Symbol.for("react.memo_cache_sentinel")?(h={value:"Moyenne",position:"right",fill:"#3b82f6"},j[16]=h):h=j[16],j[17]!==S?(x=(0,t.jsx)(eh,{y:S,stroke:"#3b82f6",strokeDasharray:"3 3",label:h}),j[17]=S,j[18]=x):x=j[18],j[19]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)(eh,{y:15,stroke:"#ef4444",strokeDasharray:"3 3",label:{value:"Seuil bas",position:"right",fill:"#ef4444"}}),j[19]=p):p=j[19],j[20]===Symbol.for("react.memo_cache_sentinel")?(f=(0,t.jsx)(H.Line,{type:"monotone",dataKey:"score",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:5},activeDot:{r:7}}),j[20]=f):f=j[20],j[21]!==r||j[22]!==x?(y=(0,t.jsx)(b.CardContent,{children:(0,t.jsx)(U.ResponsiveContainer,{width:"100%",height:300,children:(0,t.jsxs)(I.LineChart,{data:r,children:[o,c,m,u,x,p,f]})})}),j[21]=r,j[22]=x,j[23]=y):y=j[23],j[24]!==y||j[25]!==l?(g=(0,t.jsxs)(b.Card,{children:[l,y]}),j[24]=y,j[25]=l,j[26]=g):g=j[26],g}function ey(e){let{active:s,payload:r}=e;if(s&&r&&r.length){let e=r[0].payload;return(0,t.jsxs)("div",{className:"bg-white p-3 border border-slate-200 rounded-lg shadow-lg",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-slate-900 capitalize",children:e.dateComplete}),(0,t.jsxs)("p",{className:"text-lg font-bold text-primary",children:[e.score,"/28"]})]})}return null}function eg(e,t){return e+t.score}function ej(e){return{date:(0,ex.format)(new Date(e.date),"dd/MM",{locale:ep.fr}),score:e.scorTotal,dateComplete:(0,ex.format)(new Date(e.date),"EEEE dd MMMM",{locale:ep.fr})}}function ev(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()}function eb(e){let r,i,n,a,l,o,c,d,m=(0,s.c)(22),{data:u,isLoading:h}=e;if(h){let e,s;return m[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(b.CardHeader,{children:(0,t.jsx)(b.CardTitle,{children:"Détails des Saisies"})}),m[0]=e):e=m[0],m[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsxs)(b.Card,{children:[e,(0,t.jsx)(b.CardContent,{children:(0,t.jsx)("p",{className:"text-slate-500",children:"Chargement..."})})]}),m[1]=s):s=m[1],s}if(!u||0===u.length){let e,s;return m[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(b.CardHeader,{children:(0,t.jsx)(b.CardTitle,{children:"Détails des Saisies"})}),m[2]=e):e=m[2],m[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsxs)(b.Card,{children:[e,(0,t.jsx)(b.CardContent,{children:(0,t.jsx)("p",{className:"text-slate-500",children:"Aucune donnée disponible"})})]}),m[3]=s):s=m[3],s}let x=eS;if(m[4]!==u){let e,s=[...u].sort(e_);i=b.Card,m[10]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsxs)(b.CardHeader,{children:[(0,t.jsx)(b.CardTitle,{children:"Détails des Saisies"}),(0,t.jsx)(b.CardDescription,{children:"Historique détaillé de vos indices de forme"})]}),m[10]=l):l=m[10],r=b.CardContent,n="space-y-4",m[11]===Symbol.for("react.memo_cache_sentinel")?(e=(e,s)=>(0,t.jsxs)("div",{className:(0,C.cn)("p-4 border rounded-lg",0===s&&"border-primary bg-primary/5"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium capitalize",children:(0,ex.format)(new Date(e.date),"EEEE dd MMMM yyyy",{locale:ep.fr})}),0===s&&(0,t.jsx)("span",{className:"text-xs text-primary font-medium",children:"Aujourd'hui"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:(0,C.cn)("text-2xl font-bold",function(e){return e<15?"text-red-600":e<21?"text-orange-600":"text-green-600"}(e.scorTotal)),children:[e.scorTotal,"/28"]}),(0,t.jsx)("p",{className:"text-xs text-slate-600",children:e.interpretation.message})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(P,{className:"h-4 w-4 text-indigo-600"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs text-slate-600",children:"Sommeil"}),(0,t.jsxs)("p",{className:(0,C.cn)("font-bold",x(e.sommeil)),children:[e.sommeil,"/7"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(F,{className:"h-4 w-4 text-amber-600"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs text-slate-600",children:"Énergie"}),(0,t.jsxs)("p",{className:(0,C.cn)("font-bold",x(e.fatigue)),children:[e.fatigue,"/7"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(T,{className:"h-4 w-4 text-rose-600"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs text-slate-600",children:"Courbatures"}),(0,t.jsxs)("p",{className:(0,C.cn)("font-bold",x(e.courbatures)),children:[e.courbatures,"/7"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(k,{className:"h-4 w-4 text-purple-600"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-xs text-slate-600",children:"Stress"}),(0,t.jsxs)("p",{className:(0,C.cn)("font-bold",x(e.stress)),children:[e.stress,"/7"]})]})]})]})]},e.id),m[11]=e):e=m[11],a=s.map(e),m[4]=u,m[5]=r,m[6]=i,m[7]=n,m[8]=a,m[9]=l}else r=m[5],i=m[6],n=m[7],a=m[8],l=m[9];return m[12]!==n||m[13]!==a?(o=(0,t.jsx)("div",{className:n,children:a}),m[12]=n,m[13]=a,m[14]=o):o=m[14],m[15]!==r||m[16]!==o?(c=(0,t.jsx)(r,{children:o}),m[15]=r,m[16]=o,m[17]=c):c=m[17],m[18]!==i||m[19]!==l||m[20]!==c?(d=(0,t.jsxs)(i,{children:[l,c]}),m[18]=i,m[19]=l,m[20]=c,m[21]=d):d=m[21],d}function e_(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()}function eS(e,t){let s=e/(void 0===t?7:t)*100;return s<40?"text-red-600":s<70?"text-orange-600":"text-green-600"}var eN=e.i(94179),eC=e.i(3116),ew=e.i(46897),eR=e.i(30374),eE=e.i(23750),eP=e.i(84762);let eF=["Très léger","Modéré","Maximal"];function eT(e){let i,n,a,l,o,c,d,m,u,h,x,f,y,g,j,b,N,C,E,P,F,T,k,A=(0,s.c)(59),{session:M,onSuccess:z}=e,{currentTeam:O}=(0,r.useTeamStore)(),{create:D,isCreating:L}=p(O?.id);A[0]===Symbol.for("react.memo_cache_sentinel")?(i={valeurRPE:5,dureeReelle:60,commentaire:""},A[0]=i):i=A[0];let[q,I]=(0,v.useState)(i),H=q.valeurRPE*q.dureeReelle;A[1]!==D||A[2]!==z||A[3]!==M.id||A[4]!==M.participation_id||A[5]!==M.seance_id||A[6]!==q.commentaire||A[7]!==q.dureeReelle||A[8]!==q.valeurRPE?(n=e=>{e.preventDefault(),D({seance_id:M.seance_id||M.id,participation_id:M.participation_id,valeurRPE:q.valeurRPE,dureeReelle:q.dureeReelle,commentaire:q.commentaire||void 0},{onSuccess:()=>{z?.()}})},A[1]=D,A[2]=z,A[3]=M.id,A[4]=M.participation_id,A[5]=M.seance_id,A[6]=q.commentaire,A[7]=q.dureeReelle,A[8]=q.valeurRPE,A[9]=n):n=A[9];let K=n;return A[10]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(S.Label,{htmlFor:"duree",className:"text-sm sm:text-base",children:"Durée réelle de participation (minutes)"}),A[10]=a):a=A[10],A[11]!==q?(l=e=>I({...q,dureeReelle:Number(e.target.value)}),A[11]=q,A[12]=l):l=A[12],A[13]!==L||A[14]!==l||A[15]!==q.dureeReelle?(o=(0,t.jsx)(eE.Input,{id:"duree",type:"number",min:"1",max:"300",value:q.dureeReelle,onChange:l,disabled:L,className:"text-base"}),A[13]=L,A[14]=l,A[15]=q.dureeReelle,A[16]=o):o=A[16],A[17]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)("p",{className:"text-xs text-slate-600",children:"Combien de temps avez-vous réellement participé ?"}),A[17]=c):c=A[17],A[18]!==o?(d=(0,t.jsxs)("div",{className:"space-y-2",children:[a,o,c]}),A[18]=o,A[19]=d):d=A[19],A[20]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)(S.Label,{className:"text-sm sm:text-base",children:"Perception de l'effort (RPE)"}),A[20]=m):m=A[20],A[21]!==q?(u=e=>I({...q,valeurRPE:e}),A[21]=q,A[22]=u):u=A[22],A[23]!==L||A[24]!==u||A[25]!==q.valeurRPE?(h=(0,t.jsx)(w,{value:q.valeurRPE,onChange:u,min:0,max:10,step:.5,labels:eF,disabled:L}),A[23]=L,A[24]=u,A[25]=q.valeurRPE,A[26]=h):h=A[26],A[27]===Symbol.for("react.memo_cache_sentinel")?(x=(0,t.jsx)("p",{className:"text-xs sm:text-sm text-slate-600 mb-1 font-medium",children:"Échelle d'effort perçu :"}),A[27]=x):x=A[27],A[28]===Symbol.for("react.memo_cache_sentinel")?(f=(0,t.jsxs)("div",{className:"bg-slate-50 p-3 rounded-lg",children:[x,(0,t.jsxs)("ul",{className:"text-xs sm:text-sm text-slate-600 space-y-0.5 sm:space-y-1",children:[(0,t.jsx)("li",{children:"• 0-2 : Très très léger"}),(0,t.jsx)("li",{children:"• 3-4 : Léger"}),(0,t.jsx)("li",{children:"• 5-6 : Modéré"}),(0,t.jsx)("li",{children:"• 7-8 : Difficile"}),(0,t.jsx)("li",{children:"• 9-10 : Maximal"})]})]}),A[28]=f):f=A[28],A[29]!==h?(y=(0,t.jsxs)("div",{className:"space-y-3",children:[m,h,f]}),A[29]=h,A[30]=y):y=A[30],A[31]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)(S.Label,{htmlFor:"commentaire",className:"text-sm sm:text-base",children:"Commentaire (optionnel)"}),A[31]=g):g=A[31],A[32]!==q?(j=e=>I({...q,commentaire:e.target.value}),A[32]=q,A[33]=j):j=A[33],A[34]!==L||A[35]!==j||A[36]!==q.commentaire?(b=(0,t.jsxs)("div",{className:"space-y-2",children:[g,(0,t.jsx)(eP.Textarea,{id:"commentaire",placeholder:"Ressenti, douleurs, observations...",value:q.commentaire,onChange:j,disabled:L,rows:3,className:"text-sm sm:text-base resize-none"})]}),A[34]=L,A[35]=j,A[36]=q.commentaire,A[37]=b):b=A[37],A[38]===Symbol.for("react.memo_cache_sentinel")?(N=(0,t.jsx)("p",{className:"text-xs sm:text-sm text-slate-600 mb-1",children:"Charge d'entraînement calculée :"}),A[38]=N):N=A[38],A[39]!==H?(C=(0,t.jsxs)("p",{className:"text-2xl sm:text-3xl font-bold text-primary",children:[H," UA"]}),A[39]=H,A[40]=C):C=A[40],A[41]!==q.dureeReelle||A[42]!==q.valeurRPE?(E=(0,t.jsxs)("p",{className:"text-xs text-slate-600 mt-1",children:[q.dureeReelle," min × ",q.valeurRPE," RPE"]}),A[41]=q.dureeReelle,A[42]=q.valeurRPE,A[43]=E):E=A[43],A[44]!==C||A[45]!==E?(P=(0,t.jsxs)("div",{className:"bg-primary/10 p-3 sm:p-4 rounded-lg",children:[N,C,E]}),A[44]=C,A[45]=E,A[46]=P):P=A[46],A[47]!==L?(F=L?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(R.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Enregistrement..."]}):"Enregistrer le RPE",A[47]=L,A[48]=F):F=A[48],A[49]!==L||A[50]!==F?(T=(0,t.jsx)(_.Button,{type:"submit",className:"w-full h-11 sm:h-12 text-base",disabled:L,children:F}),A[49]=L,A[50]=F,A[51]=T):T=A[51],A[52]!==K||A[53]!==y||A[54]!==b||A[55]!==P||A[56]!==T||A[57]!==d?(k=(0,t.jsxs)("form",{onSubmit:K,className:"space-y-4 sm:space-y-6",children:[d,y,b,P,T]}),A[52]=K,A[53]=y,A[54]=b,A[55]=P,A[56]=T,A[57]=d,A[58]=k):k=A[58],k}function ek(e){let r,i,n,a,l,o,c,d,m,u,h,x,p,f=(0,s.c)(33),{sessions:y,isLoading:g}=e,[j,S]=(0,v.useState)(null);if(g){let e,s;return f[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(b.CardHeader,{children:(0,t.jsx)(b.CardTitle,{className:"text-lg sm:text-xl",children:"Saisies RPE en Attente"})}),f[0]=e):e=f[0],f[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsxs)(b.Card,{children:[e,(0,t.jsx)(b.CardContent,{children:(0,t.jsx)("p",{className:"text-slate-500 text-sm sm:text-base",children:"Chargement..."})})]}),f[1]=s):s=f[1],s}if(!y||0===y.length){let e,s;return f[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)(b.CardHeader,{children:[(0,t.jsx)(b.CardTitle,{className:"text-lg sm:text-xl",children:"Saisies RPE en Attente"}),(0,t.jsx)(b.CardDescription,{className:"text-sm",children:"Séances nécessitant votre évaluation"})]}),f[2]=e):e=f[2],f[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsxs)(b.Card,{children:[e,(0,t.jsx)(b.CardContent,{children:(0,t.jsxs)("div",{className:"text-center py-6 sm:py-8 text-slate-500",children:[(0,t.jsx)(M.AlertCircle,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto mb-3 sm:mb-4 text-green-500"}),(0,t.jsx)("p",{className:"font-medium text-sm sm:text-base",children:"Aucune saisie en attente"}),(0,t.jsx)("p",{className:"text-xs sm:text-sm mt-1",children:"Toutes vos séances sont à jour !"})]})})]}),f[3]=s):s=f[3],s}f[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)(b.CardTitle,{className:"text-lg sm:text-xl",children:"Saisies RPE en Attente"}),f[4]=r):r=f[4];let N=y.length>1?"s":"";if(f[5]!==y.length||f[6]!==N?(i=(0,t.jsxs)("div",{children:[r,(0,t.jsxs)(b.CardDescription,{className:"text-sm",children:[y.length," séance",N," en attente"]})]}),f[5]=y.length,f[6]=N,f[7]=i):i=f[7],f[8]!==y.length?(n=(0,t.jsx)(eN.Badge,{variant:"destructive",className:"text-sm sm:text-base px-2.5 sm:px-3 py-1 w-fit",children:y.length}),f[8]=y.length,f[9]=n):n=f[9],f[10]!==i||f[11]!==n?(a=(0,t.jsx)(b.CardHeader,{children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[i,n]})}),f[10]=i,f[11]=n,f[12]=a):a=f[12],f[13]!==y){let e;f[15]===Symbol.for("react.memo_cache_sentinel")?(e=e=>{let s=e.date||e.dateDebut;return s?(0,t.jsx)("div",{className:"p-3 sm:p-4 border border-orange-200 bg-orange-50 rounded-lg hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsx)(eN.Badge,{variant:"outline",className:"bg-white text-xs sm:text-sm",children:e.type||"Entraînement"}),(0,t.jsx)("h4",{className:"font-medium text-sm sm:text-base",children:(0,ex.format)(new Date(s),"EEEE dd MMMM",{locale:ep.fr})})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 sm:gap-3 text-xs sm:text-sm text-slate-600",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(eC.Clock,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),(0,t.jsx)("span",{children:(0,ex.format)(new Date(s),"HH:mm")})]}),e.lieu&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(ew.MapPin,{className:"h-3.5 w-3.5 sm:h-4 sm:w-4"}),(0,t.jsx)("span",{className:"line-clamp-1",children:e.lieu})]})]}),e.description&&(0,t.jsx)("p",{className:"text-xs sm:text-sm text-slate-600 line-clamp-2",children:e.description})]}),(0,t.jsx)(_.Button,{onClick:()=>S(e),className:"shrink-0 h-9 sm:h-10 text-sm sm:text-base px-3 sm:px-4",children:"Saisir RPE"})]})},e.id||e.seance_id):(console.error("Session sans date:",e),null)},f[15]=e):e=f[15],l=y.map(e),f[13]=y,f[14]=l}else l=f[14];f[16]!==l?(o=(0,t.jsx)(b.CardContent,{children:(0,t.jsx)("div",{className:"space-y-3",children:l})}),f[16]=l,f[17]=o):o=f[17],f[18]!==a||f[19]!==o?(c=(0,t.jsxs)(b.Card,{children:[a,o]}),f[18]=a,f[19]=o,f[20]=c):c=f[20];let C=!!j;return f[21]===Symbol.for("react.memo_cache_sentinel")?(d=e=>!e&&S(null),f[21]=d):d=f[21],f[22]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsxs)(eR.DialogHeader,{children:[(0,t.jsx)(eR.DialogTitle,{className:"text-lg sm:text-xl",children:"Saisir votre RPE"}),(0,t.jsx)(eR.DialogDescription,{className:"text-sm",children:"Évaluez votre perception de l'effort pour cette séance"})]}),f[22]=m):m=f[22],f[23]!==j?(u=j&&(0,t.jsx)(eT,{session:j,onSuccess:()=>S(null)}),f[23]=j,f[24]=u):u=f[24],f[25]!==u?(h=(0,t.jsxs)(eR.DialogContent,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[m,u]}),f[25]=u,f[26]=h):h=f[26],f[27]!==h||f[28]!==C?(x=(0,t.jsx)(eR.Dialog,{open:C,onOpenChange:d,children:h}),f[27]=h,f[28]=C,f[29]=x):x=f[29],f[30]!==x||f[31]!==c?(p=(0,t.jsxs)(t.Fragment,{children:[c,x]}),f[30]=x,f[31]=c,f[32]=p):p=f[32],p}function eA(){let e,i,n,a,l,o,c,m,u=(0,s.c)(19),{currentTeam:h}=(0,r.useTeamStore)(),{history:x,isLoadingHistory:f}=d(h?.id),{pending:y,isLoadingPending:g}=p(h?.id);return u[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Mes Données"}),(0,t.jsx)("p",{className:"text-sm sm:text-base text-slate-600 mt-1",children:"Saisissez et consultez vos données quotidiennes"})]}),u[0]=e):e=u[0],u[1]!==g||u[2]!==y?(i=(0,t.jsx)(ek,{sessions:y,isLoading:g}),u[1]=g,u[2]=y,u[3]=i):i=u[3],u[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,t.jsx)(q,{}),u[4]=n):n=u[4],u[5]!==x?(a=x||[],u[5]=x,u[6]=a):a=u[6],u[7]!==f||u[8]!==a?(l=(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n,(0,t.jsx)(ef,{data:a,isLoading:f})]}),u[7]=f,u[8]=a,u[9]=l):l=u[9],u[10]!==x?(o=x||[],u[10]=x,u[11]=o):o=u[11],u[12]!==f||u[13]!==o?(c=(0,t.jsx)(eb,{data:o,isLoading:f}),u[12]=f,u[13]=o,u[14]=c):c=u[14],u[15]!==i||u[16]!==l||u[17]!==c?(m=(0,t.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6 sm:space-y-8",children:[e,i,l,c]}),u[15]=i,u[16]=l,u[17]=c,u[18]=m):m=u[18],m}e.s(["default",()=>eA],48938)}]);