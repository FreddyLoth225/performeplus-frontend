(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,90839,e=>{"use strict";var t=e.i(43476),s=e.i(932),a=e.i(29228),r=e.i(55706),i=e.i(9694),l=e.i(75225),n=e.i(85183),c=e.i(93230),o=e.i(72526),d=e.i(34239),m=e.i(31195),x=e.i(22787),h=e.i(70065),u=e.i(1851),f=e.i(40165);let j=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#84cc16","#f97316","#6366f1"];function p(e){let x,u,f,j,p,v,k,D,T,A,L,q=(0,s.c)(22),{chargeEquipeData:R,distributionRpe:P,indiceFormeMoyenData:z,isLoading:B}=e;q[0]!==R?(x=R.map(S),q[0]=R,q[1]=x):x=q[1];let H=x;q[2]!==z?(u=z.map(w),q[2]=z,q[3]=u):u=q[3];let M=u;q[4]!==P?(f=Object.entries(P).map(_).sort(N),q[4]=P,q[5]=f):f=q[5];let F=f;if(B){let e;return q[6]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:(0,t.jsx)(h.Card,{className:"lg:col-span-2",children:(0,t.jsx)(h.CardContent,{className:"h-80 flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-pulse text-slate-400",children:"Chargement..."})})})}),q[6]=e):e=q[6],e}return q[7]===Symbol.for("react.memo_cache_sentinel")?(j=(0,t.jsxs)(h.CardHeader,{children:[(0,t.jsx)(h.CardTitle,{className:"text-base sm:text-lg",children:"Charge Totale Équipe"}),(0,t.jsx)(h.CardDescription,{className:"text-xs sm:text-sm",children:"Charge d'entraînement quotidienne de l'équipe"})]}),q[7]=j):j=q[7],q[8]!==H?(p=(0,t.jsxs)(h.Card,{children:[j,(0,t.jsx)(h.CardContent,{children:0===H.length?(0,t.jsx)("div",{className:"h-64 flex items-center justify-center text-slate-500 text-sm",children:"Aucune donnée disponible"}):(0,t.jsx)(m.ResponsiveContainer,{width:"100%",height:280,children:(0,t.jsxs)(a.LineChart,{data:H,children:[(0,t.jsx)(o.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),(0,t.jsx)(n.XAxis,{dataKey:"dateFormatted",stroke:"#64748b",fontSize:12,tickLine:!1}),(0,t.jsx)(c.YAxis,{stroke:"#64748b",fontSize:12,tickLine:!1,label:{value:"Charge Totale",angle:-90,position:"insideLeft",fontSize:12}}),(0,t.jsx)(d.Tooltip,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},formatter:y}),(0,t.jsx)(r.Line,{type:"monotone",dataKey:"charge",stroke:"#3b82f6",strokeWidth:3,dot:{r:5,fill:"#3b82f6"},activeDot:{r:7}})]})})})]}),q[8]=H,q[9]=p):p=q[9],q[10]===Symbol.for("react.memo_cache_sentinel")?(v=(0,t.jsxs)(h.CardHeader,{children:[(0,t.jsx)(h.CardTitle,{className:"text-base sm:text-lg",children:"Distribution RPE"}),(0,t.jsx)(h.CardDescription,{className:"text-xs sm:text-sm",children:"Répartition des valeurs RPE saisies"})]}),q[10]=v):v=q[10],q[11]!==F?(k=(0,t.jsxs)(h.Card,{children:[v,(0,t.jsx)(h.CardContent,{children:0===F.length?(0,t.jsx)("div",{className:"h-64 flex items-center justify-center text-slate-500 text-sm",children:"Aucune donnée disponible"}):(0,t.jsx)(m.ResponsiveContainer,{width:"100%",height:250,children:(0,t.jsxs)(i.BarChart,{data:F,children:[(0,t.jsx)(o.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),(0,t.jsx)(n.XAxis,{dataKey:"rpe",stroke:"#64748b",fontSize:11,tickLine:!1,angle:-45,textAnchor:"end",height:60}),(0,t.jsx)(c.YAxis,{stroke:"#64748b",fontSize:12,tickLine:!1,label:{value:"Nombre",angle:-90,position:"insideLeft",fontSize:12}}),(0,t.jsx)(d.Tooltip,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},formatter:C}),(0,t.jsx)(l.Bar,{dataKey:"count",radius:[8,8,0,0],children:F.map(g)})]})})})]}),q[11]=F,q[12]=k):k=q[12],q[13]===Symbol.for("react.memo_cache_sentinel")?(D=(0,t.jsxs)(h.CardHeader,{children:[(0,t.jsx)(h.CardTitle,{className:"text-base sm:text-lg",children:"Indice de Forme Moyen"}),(0,t.jsx)(h.CardDescription,{className:"text-xs sm:text-sm",children:"Évolution de la moyenne équipe"})]}),q[13]=D):D=q[13],q[14]!==M?(T=(0,t.jsxs)(h.Card,{children:[D,(0,t.jsx)(h.CardContent,{children:0===M.length?(0,t.jsx)("div",{className:"h-64 flex items-center justify-center text-slate-500 text-sm",children:"Aucune donnée disponible"}):(0,t.jsx)(m.ResponsiveContainer,{width:"100%",height:250,children:(0,t.jsxs)(a.LineChart,{data:M,children:[(0,t.jsx)(o.CartesianGrid,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),(0,t.jsx)(n.XAxis,{dataKey:"dateFormatted",stroke:"#64748b",fontSize:12,tickLine:!1}),(0,t.jsx)(c.YAxis,{stroke:"#64748b",fontSize:12,tickLine:!1,domain:[0,28],label:{value:"Score Moyen",angle:-90,position:"insideLeft",fontSize:12}}),(0,t.jsx)(d.Tooltip,{contentStyle:{backgroundColor:"white",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"12px"},formatter:b}),(0,t.jsx)(r.Line,{type:"monotone",dataKey:"moyenne",stroke:"#10b981",strokeWidth:3,dot:{r:5,fill:"#10b981"},activeDot:{r:7}})]})})})]}),q[14]=M,q[15]=T):T=q[15],q[16]!==k||q[17]!==T?(A=(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[k,T]}),q[16]=k,q[17]=T,q[18]=A):A=q[18],q[19]!==A||q[20]!==p?(L=(0,t.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[p,A]}),q[19]=A,q[20]=p,q[21]=L):L=q[21],L}function b(e){return[e.toFixed(1),"Score"]}function g(e,s){return(0,t.jsx)(x.Cell,{fill:j[s%j.length]},`cell-${s}`)}function C(e){return[e,"Occurrences"]}function y(e){return[`${e.toFixed(0)} UA`,"Charge"]}function N(e,t){return e.rpeValue-t.rpeValue}function _(e){let[t,s]=e;return{rpe:`RPE ${t}`,count:s,rpeValue:parseInt(t)}}function w(e){return{...e,dateFormatted:(0,u.format)(new Date(e.date),"dd MMM",{locale:f.fr})}}function S(e){return{...e,dateFormatted:(0,u.format)(new Date(e.date),"dd MMM",{locale:f.fr})}}e.s(["TeamCharts",()=>p])},29576,e=>{"use strict";var t=e.i(43476),s=e.i(932),a=e.i(95727),r=e.i(1851),i=e.i(40165),l=e.i(38552),n=e.i(61173),c=e.i(8655),o=e.i(90839),d=e.i(70065),m=e.i(67881),x=e.i(61911),h=e.i(87316),u=e.i(45423),f=e.i(25652),j=e.i(7233),p=e.i(31278);function b(){let e,r,i,b,k,D,T,A,L,q,R,P,z,B,H,M,F,K,U,O,V,$,E,G,I,X,Y,J,W,Q,Z,ee,et,es,ea,er,ei,el,en=(0,s.c)(72),{currentTeam:ec}=(0,l.useTeamStore)(),{data:eo,isLoading:ed}=(0,n.useDashboardStaff)(ec?.id);ec?.id;e:{let t;if(!ec?.id){e=void 0;break e}if(en[0]===Symbol.for("react.memo_cache_sentinel")){let e=new Date;t={date_debut:e.toISOString(),date_fin:(0,a.addDays)(e,7).toISOString()},en[0]=t}else t=en[0];e=t}let em=e,{data:ex,isLoading:eh}=(0,c.useSessions)(ec?.id||"",em);t:{let e;if(!ex){let e;en[1]===Symbol.for("react.memo_cache_sentinel")?(e=[],en[1]=e):e=en[1],r=e;break t}en[2]!==ex?(e=[...ex].filter(v).sort(S).slice(0,5),en[2]=ex,en[3]=e):e=en[3],r=e}let eu=r;en[4]!==eo?.alertes.alertes_urgentes?(i=eo?.alertes.alertes_urgentes||[],en[4]=eo?.alertes.alertes_urgentes,en[5]=i):i=en[5];let ef=i,ej="number"==typeof eo?.equipe.joueurs_actifs?eo.equipe.joueurs_actifs:null,ep="number"==typeof eo?.kpis.seances_semaine?eo.kpis.seances_semaine:null;en[6]!==eo?(b="number"==typeof eo?.kpis.charge_totale_periode?Math.round(eo.kpis.charge_totale_periode):null,en[6]=eo,en[7]=b):b=en[7];let eb=b,eg="number"==typeof eo?.alertes.total?eo.alertes.total:null,eC="number"==typeof eo?.alertes.critiques?eo.alertes.critiques:null;if(ed){let e;return en[8]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,t.jsx)(p.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}),en[8]=e):e=en[8],e}en[9]===Symbol.for("react.memo_cache_sentinel")?(k=(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"Tableau de bord Staff"}),en[9]=k):k=en[9];let ey=ec?.nom;en[10]!==ey?(D=(0,t.jsxs)("div",{children:[k,(0,t.jsx)("p",{className:"text-slate-600 mt-1",children:ey})]}),en[10]=ey,en[11]=D):D=en[11],en[12]===Symbol.for("react.memo_cache_sentinel")?(T=(0,t.jsxs)(m.Button,{className:"w-full sm:w-auto",onClick:w,children:[(0,t.jsx)(j.Plus,{className:"mr-2 h-4 w-4"}),"Nouvelle Séance"]}),en[12]=T):T=en[12],en[13]!==D?(A=(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[D,T]}),en[13]=D,en[14]=A):A=en[14],en[15]===Symbol.for("react.memo_cache_sentinel")?(L=(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(d.CardTitle,{className:"text-sm font-medium text-slate-600",children:"Joueurs Actifs"}),(0,t.jsx)(x.Users,{className:"h-4 w-4 text-slate-600"})]}),en[15]=L):L=en[15];let eN=null!=ej?ej:"--";en[16]!==eN?(q=(0,t.jsx)("div",{className:"text-2xl font-bold",children:eN}),en[16]=eN,en[17]=q):q=en[17],en[18]===Symbol.for("react.memo_cache_sentinel")?(R=(0,t.jsx)("p",{className:"text-xs text-success mt-1",children:"Dans l'équipe"}),en[18]=R):R=en[18],en[19]!==q?(P=(0,t.jsxs)(d.Card,{children:[L,(0,t.jsxs)(d.CardContent,{children:[q,R]})]}),en[19]=q,en[20]=P):P=en[20],en[21]===Symbol.for("react.memo_cache_sentinel")?(z=(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(d.CardTitle,{className:"text-sm font-medium text-slate-600",children:"Séances (7j)"}),(0,t.jsx)(h.Calendar,{className:"h-4 w-4 text-slate-600"})]}),en[21]=z):z=en[21];let e_=null!=ep?ep:"--";en[22]!==e_?(B=(0,t.jsx)("div",{className:"text-2xl font-bold",children:e_}),en[22]=e_,en[23]=B):B=en[23],en[24]===Symbol.for("react.memo_cache_sentinel")?(H=(0,t.jsx)("p",{className:"text-xs text-slate-600 mt-1",children:"Cette semaine"}),en[24]=H):H=en[24],en[25]!==B?(M=(0,t.jsxs)(d.Card,{children:[z,(0,t.jsxs)(d.CardContent,{children:[B,H]})]}),en[25]=B,en[26]=M):M=en[26];let ew=eg?"border-warning":"";en[27]===Symbol.for("react.memo_cache_sentinel")?(F=(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(d.CardTitle,{className:"text-sm font-medium text-slate-600",children:"Alertes Actives"}),(0,t.jsx)(u.Bell,{className:"h-4 w-4 text-warning"})]}),en[27]=F):F=en[27];let eS=null!=eg?eg:"--";en[28]!==eS?(K=(0,t.jsx)("div",{className:"text-2xl font-bold text-warning",children:eS}),en[28]=eS,en[29]=K):K=en[29];let ev=eC?`${eC} critique(s)`:"Aucune alerte";en[30]!==ev?(U=(0,t.jsx)("p",{className:"text-xs text-slate-600 mt-1",children:ev}),en[30]=ev,en[31]=U):U=en[31],en[32]!==K||en[33]!==U?(O=(0,t.jsxs)(d.CardContent,{children:[K,U]}),en[32]=K,en[33]=U,en[34]=O):O=en[34],en[35]!==ew||en[36]!==O?(V=(0,t.jsxs)(d.Card,{className:ew,children:[F,O]}),en[35]=ew,en[36]=O,en[37]=V):V=en[37],en[38]===Symbol.for("react.memo_cache_sentinel")?($=(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(d.CardTitle,{className:"text-sm font-medium text-slate-600",children:"Charge Totale"}),(0,t.jsx)(f.TrendingUp,{className:"h-4 w-4 text-slate-600"})]}),en[38]=$):$=en[38];let ek=null!=eb?`${eb} UA`:"--";return en[39]!==ek?(E=(0,t.jsx)("div",{className:"text-2xl font-bold",children:ek}),en[39]=ek,en[40]=E):E=en[40],en[41]===Symbol.for("react.memo_cache_sentinel")?(G=(0,t.jsx)("p",{className:"text-xs text-slate-600 mt-1",children:"Sur la période"}),en[41]=G):G=en[41],en[42]!==E?(I=(0,t.jsxs)(d.Card,{children:[$,(0,t.jsxs)(d.CardContent,{children:[E,G]})]}),en[42]=E,en[43]=I):I=en[43],en[44]!==P||en[45]!==M||en[46]!==V||en[47]!==I?(X=(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6",children:[P,M,V,I]}),en[44]=P,en[45]=M,en[46]=V,en[47]=I,en[48]=X):X=en[48],en[49]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,t.jsxs)(d.CardHeader,{children:[(0,t.jsx)(d.CardTitle,{children:"Alertes Récentes"}),(0,t.jsx)(d.CardDescription,{children:"Surveillez l'état de vos joueurs"})]}),en[49]=Y):Y=en[49],en[50]!==ef?(J=(0,t.jsxs)(d.Card,{className:"lg:col-span-2",children:[Y,(0,t.jsx)(d.CardContent,{children:ef.length>0?(0,t.jsx)("div",{className:"space-y-3 sm:space-y-4",children:ef.map(_)}):(0,t.jsxs)("div",{className:"text-center py-8 text-slate-500",children:[(0,t.jsx)(u.Bell,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),(0,t.jsx)("p",{children:"Aucune alerte pour le moment"}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"Les alertes apparaîtront ici automatiquement"})]})})]}),en[50]=ef,en[51]=J):J=en[51],en[52]===Symbol.for("react.memo_cache_sentinel")?(W=(0,t.jsx)(d.CardHeader,{children:(0,t.jsx)(d.CardTitle,{children:"Actions Rapides"})}),en[52]=W):W=en[52],en[53]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,t.jsxs)(m.Button,{className:"w-full justify-start h-11",variant:"outline",onClick:N,children:[(0,t.jsx)(h.Calendar,{className:"mr-2 h-4 w-4"}),"Planifier Séance"]}),en[53]=Q):Q=en[53],en[54]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,t.jsxs)(m.Button,{className:"w-full justify-start h-11",variant:"outline",onClick:y,children:[(0,t.jsx)(x.Users,{className:"mr-2 h-4 w-4"}),"Voir Joueurs"]}),en[54]=Z):Z=en[54],en[55]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,t.jsxs)(m.Button,{className:"w-full justify-start h-11",variant:"outline",onClick:C,children:[(0,t.jsx)(u.Bell,{className:"mr-2 h-4 w-4"}),"Voir Alertes"]}),en[55]=ee):ee=en[55],en[56]===Symbol.for("react.memo_cache_sentinel")?(et=(0,t.jsxs)(d.Card,{children:[W,(0,t.jsxs)(d.CardContent,{className:"space-y-2 sm:space-y-3",children:[Q,Z,ee,(0,t.jsxs)(m.Button,{className:"w-full justify-start h-11",variant:"outline",disabled:!0,children:[(0,t.jsx)(f.TrendingUp,{className:"mr-2 h-4 w-4"}),"Générer Rapport"]})]})]}),en[56]=et):et=en[56],en[57]!==J?(es=(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[J,et]}),en[57]=J,en[58]=es):es=en[58],en[59]===Symbol.for("react.memo_cache_sentinel")?(ea=(0,t.jsxs)(d.CardHeader,{children:[(0,t.jsx)(d.CardTitle,{children:"Séances à Venir"}),(0,t.jsx)(d.CardDescription,{children:"Planning de la semaine"})]}),en[59]=ea):ea=en[59],en[60]!==eh||en[61]!==eu?(er=(0,t.jsxs)(d.Card,{children:[ea,(0,t.jsx)(d.CardContent,{children:eh?(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)(p.Loader2,{className:"h-6 w-6 animate-spin text-primary"})}):eu.length>0?(0,t.jsx)("div",{className:"space-y-4",children:eu.map(g)}):(0,t.jsxs)("div",{className:"text-center py-8 text-slate-500",children:[(0,t.jsx)(h.Calendar,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),(0,t.jsx)("p",{children:"Aucune séance planifiée"}),(0,t.jsxs)(m.Button,{className:"mt-4",variant:"outline",children:[(0,t.jsx)(j.Plus,{className:"mr-2 h-4 w-4"}),"Créer une séance"]})]})})]}),en[60]=eh,en[61]=eu,en[62]=er):er=en[62],en[63]!==eo||en[64]!==ed?(ei=eo?.graphiques&&(0,t.jsx)(o.TeamCharts,{chargeEquipeData:eo.graphiques.charge_equipe||[],distributionRpe:eo.graphiques.distribution_rpe||{},indiceFormeMoyenData:eo.graphiques.indice_forme_moyen||[],isLoading:ed}),en[63]=eo,en[64]=ed,en[65]=ei):ei=en[65],en[66]!==X||en[67]!==es||en[68]!==er||en[69]!==ei||en[70]!==A?(el=(0,t.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8 space-y-6 lg:space-y-8",children:[A,X,es,er,ei]}),en[66]=X,en[67]=es,en[68]=er,en[69]=ei,en[70]=A,en[71]=el):el=en[71],el}function g(e){return(0,t.jsx)("div",{className:"border rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-slate-900",children:e.type}),(0,t.jsx)("p",{className:"text-sm text-slate-600",children:(0,r.format)(new Date(e.dateDebut),"PPP p",{locale:i.fr})})]}),(0,t.jsx)("span",{className:"text-sm text-slate-500",children:e.lieu||"Lieu à confirmer"})]})},e.id)}function C(){return window.location.href="/dashboard/alerts"}function y(){return window.location.href="/dashboard/players"}function N(){return window.location.href="/dashboard/sessions"}function _(e){return(0,t.jsxs)("div",{className:"border rounded-lg p-3 sm:p-4 flex flex-col gap-1",children:[(0,t.jsxs)("div",{className:"flex items-start sm:items-center justify-between gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-slate-900",children:e.message}),(0,t.jsx)("span",{className:"text-xs uppercase text-warning",children:e.niveau})]}),(0,t.jsxs)("div",{className:"text-xs text-slate-600 flex items-center justify-between",children:[(0,t.jsx)("span",{children:e.joueur||"Équipe entière"}),(0,t.jsx)("span",{children:(0,r.format)(new Date(e.date),"PPP p",{locale:i.fr})})]})]},e.id)}function w(){return window.location.href="/dashboard/sessions"}function S(e,t){return new Date(e.dateDebut).getTime()-new Date(t.dateDebut).getTime()}function v(e){return new Date(e.dateDebut)>=new Date}e.s(["default",()=>b])}]);