(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,66027,86491,e=>{"use strict";let t;var s=e.i(75555),r=e.i(40143);e.i(47167);var i=e.i(19273),a=e.i(36553),n=e.i(88587),u=class extends n.Removable{#e;#t;#s;#r;#i;#a;#n;constructor(e){super(),this.#n=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#s=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=h(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){let e=h(this.options);void 0!==e.data&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#s.remove(this)}setData(e,t){let s=(0,i.replaceData)(this.state.data,e,this.options);return this.#u({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#u({type:"setState",state:e,setStateOptions:t})}cancel(e){let t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(i.noop).catch(i.noop):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>!1!==(0,i.resolveEnabled)(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===i.skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===(0,i.resolveStaleTime)(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!(0,i.timeUntilStale)(this.state.dataUpdatedAt,e))}onFocus(){let e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){let e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#n?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#u({type:"invalidate"})}async fetch(e,t){let s;if("idle"!==this.state.fetchStatus&&this.#i?.status()!=="rejected"){if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){let e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}let r=new AbortController,n=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#n=!0,r.signal)})},u=()=>{let e,s=(0,i.ensureQueryFn)(this.options,t),r=(n(e={client:this.#r,queryKey:this.queryKey,meta:this.meta}),e);return(this.#n=!1,this.options.persister)?this.options.persister(s,r,this):s(r)},o=(n(s={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:u}),s);this.options.behavior?.onFetch(o,this),this.#t=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#u({type:"fetch",meta:o.fetchOptions?.meta}),this.#i=(0,a.createRetryer)({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:e=>{e instanceof a.CancelledError&&e.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(e,t)=>{this.#u({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#u({type:"pause"})},onContinue:()=>{this.#u({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{let e=await this.#i.start();if(void 0===e)throw Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#s.config.onSuccess?.(e,this),this.#s.config.onSettled?.(e,this.state.error,this),e}catch(e){if(e instanceof a.CancelledError){if(e.silent)return this.#i.promise;else if(e.revert){if(void 0===this.state.data)throw e;return this.state.data}}throw this.#u({type:"error",error:e}),this.#s.config.onError?.(e,this),this.#s.config.onSettled?.(this.state.data,e,this),e}finally{this.scheduleGc()}}#u(e){let t=t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...o(t.data,this.options),fetchMeta:e.meta??null};case"success":let s={...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?s:void 0,s;case"error":let r=e.error;return{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}};this.state=t(this.state),r.notifyManager.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function o(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(0,a.canFetch)(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}function h(e){let t="function"==typeof e.initialData?e.initialData():e.initialData,s=void 0!==t,r=s?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}e.s(["Query",()=>u,"fetchState",()=>o],86491);var l=e.i(15823),c=e.i(93803),d=e.i(80166),f=class extends l.Subscribable{constructor(e,t){super(),this.options=t,this.#r=e,this.#o=null,this.#h=(0,c.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#r;#l=void 0;#c=void 0;#d=void 0;#f;#p;#h;#o;#y;#m;#g;#v;#b;#R;#S=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#l.addObserver(this),p(this.#l,this.options)?this.#C():this.updateResult(),this.#Q())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return y(this.#l,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return y(this.#l,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#O(),this.#q(),this.#l.removeObserver(this)}setOptions(e){let t=this.options,s=this.#l;if(this.options=this.#r.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,i.resolveEnabled)(this.options.enabled,this.#l))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#l.setOptions(this.options),t._defaulted&&!(0,i.shallowEqualObjects)(this.options,t)&&this.#r.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#l,observer:this});let r=this.hasListeners();r&&m(this.#l,s,this.options,t)&&this.#C(),this.updateResult(),r&&(this.#l!==s||(0,i.resolveEnabled)(this.options.enabled,this.#l)!==(0,i.resolveEnabled)(t.enabled,this.#l)||(0,i.resolveStaleTime)(this.options.staleTime,this.#l)!==(0,i.resolveStaleTime)(t.staleTime,this.#l))&&this.#T();let a=this.#I();r&&(this.#l!==s||(0,i.resolveEnabled)(this.options.enabled,this.#l)!==(0,i.resolveEnabled)(t.enabled,this.#l)||a!==this.#R)&&this.#E(a)}getOptimisticResult(e){var t,s;let r=this.#r.getQueryCache().build(this.#r,e),a=this.createResult(r,e);return t=this,s=a,(0,i.shallowEqualObjects)(t.getCurrentResult(),s)||(this.#d=a,this.#p=this.options,this.#f=this.#l.state),a}getCurrentResult(){return this.#d}trackResult(e,t){return new Proxy(e,{get:(e,s)=>(this.trackProp(s),t?.(s),"promise"===s&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#h.status||this.#h.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,s))})}trackProp(e){this.#S.add(e)}getCurrentQuery(){return this.#l}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#r.defaultQueryOptions(e),s=this.#r.getQueryCache().build(this.#r,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#C({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#d))}#C(e){this.#w();let t=this.#l.fetch(this.options,e);return e?.throwOnError||(t=t.catch(i.noop)),t}#T(){this.#O();let e=(0,i.resolveStaleTime)(this.options.staleTime,this.#l);if(i.isServer||this.#d.isStale||!(0,i.isValidTimeout)(e))return;let t=(0,i.timeUntilStale)(this.#d.dataUpdatedAt,e);this.#v=d.timeoutManager.setTimeout(()=>{this.#d.isStale||this.updateResult()},t+1)}#I(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#l):this.options.refetchInterval)??!1}#E(e){this.#q(),this.#R=e,!i.isServer&&!1!==(0,i.resolveEnabled)(this.options.enabled,this.#l)&&(0,i.isValidTimeout)(this.#R)&&0!==this.#R&&(this.#b=d.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||s.focusManager.isFocused())&&this.#C()},this.#R))}#Q(){this.#T(),this.#E(this.#I())}#O(){this.#v&&(d.timeoutManager.clearTimeout(this.#v),this.#v=void 0)}#q(){this.#b&&(d.timeoutManager.clearInterval(this.#b),this.#b=void 0)}createResult(e,t){let s,r=this.#l,a=this.options,n=this.#d,u=this.#f,h=this.#p,l=e!==r?e.state:this.#c,{state:d}=e,f={...d},y=!1;if(t._optimisticResults){let s=this.hasListeners(),i=!s&&p(e,t),n=s&&m(e,r,t,a);(i||n)&&(f={...f,...o(d.data,e.options)}),"isRestoring"===t._optimisticResults&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:b,status:R}=f;s=f.data;let S=!1;if(void 0!==t.placeholderData&&void 0===s&&"pending"===R){let e;n?.isPlaceholderData&&t.placeholderData===h?.placeholderData?(e=n.data,S=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#g?.state.data,this.#g):t.placeholderData,void 0!==e&&(R="success",s=(0,i.replaceData)(n?.data,e,t),y=!0)}if(t.select&&void 0!==s&&!S)if(n&&s===u?.data&&t.select===this.#y)s=this.#m;else try{this.#y=t.select,s=t.select(s),s=(0,i.replaceData)(n?.data,s,t),this.#m=s,this.#o=null}catch(e){this.#o=e}this.#o&&(v=this.#o,s=this.#m,b=Date.now(),R="error");let C="fetching"===f.fetchStatus,Q="pending"===R,O="error"===R,q=Q&&C,w=void 0!==s,T={status:R,fetchStatus:f.fetchStatus,isPending:Q,isSuccess:"success"===R,isError:O,isInitialLoading:q,isLoading:q,data:s,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>l.dataUpdateCount||f.errorUpdateCount>l.errorUpdateCount,isFetching:C,isRefetching:C&&!Q,isLoadingError:O&&!w,isPaused:"paused"===f.fetchStatus,isPlaceholderData:y,isRefetchError:O&&w,isStale:g(e,t),refetch:this.refetch,promise:this.#h,isEnabled:!1!==(0,i.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===T.status?e.reject(T.error):void 0!==T.data&&e.resolve(T.data)},s=()=>{t(this.#h=T.promise=(0,c.pendingThenable)())},i=this.#h;switch(i.status){case"pending":e.queryHash===r.queryHash&&t(i);break;case"fulfilled":("error"===T.status||T.data!==i.value)&&s();break;case"rejected":("error"!==T.status||T.error!==i.reason)&&s()}}return T}updateResult(){let e=this.#d,t=this.createResult(this.#l,this.options);if(this.#f=this.#l.state,this.#p=this.options,void 0!==this.#f.data&&(this.#g=this.#l),(0,i.shallowEqualObjects)(t,e))return;this.#d=t;let s=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,s="function"==typeof t?t():t;if("all"===s||!s&&!this.#S.size)return!0;let r=new Set(s??this.#S);return this.options.throwOnError&&r.add("error"),Object.keys(this.#d).some(t=>this.#d[t]!==e[t]&&r.has(t))};this.#D({listeners:s()})}#w(){let e=this.#r.getQueryCache().build(this.#r,this.options);if(e===this.#l)return;let t=this.#l;this.#l=e,this.#c=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#Q()}#D(e){r.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#d)}),this.#r.getQueryCache().notify({query:this.#l,type:"observerResultsUpdated"})})}};function p(e,t){return!1!==(0,i.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&y(e,t,t.refetchOnMount)}function y(e,t,s){if(!1!==(0,i.resolveEnabled)(t.enabled,e)&&"static"!==(0,i.resolveStaleTime)(t.staleTime,e)){let r="function"==typeof s?s(e):s;return"always"===r||!1!==r&&g(e,t)}return!1}function m(e,t,s,r){return(e!==t||!1===(0,i.resolveEnabled)(r.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&g(e,s)}function g(e,t){return!1!==(0,i.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,i.resolveStaleTime)(t.staleTime,e))}var v=e.i(71645),b=e.i(12598);e.i(43476);var R=v.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),S=v.createContext(!1);S.Provider;var C=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function Q(e,t){return function(e,t,s){let a=v.useContext(S),n=v.useContext(R),u=(0,b.useQueryClient)(s),o=u.defaultQueryOptions(e);if(u.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=a?"isRestoring":"optimistic",o.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=o.staleTime;o.staleTime="function"==typeof t?(...s)=>e(t(...s)):e(t),"number"==typeof o.gcTime&&(o.gcTime=Math.max(o.gcTime,1e3))}(o.suspense||o.throwOnError||o.experimental_prefetchInRender)&&!n.isReset()&&(o.retryOnMount=!1),v.useEffect(()=>{n.clearReset()},[n]);let h=!u.getQueryCache().get(o.queryHash),[l]=v.useState(()=>new t(u,o)),c=l.getOptimisticResult(o),d=!a&&!1!==e.subscribed;if(v.useSyncExternalStore(v.useCallback(e=>{let t=d?l.subscribe(r.notifyManager.batchCalls(e)):i.noop;return l.updateResult(),t},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),v.useEffect(()=>{l.setOptions(o)},[o,l]),o?.suspense&&c.isPending)throw C(o,l,n);if((({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(a&&void 0===e.data||(0,i.shouldThrowError)(s,[e.error,r])))({result:c,errorResetBoundary:n,throwOnError:o.throwOnError,query:u.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw c.error;if(u.getDefaultOptions().queries?._experimental_afterQuery?.(o,c),o.experimental_prefetchInRender&&!i.isServer&&c.isLoading&&c.isFetching&&!a){let e=h?C(o,l,n):u.getQueryCache().get(o.queryHash)?.promise;e?.catch(i.noop).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}(e,f,t)}e.s(["useQuery",()=>Q],66027)},18566,(e,t,s)=>{t.exports=e.r(76562)},58034,e=>{"use strict";var t=e.i(68834),s=e.i(79473);let r=(0,t.create)()((0,s.persist)(e=>({user:null,isAuthenticated:!1,setUser:t=>e({user:t,isAuthenticated:!!t}),logout:()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),e({user:null,isAuthenticated:!1})}}),{name:"auth-storage"}));e.s(["useAuthStore",0,r])},23933,e=>{"use strict";var t=e.i(15760);e.s(["authService",0,{async login(e){console.log("ðŸ” Tentative de connexion...",e.email);let s=await t.apiClient.post("/login/",e);return console.log("âœ… RÃ©ponse serveur:",s.data),s.data},register:async e=>(await t.apiClient.post("/register/",e)).data,verifyEmail:async e=>(await t.apiClient.get(`/verify-email/${e}/`)).data,requestPasswordReset:async e=>(await t.apiClient.post("/password-reset/request/",{email:e})).data,confirmPasswordReset:async(e,s)=>(await t.apiClient.post("/password-reset/confirm/",{token:e,password:s})).data,getCurrentUser:async()=>(await t.apiClient.get("/profil/")).data,async logout(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")}}])},96923,e=>{"use strict";var t=e.i(43476),s=e.i(932),r=e.i(12598),i=e.i(19273),a=e.i(86491),n=e.i(40143),u=e.i(15823),o=class extends u.Subscribable{constructor(e={}){super(),this.config=e,this.#M=new Map}#M;build(e,t,s){let r=t.queryKey,n=t.queryHash??(0,i.hashQueryKeyByOptions)(r,t),u=this.get(n);return u||(u=new a.Query({client:e,queryKey:r,queryHash:n,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(u)),u}add(e){this.#M.has(e.queryHash)||(this.#M.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#M.get(e.queryHash);t&&(e.destroy(),t===e&&this.#M.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){n.notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#M.get(e)}getAll(){return[...this.#M.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,i.matchQuery)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,i.matchQuery)(e,t)):t}notify(e){n.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){n.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){n.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},h=e.i(14272),l=u,c=class extends l.Subscribable{constructor(e={}){super(),this.config=e,this.#F=new Set,this.#P=new Map,this.#A=0}#F;#P;#A;build(e,t,s){let r=new h.Mutation({client:e,mutationCache:this,mutationId:++this.#A,options:e.defaultMutationOptions(t),state:s});return this.add(r),r}add(e){this.#F.add(e);let t=d(e);if("string"==typeof t){let s=this.#P.get(t);s?s.push(e):this.#P.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#F.delete(e)){let t=d(e);if("string"==typeof t){let s=this.#P.get(t);if(s)if(s.length>1){let t=s.indexOf(e);-1!==t&&s.splice(t,1)}else s[0]===e&&this.#P.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=d(e);if("string"!=typeof t)return!0;{let s=this.#P.get(t),r=s?.find(e=>"pending"===e.state.status);return!r||r===e}}runNext(e){let t=d(e);if("string"!=typeof t)return Promise.resolve();{let s=this.#P.get(t)?.find(t=>t!==e&&t.state.isPaused);return s?.continue()??Promise.resolve()}}clear(){n.notifyManager.batch(()=>{this.#F.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#F.clear(),this.#P.clear()})}getAll(){return Array.from(this.#F)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,i.matchMutation)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,i.matchMutation)(e,t))}notify(e){n.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return n.notifyManager.batch(()=>Promise.all(e.map(e=>e.continue().catch(i.noop))))}};function d(e){return e.options.scope?.id}var f=e.i(75555),p=e.i(14448);function y(e){return{onFetch:(t,s)=>{let r=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,n=t.state.data?.pages||[],u=t.state.data?.pageParams||[],o={pages:[],pageParams:[]},h=0,l=async()=>{let s=!1,l=(0,i.ensureQueryFn)(t.options,t.fetchOptions),c=async(e,r,a)=>{let n;if(s)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);let u=(Object.defineProperty(n={client:t.client,queryKey:t.queryKey,pageParam:r,direction:a?"backward":"forward",meta:t.options.meta},"signal",{enumerable:!0,get:()=>(t.signal.aborted?s=!0:t.signal.addEventListener("abort",()=>{s=!0}),t.signal)}),n),o=await l(u),{maxPages:h}=t.options,c=a?i.addToStart:i.addToEnd;return{pages:c(e.pages,o,h),pageParams:c(e.pageParams,r,h)}};if(a&&n.length){let e="backward"===a,t={pages:n,pageParams:u},s=(e?function(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}:m)(r,t);o=await c(t,s,e)}else{let t=e??n.length;do{let e=0===h?u[0]??r.initialPageParam:m(r,o);if(h>0&&null==e)break;o=await c(o,e),h++}while(h<t)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(l,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=l}}}function m(e,{pages:t,pageParams:s}){let r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}let g=new class{#x;#U;#a;#k;#_;#K;#j;#H;constructor(e={}){this.#x=e.queryCache||new o,this.#U=e.mutationCache||new c,this.#a=e.defaultOptions||{},this.#k=new Map,this.#_=new Map,this.#K=0}mount(){this.#K++,1===this.#K&&(this.#j=f.focusManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#x.onFocus())}),this.#H=p.onlineManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#x.onOnline())}))}unmount(){this.#K--,0===this.#K&&(this.#j?.(),this.#j=void 0,this.#H?.(),this.#H=void 0)}isFetching(e){return this.#x.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#U.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#x.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),s=this.#x.build(this,t),r=s.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime((0,i.resolveStaleTime)(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#x.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,s){let r=this.defaultQueryOptions({queryKey:e}),a=this.#x.get(r.queryHash),n=a?.state.data,u=(0,i.functionalUpdate)(t,n);if(void 0!==u)return this.#x.build(this,r).setData(u,{...s,manual:!0})}setQueriesData(e,t,s){return n.notifyManager.batch(()=>this.#x.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,s)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#x.get(t.queryHash)?.state}removeQueries(e){let t=this.#x;n.notifyManager.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let s=this.#x;return n.notifyManager.batch(()=>(s.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let s={revert:!0,...t};return Promise.all(n.notifyManager.batch(()=>this.#x.findAll(e).map(e=>e.cancel(s)))).then(i.noop).catch(i.noop)}invalidateQueries(e,t={}){return n.notifyManager.batch(()=>(this.#x.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let s={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(n.notifyManager.batch(()=>this.#x.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,s);return s.throwOnError||(t=t.catch(i.noop)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(i.noop)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let s=this.#x.build(this,t);return s.isStaleByTime((0,i.resolveStaleTime)(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(i.noop).catch(i.noop)}fetchInfiniteQuery(e){return e.behavior=y(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(i.noop).catch(i.noop)}ensureInfiniteQueryData(e){return e.behavior=y(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return p.onlineManager.isOnline()?this.#U.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#x}getMutationCache(){return this.#U}getDefaultOptions(){return this.#a}setDefaultOptions(e){this.#a=e}setQueryDefaults(e,t){this.#k.set((0,i.hashKey)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#k.values()],s={};return t.forEach(t=>{(0,i.partialMatchKey)(e,t.queryKey)&&Object.assign(s,t.defaultOptions)}),s}setMutationDefaults(e,t){this.#_.set((0,i.hashKey)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#_.values()],s={};return t.forEach(t=>{(0,i.partialMatchKey)(e,t.mutationKey)&&Object.assign(s,t.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#a.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,i.hashQueryKeyByOptions)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===i.skipToken&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#a.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#x.clear(),this.#U.clear()}}({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,retry:1,refetchOnWindowFocus:!1}}});var v=e.i(71645),b=e.i(66027),R=e.i(23933),S=e.i(58034);function C(){let e,t,r,i,a,n=(0,s.c)(9),{user:u,setUser:o}=(0,S.useAuthStore)();n[0]===Symbol.for("react.memo_cache_sentinel")?(e=!!localStorage.getItem("access_token"),n[0]=e):e=n[0];let h=e;n[1]===Symbol.for("react.memo_cache_sentinel")?(t=["current-user"],n[1]=t):t=n[1];let l=h&&!u;n[2]!==l?(r={queryKey:t,queryFn:Q,enabled:l,retry:!1,staleTime:1/0},n[2]=l,n[3]=r):r=n[3];let{data:c}=(0,b.useQuery)(r);return n[4]!==c||n[5]!==o||n[6]!==u?(i=()=>{c&&!u&&o(c)},a=[c,u,o],n[4]=c,n[5]=o,n[6]=u,n[7]=i,n[8]=a):(i=n[7],a=n[8]),(0,v.useEffect)(i,a),null}function Q(){return R.authService.getCurrentUser()}function O(e){let i,a,n=(0,s.c)(3),{children:u}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(C,{}),n[0]=i):i=n[0],n[1]!==u?(a=(0,t.jsxs)(r.QueryClientProvider,{client:g,children:[i,u]}),n[1]=u,n[2]=a):a=n[2],a}e.s(["Providers",()=>O],96923)},8385,e=>{"use strict";var t=e.i(43476),s=e.i(932),r=e.i(71645),i=e.i(18566),a=e.i(58034),n=e.i(31278);let u=["/","/login","/register","/forgot-password"];function o(e){let o,h,l,c,d,f=(0,s.c)(13),{children:p}=e,y=(0,i.useRouter)(),m=(0,i.usePathname)(),{isAuthenticated:g}=(0,a.useAuthStore)(),[v,b]=(0,r.useState)(!0),[R,S]=(0,r.useState)(!1);if(f[0]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{S(!!localStorage.getItem("access_token")),b(!1)},h=[],f[0]=o,f[1]=h):(o=f[0],h=f[1]),(0,r.useEffect)(o,h),f[2]!==R||f[3]!==g||f[4]!==v||f[5]!==m||f[6]!==y?(l=()=>{v||(u.some(e=>m.startsWith(e))||R||y.push("/login"),("/login"===m||"/register"===m)&&R&&g&&y.push("/dashboard"))},c=[m,R,g,y,v],f[2]=R,f[3]=g,f[4]=v,f[5]=m,f[6]=y,f[7]=l,f[8]=c):(l=f[7],c=f[8]),(0,r.useEffect)(l,c),v){let e;return f[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-slate-50",children:(0,t.jsx)(n.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}),f[9]=e):e=f[9],e}if(!u.some(e=>m.startsWith(e))&&!R){let e;return f[10]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-slate-50",children:(0,t.jsx)(n.Loader2,{className:"h-8 w-8 animate-spin text-primary"})}),f[10]=e):e=f[10],e}return f[11]!==p?(d=(0,t.jsx)(t.Fragment,{children:p}),f[11]=p,f[12]=d):d=f[12],d}e.s(["AuthGuard",()=>o])}]);